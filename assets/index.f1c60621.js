import"./vue.e0db5cd7.js";import{Z as N,u as Gt,q as mt,C as l,b1 as Ne,aa as B,aE as g,a0 as x,a1 as u,aK as ke,G as re,t as E,aC as In,w as be,b2 as ye,a8 as m,ao as ci,O as X,ay as Mt,ar as Me,aG as vt,A as ae,_ as A,b6 as D,b8 as Wt,bs as fi,aq as Ue,bu as dt,bb as Yt,T as pi,a7 as F,j as mi,l as ne,bv as Nn,aL as $e,$ as P,J as R,aN as ie,I as de,aH as Ve,aF as Oe,z as Ee,bn as hi,br as gi,aJ as Tn,al as _t,H as vi,be as bi}from"./@vue.4ce677c2.js";import{i as yi}from"./is-plain-object.906d88e8.js";import{c as Fn}from"./nanoevents.1080beb7.js";import{L as Fe}from"./lz-string.731cedc5.js";import{Y as _i}from"./vue-next-select.2929f584.js";import{D as wi}from"./vuedraggable.5fc132aa.js";import{p as Ni}from"./vue-textarea-autosize.35804eaf.js";import{s as xi,u as Pn}from"./vue-toastification.c761b1cc.js";import{v as ki,n as Si}from"./workbox-window.60401ce8.js";import"./sortablejs.79f19b9d.js";const Mi=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};Mi();const $i="modulepreload",xn={},Ci="./",wt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=`${Ci}${i}`,i in xn)return;xn[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":$i,a||(s.as="script",s.crossOrigin=""),s.href=i,document.head.appendChild(s),a)return new Promise((r,c)=>{s.addEventListener("load",r),s.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},Ii="Infinite Softcaps",Ti="Infinite Softcaps",Fi="infinite-softcaps",Pi="rft50",Ei="",Vi="",Oi="0.2",Di="All That Matters",Ai=!0,Bi=!1,Li=2,qi=!0,Ui=null,Ri="",zi=["main"],ji=3600,Hi=1,Gi=!0,Wi="base64";var j={title:Ii,description:Ti,id:Fi,author:Pi,discordName:Ei,discordLink:Vi,versionNumber:Oi,versionTitle:Di,allowGoBack:Ai,defaultShowSmall:Bi,defaultDecimalsShown:Li,useHeader:qi,banner:Ui,logo:Ri,initialTabs:zi,maxTickLength:ji,offlineLimit:Hi,enablePausing:Gi,exportEncoding:Wi};const zt=17,Yi=9e15,Ki=Math.log10(9e15),Zi=1/9e15,Ji=308,Xi=-324,kn=5,Qi=function(){const e=[];for(let n=Xi+1;n<=Ji;n++)e.push(Number("1e"+n));const t=323;return function(n){return e[n+t]}}(),Ae=[2,Math.E,3,4,5,6,7,8,9,10],ea=[[1,1.0891168053867777,1.1789745164521264,1.2701428397304229,1.3632066654400328,1.4587804913784246,1.557523817412741,1.660158301473385,1.767487542936873,1.8804205225512542,2],[1,1.1121114330934,1.23103892493161,1.35838369631113,1.49605193039935,1.64635423375119,1.81213853570186,1.99697132461829,2.20538955455724,2.44325744833852,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.18422737399915,1.4066113788546144,1.680911177655277,2.027492094355525,2.4775152854601967,3.080455730250329,3.918234505962507,5.1332705696484595,6.9878696918072905,10]],ta=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]],p=function(t){return f.fromValue_noAlloc(t)},V=function(e,t,n){return f.fromComponents(e,t,n)},L=function(t,n,i){return f.fromComponents_noNormalize(t,n,i)},Ie=function(t,n){const i=n+1,a=Math.ceil(Math.log10(Math.abs(t))),o=Math.round(t*Math.pow(10,i-a))*Math.pow(10,a-i);return parseFloat(o.toFixed(Math.max(i-a,0)))},jt=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},na=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let t=1;for(;e<10;)t=t*e,++e;e-=1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let a=e;return n=n+1/(12*a),a=a*i,n=n+1/(360*a),a=a*i,n=n+1/(1260*a),a=a*i,n=n+1/(1680*a),a=a*i,n=n+1/(1188*a),a=a*i,n=n+691/(360360*a),a=a*i,n=n+7/(1092*a),a=a*i,n=n+3617/(122400*a),Math.exp(n)/t},En=.5671432904097838,Sn=function(e,t=1e-10){let n,i;if(!Number.isFinite(e)||e===0)return e;if(e===1)return En;e<10?n=0:n=Math.log(e)-Math.log(Math.log(e));for(let a=0;a<100;++a){if(i=(e*Math.exp(-n)+n*n)/(n+1),Math.abs(i-n)<t*Math.abs(i))return i;n=i}throw Error(`Iteration failed to converge: ${e.toString()}`)};function Mn(e,t=1e-10){let n,i,a,o;if(!Number.isFinite(e.mag)||e===f.dZero)return e;if(e===f.dOne)return p(En);f.abs(e),n=f.ln(e);for(let s=0;s<100;++s){if(i=f.exp(-n),a=n.sub(e.mul(i)),o=n.sub(a.div(n.add(1).sub(n.add(2).mul(a).div(f.mul(2,n).add(2))))),f.abs(o.sub(n)).lt(f.abs(o).mul(t)))return o;n=o}throw Error(`Iteration failed to converge: ${e.toString()}`)}const v=class{constructor(e){this.sign=Number.NaN,this.mag=Number.NaN,this.layer=Number.NaN,e instanceof v||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/Qi(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer,this.exponent))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,n){return new v().fromComponents(e,t,n)}static fromComponents_noNormalize(e,t,n){return new v().fromComponents_noNormalize(e,t,n)}static fromMantissaExponent(e,t){return new v().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new v().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new v().fromDecimal(e)}static fromNumber(e){return new v().fromNumber(e)}static fromString(e){return new v().fromString(e)}static fromValue(e){return new v().fromValue(e)}static fromValue_noAlloc(e){return e instanceof v?e:new v(e)}static abs(e){return p(e).abs()}static neg(e){return p(e).neg()}static negate(e){return p(e).neg()}static negated(e){return p(e).neg()}static sign(e){return p(e).sign}static sgn(e){return p(e).sign}static round(e){return p(e).round()}static floor(e){return p(e).floor()}static ceil(e){return p(e).ceil()}static trunc(e){return p(e).trunc()}static add(e,t){return p(e).add(t)}static plus(e,t){return p(e).add(t)}static sub(e,t){return p(e).sub(t)}static subtract(e,t){return p(e).sub(t)}static minus(e,t){return p(e).sub(t)}static mul(e,t){return p(e).mul(t)}static multiply(e,t){return p(e).mul(t)}static times(e,t){return p(e).mul(t)}static div(e,t){return p(e).div(t)}static divide(e,t){return p(e).div(t)}static recip(e){return p(e).recip()}static reciprocal(e){return p(e).recip()}static reciprocate(e){return p(e).reciprocate()}static cmp(e,t){return p(e).cmp(t)}static cmpabs(e,t){return p(e).cmpabs(t)}static compare(e,t){return p(e).cmp(t)}static isNaN(e){return e=p(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=p(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return p(e).eq(t)}static equals(e,t){return p(e).eq(t)}static neq(e,t){return p(e).neq(t)}static notEquals(e,t){return p(e).notEquals(t)}static lt(e,t){return p(e).lt(t)}static lte(e,t){return p(e).lte(t)}static gt(e,t){return p(e).gt(t)}static gte(e,t){return p(e).gte(t)}static max(e,t){return p(e).max(t)}static min(e,t){return p(e).min(t)}static minabs(e,t){return p(e).minabs(t)}static maxabs(e,t){return p(e).maxabs(t)}static clamp(e,t,n){return p(e).clamp(t,n)}static clampMin(e,t){return p(e).clampMin(t)}static clampMax(e,t){return p(e).clampMax(t)}static cmp_tolerance(e,t,n){return p(e).cmp_tolerance(t,n)}static compare_tolerance(e,t,n){return p(e).cmp_tolerance(t,n)}static eq_tolerance(e,t,n){return p(e).eq_tolerance(t,n)}static equals_tolerance(e,t,n){return p(e).eq_tolerance(t,n)}static neq_tolerance(e,t,n){return p(e).neq_tolerance(t,n)}static notEquals_tolerance(e,t,n){return p(e).notEquals_tolerance(t,n)}static lt_tolerance(e,t,n){return p(e).lt_tolerance(t,n)}static lte_tolerance(e,t,n){return p(e).lte_tolerance(t,n)}static gt_tolerance(e,t,n){return p(e).gt_tolerance(t,n)}static gte_tolerance(e,t,n){return p(e).gte_tolerance(t,n)}static pLog10(e){return p(e).pLog10()}static absLog10(e){return p(e).absLog10()}static log10(e){return p(e).log10()}static log(e,t){return p(e).log(t)}static log2(e){return p(e).log2()}static ln(e){return p(e).ln()}static logarithm(e,t){return p(e).logarithm(t)}static pow(e,t){return p(e).pow(t)}static pow10(e){return p(e).pow10()}static root(e,t){return p(e).root(t)}static factorial(e,t){return p(e).factorial()}static gamma(e,t){return p(e).gamma()}static lngamma(e,t){return p(e).lngamma()}static exp(e){return p(e).exp()}static sqr(e){return p(e).sqr()}static sqrt(e){return p(e).sqrt()}static cube(e){return p(e).cube()}static cbrt(e){return p(e).cbrt()}static tetrate(e,t=2,n=L(1,0,1)){return p(e).tetrate(t,n)}static iteratedexp(e,t=2,n=L(1,0,1)){return p(e).iteratedexp(t,n)}static iteratedlog(e,t=10,n=1){return p(e).iteratedlog(t,n)}static layeradd10(e,t){return p(e).layeradd10(t)}static layeradd(e,t,n=10){return p(e).layeradd(t,n)}static slog(e,t=10){return p(e).slog(t)}static lambertw(e){return p(e).lambertw()}static ssqrt(e){return p(e).ssqrt()}static pentate(e,t=2,n=L(1,0,1)){return p(e).pentate(t,n)}static affordGeometricSeries(e,t,n,i){return this.affordGeometricSeries_core(p(e),p(t),p(n),i)}static sumGeometricSeries(e,t,n,i){return this.sumGeometricSeries_core(e,p(t),p(n),i)}static affordArithmeticSeries(e,t,n,i){return this.affordArithmeticSeries_core(p(e),p(t),p(n),p(i))}static sumArithmeticSeries(e,t,n,i){return this.sumArithmeticSeries_core(p(e),p(t),p(n),p(i))}static efficiencyOfPurchase(e,t,n){return this.efficiencyOfPurchase_core(p(e),p(t),p(n))}static randomDecimalForTesting(e){if(Math.random()*20<1)return L(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return L(t,0,1);const n=Math.floor(Math.random()*(e+1));let i=n===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(i=Math.trunc(i));let a=Math.pow(10,i);return Math.random()>.9&&(a=Math.trunc(a)),V(t,n,a)}static affordGeometricSeries_core(e,t,n,i){const a=t.mul(n.pow(i));return v.floor(e.div(a).mul(n.sub(1)).add(1).log10().div(n.log10()))}static sumGeometricSeries_core(e,t,n,i){return t.mul(n.pow(i)).mul(v.sub(1,n.pow(e))).div(v.sub(1,n))}static affordArithmeticSeries_core(e,t,n,i){const o=t.add(i.mul(n)).sub(n.div(2)),s=o.pow(2);return o.neg().add(s.add(n.mul(e).mul(2)).sqrt()).div(n).floor()}static sumArithmeticSeries_core(e,t,n,i){const a=t.add(i.mul(n));return e.div(2).mul(a.mul(2).plus(e.sub(1).mul(n)))}static efficiencyOfPurchase_core(e,t,n){return e.div(t).add(e.div(n))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<Zi)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=Yi)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<Ki&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this.normalize(),this}fromComponents_noNormalize(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){e=e.replace(",","");const t=e.split("^^^");if(t.length===2){const h=parseFloat(t[0]),y=parseFloat(t[1]),k=t[1].split(";");let w=1;if(k.length===2&&(w=parseFloat(k[1]),isFinite(w)||(w=1)),isFinite(h)&&isFinite(y)){const q=v.pentate(h,y,w);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,this}}const n=e.split("^^");if(n.length===2){const h=parseFloat(n[0]),y=parseFloat(n[1]),k=n[1].split(";");let w=1;if(k.length===2&&(w=parseFloat(k[1]),isFinite(w)||(w=1)),isFinite(h)&&isFinite(y)){const q=v.tetrate(h,y,w);return this.sign=q.sign,this.layer=q.layer,this.mag=q.mag,this}}const i=e.split("^");if(i.length===2){const h=parseFloat(i[0]),y=parseFloat(i[1]);if(isFinite(h)&&isFinite(y)){const k=v.pow(h,y);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,this}}e=e.trim().toLowerCase();let a,o,s=e.split("pt");if(s.length===2){a=10,o=parseFloat(s[0]),s[1]=s[1].replace("(",""),s[1]=s[1].replace(")","");let h=parseFloat(s[1]);if(isFinite(h)||(h=1),isFinite(a)&&isFinite(o)){const y=v.tetrate(a,o,h);return this.sign=y.sign,this.layer=y.layer,this.mag=y.mag,this}}if(s=e.split("p"),s.length===2){a=10,o=parseFloat(s[0]),s[1]=s[1].replace("(",""),s[1]=s[1].replace(")","");let h=parseFloat(s[1]);if(isFinite(h)||(h=1),isFinite(a)&&isFinite(o)){const y=v.tetrate(a,o,h);return this.sign=y.sign,this.layer=y.layer,this.mag=y.mag,this}}const r=e.split("e"),c=r.length-1;if(c===0){const h=parseFloat(e);if(isFinite(h))return this.fromNumber(h)}else if(c===1){const h=parseFloat(e);if(isFinite(h)&&h!==0)return this.fromNumber(h)}const d=e.split("e^");if(d.length===2){this.sign=1,d[0].charAt(0)=="-"&&(this.sign=-1);let h="";for(let y=0;y<d[1].length;++y){const k=d[1].charCodeAt(y);if(k>=43&&k<=57||k===101)h+=d[1].charAt(y);else return this.layer=parseFloat(h),this.mag=parseFloat(d[1].substr(y+1)),this.normalize(),this}}if(c<1)return this.sign=0,this.layer=0,this.mag=0,this;const _=parseFloat(r[0]);if(_===0)return this.sign=0,this.layer=0,this.mag=0,this;let b=parseFloat(r[r.length-1]);if(c>=2){const h=parseFloat(r[r.length-2]);isFinite(h)&&(b*=Math.sign(h),b+=jt(h))}if(!isFinite(_))this.sign=r[0]==="-"?-1:1,this.layer=c,this.mag=b;else if(c===1)this.sign=Math.sign(_),this.layer=1,this.mag=b+Math.log10(Math.abs(_));else if(this.sign=Math.sign(_),this.layer=c,c===2){const h=v.mul(V(1,2,b),p(_));return this.sign=h.sign,this.layer=h.layer,this.mag=h.mag,this}else this.mag=b;return this.normalize(),this}fromValue(e){return e instanceof v||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:Ie(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:Ie(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=kn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):Ie(this.m,e)+"e"+Ie(this.e,e):this.layer===1?Ie(this.m,e)+"e"+Ie(this.e,e):this.layer<=kn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+Ie(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+Ie(this.mag,e)}abs(){return L(this.sign===0?0:1,this.layer,this.mag)}neg(){return L(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?v.dZero:this.layer===0?V(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?v.dZero:this.layer===0?V(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?v.dZero:this.layer===0?V(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?v.dZero:this.layer===0?V(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=p(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return L(0,0,0);let n,i;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(v.cmpabs(this,t)>0?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return p(n.sign*n.mag+i.sign*i.mag);const a=n.layer*Math.sign(n.mag),o=i.layer*Math.sign(i.mag);if(a-o>=2)return n;if(a===0&&o===-1){if(Math.abs(i.mag-Math.log10(n.mag))>zt)return n;{const s=Math.pow(10,Math.log10(n.mag)-i.mag),r=i.sign+n.sign*s;return V(Math.sign(r),1,i.mag+Math.log10(Math.abs(r)))}}if(a===1&&o===0){if(Math.abs(n.mag-Math.log10(i.mag))>zt)return n;{const s=Math.pow(10,n.mag-Math.log10(i.mag)),r=i.sign+n.sign*s;return V(Math.sign(r),1,Math.log10(i.mag)+Math.log10(Math.abs(r)))}}if(Math.abs(n.mag-i.mag)>zt)return n;{const s=Math.pow(10,n.mag-i.mag),r=i.sign+n.sign*s;return V(Math.sign(r),1,i.mag+Math.log10(Math.abs(r)))}}plus(e){return this.add(e)}sub(e){return this.add(p(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=p(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return L(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return L(this.sign*t.sign,0,1);let n,i;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return p(n.sign*i.sign*n.mag*i.mag);if(n.layer>=3||n.layer-i.layer>=2)return V(n.sign*i.sign,n.layer,n.mag);if(n.layer===1&&i.layer===0)return V(n.sign*i.sign,1,n.mag+Math.log10(i.mag));if(n.layer===1&&i.layer===1)return V(n.sign*i.sign,1,n.mag+i.mag);if(n.layer===2&&i.layer===1){const a=V(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(V(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return V(n.sign*i.sign,a.layer+1,a.sign*a.mag)}if(n.layer===2&&i.layer===2){const a=V(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(V(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return V(n.sign*i.sign,a.layer+1,a.sign*a.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=p(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?v.dNaN:this.layer===0?V(this.sign,0,1/this.mag):V(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=p(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=p(e),n=this.mag>0?this.layer:-this.layer,i=t.mag>0?t.layer:-t.layer;return n>i?1:n<i?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=p(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=p(e);return this.lt(t)?t:this}min(e){const t=p(e);return this.gt(t)?t:this}maxabs(e){const t=p(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=p(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const n=p(e);return this.eq_tolerance(n,t)?0:this.cmp(n)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const n=p(e);if(t==null&&(t=1e-7),this.sign!==n.sign||Math.abs(this.layer-n.layer)>1)return!1;let i=this.mag,a=n.mag;return this.layer>n.layer&&(a=jt(a)),this.layer<n.layer&&(i=jt(i)),Math.abs(i-a)<=t*Math.max(Math.abs(i),Math.abs(a))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const n=p(e);return!this.eq_tolerance(n,t)&&this.lt(n)}lte_tolerance(e,t){const n=p(e);return this.eq_tolerance(n,t)||this.lt(n)}gt_tolerance(e,t){const n=p(e);return!this.eq_tolerance(n,t)&&this.gt(n)}gte_tolerance(e,t){const n=p(e);return this.eq_tolerance(n,t)||this.gt(n)}pLog10(){return this.lt(v.dZero)?v.dZero:this.log10()}absLog10(){return this.sign===0?v.dNaN:this.layer>0?V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):V(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?v.dNaN:this.layer>0?V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):V(this.sign,0,Math.log10(this.mag))}log(e){return e=p(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?v.dNaN:this.layer===0&&e.layer===0?V(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):v.div(this.log10(),e.log10())}log2(){return this.sign<=0?v.dNaN:this.layer===0?V(this.sign,0,Math.log2(this.mag)):this.layer===1?V(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?V(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?v.dNaN:this.layer===0?V(this.sign,0,Math.log(this.mag)):this.layer===1?V(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?V(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=p(e),n=this,i=t;if(n.sign===0)return i.eq(0)?L(1,0,1):n;if(n.sign===1&&n.layer===0&&n.mag===1)return n;if(i.sign===0)return L(1,0,1);if(i.sign===1&&i.layer===0&&i.mag===1)return n;const a=n.absLog10().mul(i).pow10();return this.sign===-1?Math.abs(i.toNumber()%2)%2===1?a.neg():Math.abs(i.toNumber()%2)%2===0?a:v.dNaN:a}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return v.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return V(1,0,t);if(e.sign===0)return v.dOne;e=L(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?V(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?V(-e.sign,e.layer+1,-e.mag):v.dOne}pow_base(e){return p(e).pow(this)}root(e){const t=p(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?v.exp(v.mul(this,v.ln(this).sub(1))):v.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(L(1,0,24)))return p(na(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const n=e*e;let i=e,a=12*i,o=1/a,s=t+o;if(s===t||(t=s,i=i*n,a=360*i,o=1/a,s=t-o,s===t))return v.exp(t);t=s,i=i*n,a=1260*i;let r=1/a;return t=t+r,i=i*n,a=1680*i,r=1/a,t=t-r,v.exp(t)}else return this.layer===1?v.exp(v.mul(this,v.ln(this).sub(1))):v.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?v.dOne:this.layer===0&&this.mag<=709.7?p(Math.exp(this.sign*this.mag)):this.layer===0?V(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?V(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):V(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return p(Math.sqrt(this.sign*this.mag));if(this.layer===1)return V(1,2,Math.log10(this.mag)-.3010299956639812);{const e=v.div(L(this.sign,this.layer-1,this.mag),L(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=L(1,0,1)){if(e===1)return v.pow(this,t);if(e===0)return new v(t);if(this.eq(v.dOne))return v.dOne;if(this.eq(-1))return v.pow(this,t);if(e===Number.POSITIVE_INFINITY){const a=this.toNumber();if(a<=1.444667861009766&&a>=.06598803584531254){if(a>1.444667861009099)return new v(Math.E);const o=v.ln(this).neg();return o.lambertw().div(o)}else return a>1.444667861009766?new v(Number.POSITIVE_INFINITY):v.dNaN}if(this.eq(v.dZero)){let a=Math.abs((e+1)%2);return a>1&&(a=2-a),new v(a)}if(e<0)return v.iteratedlog(t,this,-e);t=p(t);const n=e;e=Math.trunc(e);const i=n-e;if(this.gt(v.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let a=0;a<e;++a){const o=t;if(t=this.pow(t),o.eq(t))return t}if(i!=0){const a=this.pow(t);return t.mul(1-i).add(a.mul(i))}return t}i!==0&&(t.eq(v.dOne)?this.gt(10)?t=this.pow(i):(t=p(v.tetrate_critical(this.toNumber(),i)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return L(t.sign,t.layer+(e-a-1),t.mag);if(a>1e4)return t}return t}iteratedexp(e=2,t=L(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return v.tetrate(e,-t,this);e=p(e);let n=p(this);const i=t;t=Math.trunc(t);const a=i-t;if(n.layer-e.layer>3){const o=Math.min(t,n.layer-e.layer-3);t-=o,n.layer-=o}for(let o=0;o<t;++o){if(n=n.log(e),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(o>1e4)return n}return a>0&&a<1&&(e.eq(10)?n=n.layeradd10(-a):n=n.layeradd(-a,e)),n}slog(e=10){if(e=p(e),e.lte(v.dZero)||e.eq(v.dOne))return v.dNaN;if(e.lt(v.dOne))return this.eq(v.dOne)?v.dZero:this.eq(v.dZero)?v.dNegOne:v.dNaN;if(this.mag<0||this.eq(v.dZero))return v.dNegOne;let t=0,n=p(this);if(n.layer-e.layer>3){const i=n.layer-e.layer-3;t+=i,n.layer-=i}for(let i=0;i<100;++i)if(n.lt(v.dZero))n=v.pow(e,n),t-=1;else{if(n.lte(v.dOne))return p(t+v.slog_critical(e.toNumber(),n.toNumber()));t+=1,n=v.log(n,e)}return p(t)}static slog_critical(e,t){return e>10?t-1:v.critical_section(e,t,ta)}static tetrate_critical(e,t){return v.critical_section(e,t,ea)}static critical_section(e,t,n){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let i=0,a=0;for(let r=0;r<Ae.length;++r)if(Ae[r]==e){i=n[r][Math.floor(t)],a=n[r][Math.ceil(t)];break}else if(Ae[r]<e&&Ae[r+1]>e){const c=(e-Ae[r])/(Ae[r+1]-Ae[r]);i=n[r][Math.floor(t)]*(1-c)+n[r+1][Math.floor(t)]*c,a=n[r][Math.ceil(t)]*(1-c)+n[r+1][Math.ceil(t)]*c;break}const o=t-Math.floor(t);return i*(1-o)+a*o}layeradd10(e){e=v.fromValue_noAlloc(e).toNumber();const t=p(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const n=Math.trunc(e);e-=n,t.layer+=n}if(e<=-1){const n=Math.trunc(e);if(e-=n,t.layer+=n,t.layer<0)for(let i=0;i<100;++i){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const i=this.slog(t).toNumber()+e;return i>=0?v.tetrate(t,i):Number.isFinite(i)?i>=-1?v.log(v.tetrate(t,i+1),t):v.log(v.log(v.tetrate(t,i+2),t),t):v.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return p(Sn(this.toNumber()));if(this.layer===0)return p(Sn(this.sign*this.mag));if(this.layer===1)return Mn(this);if(this.layer===2)return Mn(this);if(this.layer>=3)return L(this.sign,this.layer-1,this.mag);throw"Unhandled behavior in lambertw()"}ssqrt(){if(this.sign==1&&this.layer>=3)return L(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=L(1,0,1)){t=p(t);const n=e;e=Math.trunc(e);const i=n-e;i!==0&&(t.eq(v.dOne)?(++e,t=new v(i)):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(a>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?p(Math.sin(this.sign*this.mag)):L(0,0,0)}cos(){return this.mag<0?v.dOne:this.layer===0?p(Math.cos(this.sign*this.mag)):L(0,0,0)}tan(){return this.mag<0?this:this.layer===0?p(Math.tan(this.sign*this.mag)):L(0,0,0)}asin(){return this.mag<0?this:this.layer===0?p(Math.asin(this.sign*this.mag)):L(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?p(Math.acos(this.toNumber())):this.layer===0?p(Math.acos(this.sign*this.mag)):L(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?p(Math.atan(this.sign*this.mag)):p(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return v.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return v.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?L(Number.NaN,Number.NaN,Number.NaN):v.ln(this.add(1).div(p(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(v.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let f=v;f.dZero=L(0,0,0);f.dOne=L(1,0,1);f.dNegOne=L(-1,0,1);f.dTwo=L(1,0,2);f.dTen=L(1,0,10);f.dNaN=L(Number.NaN,Number.NaN,Number.NaN);f.dInf=L(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);f.dNegInf=L(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);f.dNumberMax=V(1,0,Number.MAX_VALUE);f.dNumberMin=V(1,0,Number.MIN_VALUE);const ia=new f(1);function st(e,t,n=!0){let i=f.log10(e).floor(),a=f.div(e,f.pow(10,i));a.toStringWithDecimalPlaces(t)==="10"&&(a=ia,i=i.add(1));const o=i.gte(1e9)?me(i,Math.max(Math.max(t,3),j.defaultDecimalsShown)):i.gte(1e4)?Nt(i,0):i.toStringWithDecimalPlaces(0);return n?a.toStringWithDecimalPlaces(t)+"e"+o:"e"+o}function Nt(e,t){if(e==null)return"NaN";if(e=new f(e),e.mag<.001)return 0 .toFixed(t);const i=e.toStringWithDecimalPlaces(t).split(".");return i[0]=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),i.length==1?i[0]:i[0]+"."+i[1]}function Vn(e,t){return e==null?"NaN":(e=new f(e),e.mag<1e-4?0 .toFixed(t):(e.mag<.1&&t!==0&&(t=Math.max(Math.max(t,e.log10().negate().ceil().toNumber()),j.defaultDecimalsShown)),e.toStringWithDecimalPlaces(t)))}const aa=new f("eeee1000"),ra=new f("e100000"),$n=new f("e1000"),On=new f(1e9),oa=new f(1e6),sa=new f(1e3),la=new f(.98),ua=new f(.001),Dn=new f(0);function me(e,t,n){if(t==null&&(t=j.defaultDecimalsShown),n=n!=null?n:j.defaultShowSmall,e=new f(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag))return"NaN";if(e.sign<0)return"-"+me(e.neg(),t);if(e.mag===Number.POSITIVE_INFINITY)return"Infinity";if(e.gte(aa)){const i=e.slog();return i.gte(oa)?"F"+me(i.floor()):f.pow(10,i.sub(i.floor())).toStringWithDecimalPlaces(3)+"F"+Nt(i.floor(),0)}else{if(e.gte(ra))return st(e,0,!1);if(e.gte($n))return st(e,0);if(e.gte(On))return st(e,t);if(e.gte(sa))return Nt(e,0);if(e.gte(ua)||!n)return Vn(e,t);if(e.eq(Dn))return 0 .toFixed(t)}return e=Bn(e),e.lt($n)?st(e,t).replace(/([^(?:e|F)]*)$/,"-$1"):me(e,t)+"\u207B\xB9"}function pe(e){return e=new f(e),e.sign<0?"-"+pe(e.neg()):e.gte(On)||e.lte(la)&&!e.eq(Dn)?me(e):me(e,0)}function An(e){return f.lt(e,0)?"-"+An(f.neg(e)):f.gt(e,2**51)?me(f.div(e,31536e3))+"y":(e=new f(e).toNumber(),e<60?me(e)+"s":e<3600?pe(Math.floor(e/60))+"m "+me(e%60)+"s":e<86400?pe(Math.floor(e/3600))+"h "+pe(Math.floor(e/60)%60)+"m "+pe(e%60)+"s":e<31536e3?pe(Math.floor(e/84600)%365)+"d "+pe(Math.floor(e/3600)%24)+"h "+pe(Math.floor(e/60)%60)+"m":pe(Math.floor(e/31536e3))+"y "+pe(Math.floor(e/84600)%365)+"d "+pe(Math.floor(e/3600)%24)+"h")}function da(e,t,n){e=new f(e);let i=e.toStringWithDecimalPlaces(t);return new f(i).gte(n)&&(i=f.sub(n,Math.pow(.1,t)).toStringWithDecimalPlaces(t)),i}function ca(e,t){return me(e,t,!0)}function Bn(e){let t=f.log10(e).ceil();const n=f.div(e,f.pow(10,t));return t=t.neg(),e=new f(10).pow(t).times(n),e}var fa=Object.freeze(Object.defineProperty({__proto__:null,default:f,exponentialFormat:st,commaFormat:Nt,regularFormat:Vn,format:me,formatWhole:pe,formatTime:An,toPlaces:da,formatSmall:ca,invertOOM:Bn},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:pa,commaFormat:ma,regularFormat:ha,format:Y,formatWhole:Se,formatTime:$t,toPlaces:ga,formatSmall:va,invertOOM:ba}=fa;window.Decimal=f;window.exponentialFormat=pa;window.commaFormat=ma;window.regularFormat=ha;window.format=Y;window.formatWhole=Se;window.formatTime=$t;window.toPlaces=ga;window.formatSmall=va;window.invertOOM=ba;function Ln(e){let t=e.replace(/([A-Z])/g," $1");return t=t.charAt(0).toUpperCase()+t.slice(1),t}function Ht(e){return typeof e=="function"}var Q=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(Q||{});const ct=Symbol("DoNotCache");function T(e,t){const n=e[t];Ht(n)&&n.length===0&&!n[ct]?e[t]=N(n.bind(e)):Ht(n)&&(e[t]=n.bind(e),e[t][ct]=!0)}function ya(e){return Ht(e)&&!e[ct]&&(e=N(e)),e}const _e=Symbol("Component"),we=Symbol("GatherProps");let _a=0;function rt(e="feature-"){return e+_a++}var I=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(I||{});function ee(e){return e[ct]=!0,e}function le(e,t,n){e[t]===void 0&&n!=null&&(e[t]=n)}const Be={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var Kt=(e=>(e.Classic="classic",e.Paper="paper",e.Nordic="nordic",e.Aqua="aqua",e))(Kt||{}),Ct={classic:Be,paper:{...Be,variables:{...Be.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...Be,variables:{...Be.variables,"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...Be,variables:{...Be.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}};const Z=Symbol("ProxyState"),tt=Symbol("ProxyPath");function Re(e,t={}){const n=t;let i=!1;function a(){return i||(Object.assign(n,e(n)),i=!0),n}return new Proxy(n,{get(o,s){return s===Z?a():a()[s]},set(o,s,r){return a()[s]=r,!0},has(o,s){return s===Z?!0:Reflect.has(a(),s)},ownKeys(){return Reflect.ownKeys(a())},getOwnPropertyDescriptor(o,s){return i||(Object.assign(n,e(n)),i=!0),Object.getOwnPropertyDescriptor(o,s)}})}var W=window.state=Gt({lastTenTicks:[],hasNaN:!1,NaNPath:[]});const qn=mt({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});function Un(e){return JSON.stringify(e,(t,n)=>l(n))}const Rn={get(e,t){var i;if(t===Z||t===tt)return e[t];const n=e[Z][t];if(t!=="value"&&(yi(n)||Array.isArray(n))){if(n!==((i=e[t])==null?void 0:i[Z])){const a=[...e[tt],t];e[t]=new Proxy({[Z]:n,[tt]:a},Rn)}return e[t]}return n},set(e,t,n,i){if(!W.hasNaN&&(typeof n=="number"&&isNaN(n)||n instanceof f&&(isNaN(n.sign)||isNaN(n.layer)||isNaN(n.mag)))){const a=e[Z][t];if(!(typeof a=="number"&&isNaN(a)||a instanceof f&&(isNaN(a.sign)||isNaN(a.layer)||isNaN(a.mag))))throw qn.autosave=!1,W.hasNaN=!0,W.NaNPath=[...e[tt],t],W.NaNReceiver=i,console.error("Attempted to set NaN value",[...e[tt],t],e[Z]),"Attempted to set NaN value. See above for details"}return e[Z][t]=n,!0},ownKeys(e){return Reflect.ownKeys(e[Z])},has(e,t){return Reflect.has(e[Z],t)},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e[Z],t)}};var M=window.player=new Proxy({[Z]:qn,[tt]:["player"]},Rn);const ce=Fn();let nt=null,ut=null;function xt(){const e=Date.now();let t=(e-M.time)/1e3;M.time=e;const n=t;if(W.lastTenTicks.push(n),W.lastTenTicks.length>10&&(W.lastTenTicks=W.lastTenTicks.slice(1)),!((ut==null?void 0:ut.value)&&!M.keepGoing)&&!W.hasNaN&&(t=Math.max(t,0),M.devSpeed!==0)){if(M.offlineTime!=null){if(f.gt(M.offlineTime,j.offlineLimit*3600)&&(M.offlineTime=j.offlineLimit*3600),f.gt(M.offlineTime,0)&&M.devSpeed!==0){const i=Math.max(M.offlineTime/10,t);M.offlineTime=M.offlineTime-i,t+=i}else M.devSpeed===0&&(M.offlineTime+=t);(!M.offlineProd||f.lt(M.offlineTime,0))&&(M.offlineTime=null)}t=Math.min(t,j.maxTickLength),M.devSpeed!=null&&(t*=M.devSpeed),Number.isFinite(t)||(t=1e308),!f.eq(t,0)&&(M.timePlayed+=t,Number.isFinite(M.timePlayed)||(M.timePlayed=1e308),ce.emit("update",t,n),K.unthrottled?(requestAnimationFrame(xt),nt!=null&&(clearInterval(nt),nt=null)):nt==null&&(nt=setInterval(xt,50)))}}async function wa(){ut=(await wt(()=>Promise.resolve().then(function(){return ni}),void 0)).hasWon,Ne(ut,e=>{e&&ce.emit("gameWon")}),K.unthrottled?requestAnimationFrame(xt):nt=setInterval(xt,50)}var Na=Object.freeze(Object.defineProperty({__proto__:null,globalBus:ce,startGameLoop:wa},Symbol.toStringTag,{value:"Module"}));function zn(e={}){return Object.assign({id:`${j.id}-0`,name:"Default Save",tabs:j.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:j.id,modVersion:j.versionNumber,layers:{}},e)}function ge(e){const t=Fe.compressToUTF16(Un(e!=null?e:M[Z]));return localStorage.setItem((e!=null?e:M[Z]).id,t),t}async function xa(){Sa();try{let e=localStorage.getItem(K.active);if(e==null){await qe(it());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Fe.decompressFromUTF16(e);else throw"Unable to determine save encoding";const t=JSON.parse(e);if(t.modID!==j.id){await qe(it());return}t.id=K.active,await qe(t)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await qe(it())}}function it(){const e=bt(),t=zn({id:e});return ge(t),K.saves.push(e),t}function bt(){let e,t=0;do e=`${j.id}-${t++}`;while(localStorage.getItem(e));return e}async function qe(e){console.info("Loading save",e);const{layers:t,removeLayer:n,addLayer:i}=await wt(()=>Promise.resolve().then(function(){return Ya}),void 0),{fixOldSave:a,getInitialLayers:o}=await wt(()=>Promise.resolve().then(function(){return ni}),void 0);for(const s in t){const r=t[s];r&&n(r)}o(e).forEach(s=>i(s,e)),e=zn(e),e.offlineProd&&e.time&&(e.offlineTime==null&&(e.offlineTime=0),e.offlineTime+=(Date.now()-e.time)/1e3),e.time=Date.now(),e.modVersion!==j.versionNumber&&a(e.modVersion,e),Object.assign(M,e),K.active=M.id}setInterval(()=>{M.autosave&&ge()},1e3);window.onbeforeunload=()=>{M.autosave&&ge()};window.save=ge;const ka=window.hardReset=async()=>{await qe(it())},ft=mt({active:"",saves:[],showTPS:!0,theme:Kt.Nordic,unthrottled:!1});Ne(ft,e=>{const t=Fe.compressToUTF16(JSON.stringify(e));localStorage.setItem(j.id,t)},{deep:!0});var K=window.settings=ft;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Kt.Nordic};ce.emit("loadSettings",e),Object.assign(ft,e),ka()};function Sa(){try{let e=localStorage.getItem(j.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Fe.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const t=JSON.parse(e);typeof t=="object"&&Object.assign(ft,t)}ce.emit("loadSettings",ft)}catch{}}const jn=mt([]);function Ma(e){jn.push(e)}const $a=mt([]),Ca=mt([]),Ia={class:"table"},Ta=B({__name:"Row",setup(e){const t=N(()=>Ct[K.theme].mergeAdjacent);return(n,i)=>(g(),x("div",Ia,[u("div",{class:re(["row",{mergeAdjacent:l(t)}])},[ke(n.$slots,"default")],2)]))}});function Fa(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ci(e)}function z(e,t="span"){return typeof e=="function"?B({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${t}>${e}</${t}>`),B({template:e})):B({render:()=>({})}):e}function ot(e){if(De(e))return typeof e=="function"?e():z(e);const t=e[_e];return m(t,e[we](),null)}function Le(...e){let t;return m(Ta,null,Fa(t=e.map(ot))?t:{default:()=>[t]})}function yt(e){if(De(e))return typeof e=="function"?e():typeof e=="string"?m(X,null,[e]):m(e,null,null);const t=e[_e];return m(t,e[we](),null)}function De(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[ct]===!0}function Hn(e,t){const n=E(null),i=E(void 0);function a(r){n.value||(n.value=setInterval(s,250)),i.value=r}function o(){n.value&&(clearInterval(n.value),n.value=null)}function s(){t&&t.value?t.value():e&&e.value&&e.value(i.value)}return In(o),{start:a,stop:o,handleHolding:s}}function Pa(e,t="div"){const n=be();return ye(()=>{n.value=z(ue(e),t)}),n}function It(e,t="div"){const n=be(null);return ye(()=>{const i=ue(e);n.value=i==null?null:z(i,t)}),n}function Ea(e){return N(()=>ue(e))}function ue(e){return l(l(e))}function O(...e){return e.includes(Object)||e.push(Object),e}var H=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const Va=B({__name:"Context",emits:["updateNodes"],setup(e,{emit:t}){var _;const n=E({}),i=new ResizeObserver(r),a=E(null);Mt(()=>{const b=a.value;b!=null&&i.observe(b)});let o=!0,s=E((_=a.value)==null?void 0:_.getBoundingClientRect());function r(){a.value!=null&&o&&(o=!1,Me(()=>{var b;s.value=(b=a.value)==null?void 0:b.getBoundingClientRect(),Object.values(n.value).filter(h=>h).forEach(h=>h.rect=h.element.getBoundingClientRect()),t("updateNodes",n.value),o=!0}))}document.fonts.ready.then(r);const c={attributes:!1,childList:!0,subtree:!1};vt(Zt,(b,h)=>{const y=new MutationObserver(()=>d(b));y.observe(h,c),n.value[b]={element:h,observer:y,rect:h.getBoundingClientRect()},t("updateNodes",n.value),Me(()=>d(b))}),vt(Jt,b=>{var h;(h=n.value[b])==null||h.observer.disconnect(),n.value[b]=void 0,t("updateNodes",n.value)}),vt(Xt,n),vt(Qt,s);function d(b){const h=n.value[b];h!=null&&(h.rect=h.element.getBoundingClientRect(),t("updateNodes",n.value))}return(b,h)=>(g(),x(X,null,[ke(b.$slots,"default",{},void 0,!0),u("div",{ref_key:"resizeListener",ref:a,class:"resize-listener"},null,512)],64))}});var Gn=H(Va,[["__scopeId","data-v-6a08ac80"]]);const Oa=["onPointerdown"],Da={class:"modal-wrapper"},Aa={class:"modal-container"},Ba={class:"modal-header"},La=F(" default header "),qa={class:"modal-body"},Ua=F(" default body "),Ra={class:"modal-footer"},za=u("div",{class:"modal-default-flex-grow"},null,-1),ze=B({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=ae(e),o=N(()=>a.modelValue||r.value);function s(){n("update:modelValue",!1)}const r=E(!1),c=E(null),d=N(()=>{var _,b;return(b=(_=c.value)==null?void 0:_.nodes)!=null?b:null});return t({isOpen:o,nodes:d}),(_,b)=>(g(),A(pi,{to:"#modal-root"},[m(Yt,{name:"modal",onBeforeEnter:b[0]||(b[0]=h=>r.value=!0),onAfterLeave:b[1]||(b[1]=h=>r.value=!1)},{default:D(()=>[Wt(u("div",Ue({class:"modal-mask",onPointerdown:dt(s,["self"])},_.$attrs),[u("div",Da,[u("div",Aa,[u("div",Ba,[ke(_.$slots,"header",{shown:l(o)},()=>[La])]),u("div",qa,[m(Gn,{ref_key:"contextRef",ref:c},{default:D(()=>[ke(_.$slots,"body",{shown:l(o)},()=>[Ua])]),_:3},512)]),u("div",Ra,[ke(_.$slots,"footer",{shown:l(o)},()=>[u("div",{class:"modal-default-footer"},[za,u("button",{class:"button modal-default-button",onClick:s}," Close ")])])])])])],16,Oa),[[fi,e.modelValue]])]),_:3})]))}}),pt=Symbol("PersistentState"),kt=Symbol("DefaultValue"),St=Symbol("StackTrace"),Wn=Symbol("Deleted");function ja(){var e;return((e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(t=>t.trim()).join(`
`))||""}function je(e){const t=ne(e)?e:E(e);return t[pt]=t,t[kt]=ne(e)?e.value:e,t[St]=ja(),t[Wn]=!1,ve.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",t,`
Created at:
`+t[St]):at[ve[ve.length-1]].add(t),t}ce.on("addLayer",(e,t)=>{const n=[],i=(a,o=[])=>{let s=!1;return Object.keys(a).forEach(r=>{const c=a[r];if(c&&typeof c=="object")if(pt in c){if(s=!0,c[Wn]){console.warn("Deleted persistent ref present in returned object. Ignoring...",c,`
Created at:
`+c[St]);return}at[e.id].delete(Z in c?c[Z]:c);const d=o.reduce((b,h)=>(h in b||(b[h]={}),b[h]),t),_=d[r];d[r]=c[pt],mi(d)?_!=null?d[r]=_:d[r]=c[kt]:_!=null?d[r].value=_:d[r].value=c[kt]}else!(c instanceof f)&&!ne(c)&&!n.includes(c)&&(typeof c.type=="symbol"&&n.push(c),i(c,[...o,r])&&(Nn(c)&&!Nn(a)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",Z in a?a[Z]:a,r):s=!0))}),s};i(e),at[e.id].forEach(a=>{console.error(`Created persistent ref in ${e.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,a,`
Created at:
`+a[St])}),at[e.id].clear()});const Zt=Symbol("RegisterNode"),Jt=Symbol("UnregisterNode"),Xt=Symbol("Nodes"),Qt=Symbol("Bounds"),se=Gt({});window.layers=se;const at={},ve=[];function en(e,t){return Re(()=>{const n={},i=n.emitter=Fn();if(n.on=i.on.bind(i),n.emit=i.emit.bind(i),n.nodes=E({}),n.id=e,ve.push(e),at[e]=new Set,n.minimized=je(!1),Object.assign(n,t.call(n)),ve[ve.length-1]==null||ve[ve.length-1]!==e)throw`Adding layers stack in invalid state. This should not happen
Stack: ${ve}
Trying to pop ${n.id}`;return ve.pop(),T(n,"color"),T(n,"display"),T(n,"name"),le(n,"name",n.id),T(n,"minWidth"),le(n,"minWidth",600),T(n,"minimizable"),le(n,"minimizable",!0),n})}function Yn(e,t){if(console.info("Adding layer",e.id),se[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,se[e.id]);return}le(t,"layers",{}),t.layers[e.id]==null&&(t.layers[e.id]={}),se[e.id]=e,ce.emit("addLayer",e,t.layers[e.id])}function Ha(e){return se[e]}function Kn(e){console.info("Removing layer",e.id),ce.emit("removeLayer",e),se[e.id]=void 0}function Ga(e){Kn(e),Yn(e,M)}function Wa(e){const t=E(!1);return{openModal:()=>t.value=!0,modal:ee(()=>m(ze,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n},{header:()=>m("h2",null,[l(e.name)]),body:l(e.display)}))}}ce.on("update",function(t){Object.values(se).forEach(n=>{n==null||n.emit("preUpdate",t)}),Object.values(se).forEach(n=>{n==null||n.emit("update",t)}),Object.values(se).forEach(n=>{n==null||n.emit("postUpdate",t)})});var Ya=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:Zt,UnregisterNodeInjectionKey:Jt,NodesInjectionKey:Xt,BoundsInjectionKey:Qt,layers:se,persistentRefs:at,addingLayers:ve,createLayer:en,addLayer:Yn,getLayer:Ha,removeLayer:Kn,reloadLayer:Ga,setupLayerModal:Wa},Symbol.toStringTag,{value:"Module"}));const Ka=B({components:{Context:Gn},props:{index:{type:Number,required:!0},tab:{type:Function,required:!0},display:{type:O(Object,String,Function),required:!0},minimized:{type:Object,required:!0},minWidth:{type:O(Number,String),required:!0},name:{type:O(String),required:!0},color:O(String),minimizable:O(Boolean),nodes:{type:Object,required:!0}},setup(e){const{display:t,index:n,minimized:i,minWidth:a,tab:o}=ae(e),s=Pa(t),r=N(()=>j.allowGoBack&&n.value>0&&!i.value);function c(){M.tabs.splice(l(e.index),1/0)}Me(()=>_(i.value,l(a.value))),Ne([i,Ea(a)],([b,h])=>_(b,h));function d(b){e.nodes.value=b}function _(b,h){const y=typeof h=="number"||Number.isNaN(parseInt(h))?h+"px":h,k=o.value();k!=null&&(b?(k.style.flexGrow="0",k.style.flexShrink="0",k.style.width="60px",k.style.minWidth=k.style.flexBasis="",k.style.margin="0"):(k.style.flexGrow="",k.style.flexShrink="",k.style.width="",k.style.minWidth=k.style.flexBasis=y,k.style.margin=""))}return{component:s,showGoBack:r,updateNodes:d,unref:l,goBack:c}}});function Za(e,t,n,i,a,o){const s=$e("Context");return g(),x("div",{class:"layer-container",style:de({"--layer-color":e.unref(e.color)})},[e.showGoBack?(g(),x("button",{key:0,class:"goBack",onClick:t[0]||(t[0]=(...r)=>e.goBack&&e.goBack(...r))},"\u2190")):P("",!0),e.minimized.value?(g(),x("button",{key:1,class:"layer-tab minimized",onClick:t[1]||(t[1]=r=>e.minimized.value=!1)},[u("div",null,R(e.unref(e.name)),1)])):(g(),x("div",{key:2,class:re(["layer-tab",{showGoBack:e.showGoBack}])},[m(s,{onUpdateNodes:e.updateNodes},{default:D(()=>[(g(),A(ie(e.component)))]),_:1},8,["onUpdateNodes"])],2)),e.unref(e.minimizable)?(g(),x("button",{key:3,class:"minimize",onClick:t[2]||(t[2]=r=>e.minimized.value=!0)}," \u25BC ")):P("",!0)],4)}var Ja=H(Ka,[["render",Za],["__scopeId","data-v-34c9d881"]]);const Tt=e=>(Ve("data-v-3e1241c7"),e=e(),Oe(),e),Xa=Tt(()=>u("h2",null,"Changelog",-1)),Qa=Tt(()=>u("details",{open:""},[u("summary",null,[F("v0.2 All That Matters - "),u("time",null,"2022-07-17")]),u("ul",null,[u("li",{class:"feature"},"Added Logarithm Boost"),u("li",{class:"feature"},"Added Cosine Boost"),u("li",{class:"feature"},"Added Exponential Boost"),u("li",{class:"feature"},"Added Hyperbolic Boost"),u("li",{class:"feature"},"Added Antimatter Unlock"),u("li",{class:"balancing"},"Nerfed Cosine's effect"),u("li",{class:"balancing"},"Nerfed Cosine Foundation's effect"),u("li",{class:"balancing"},"Nerfed Exponential Foundation's effect"),u("li",{class:"balancing"},"Nerfed Hyperbolic Foundation's effect"),u("li",{class:"balancing"},"Infinitely Softcapped Matter"),u("li",{class:"balancing"},"Infinitely Softcapped Logarithm's effect"),u("li",{class:"balancing"},"Infinitely Softcapped Exponential's effect"),u("li",{class:"balancing"},"Infinitely Softcapped Sine's min and max"),u("li",{class:"balancing"},"Infinitely Softcapped Hyperbolic's effect")])],-1)),er=Tt(()=>u("details",null,[u("summary",null,[F("v0.1 Dimensional Generator - "),u("time",null,"2022-07-17")]),u("ul",null,[u("li",{class:"feature"},"Removed Points"),u("li",{class:"feature"},"Added Dimensional Generator"),u("li",{class:"feature"},"Added Exponential"),u("li",{class:"feature"},"Added Hyperbolic"),u("li",{class:"feature"},"Added Cosine Foundation"),u("li",{class:"feature"},"Added Exponential Unlock"),u("li",{class:"feature"},"Added Hyperbolic Unlock"),u("li",{class:"feature"},"Added Exponential Foundation"),u("li",{class:"feature"},"Added Hyperbolic Foundation"),u("li",{class:"balancing"},"Changed Sine Foundation's effect"),u("li",{class:"balancing"},"Rebalanced the entirety of Matter")])],-1)),tr=Tt(()=>u("details",null,[u("summary",null,[F("v0.0 Initial Commit - "),u("time",null,"2022-07-15")]),F(" This is the first release :D "),u("ul",null,[u("li",{class:"feature"},"Added Foundation"),u("li",{class:"feature"},"Added Sine"),u("li",{class:"feature"},"Added Logarithm"),u("li",{class:"feature"},"Added Cosine"),u("li",{class:"feature"},"Added Sine Foundation"),u("li",{class:"feature"},"Added Sine Boost"),u("li",{class:"feature"},"Added Logarithm Unlock"),u("li",{class:"feature"},"Added Logarithm Foundation"),u("li",{class:"feature"},"Added Cosine Unlock")])],-1)),nr=B({__name:"Changelog",setup(e,{expose:t}){const n=E(!1);return t({open(){n.value=!0}}),(i,a)=>(g(),A(ze,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o)},{header:D(()=>[Xa]),body:D(()=>[Qa,er,tr]),_:1},8,["modelValue"]))}});var ir=H(nr,[["__scopeId","data-v-3e1241c7"]]),ar=B({props:{element:Object,display:{type:O(Object,String,Function),required:!0},style:O(Object,String,Array),classes:O(Object),direction:O(String),xoffset:O(String),yoffset:O(String),pinned:Object},setup(e){const{element:t,display:n,pinned:i}=ae(e),a=E(!1),o=N(()=>(ue(i)||a.value)&&s.value),s=It(n),r=be(z(ee(()=>{const _=ue(t);return _==null?"":yt(_)})));function c(_){const b=i;_.shiftKey&&b&&(b.value=!b.value,_.stopPropagation(),_.preventDefault())}const d=N(()=>ue(i)&&Ct[K.theme].showPin);return{Direction:Q,isHovered:a,isShown:o,comp:s,elementComp:r,unref:l,togglePinned:c,showPin:d}}});const rr={key:0,class:"material-icons pinned"};function or(e,t,n,i,a,o){return g(),x("div",{class:re(["tooltip-container",{shown:e.isShown}]),onMouseenter:t[0]||(t[0]=s=>e.isHovered=!0),onMouseleave:t[1]||(t[1]=s=>e.isHovered=!1),onClickCapture:t[2]||(t[2]=(...s)=>e.togglePinned&&e.togglePinned(...s))},[ke(e.$slots,"default",{},void 0,!0),e.elementComp?(g(),A(ie(e.elementComp),{key:0})):P("",!0),m(Yt,{name:"fade"},{default:D(()=>{var s;return[e.isShown?(g(),x("div",{key:0,class:re(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:de([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(s=e.unref(e.style))!=null?s:{}])},[e.showPin?(g(),x("span",rr,"push_pin")):P("",!0),e.comp?(g(),A(ie(e.comp),{key:1})):P("",!0)],6)):P("",!0)]}),_:1})],34)}var J=H(ar,[["render",or],["__scopeId","data-v-6102fa3a"]]);const He=e=>(Ve("data-v-7dec2dec"),e=e(),Oe(),e),sr={class:"info-modal-header"},lr=["src","alt"],ur={class:"info-modal-title"},dr={key:0},cr={key:0},fr={key:0},pr=He(()=>u("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),mr=He(()=>u("br",null,null,-1)),hr=He(()=>u("br",null,null,-1)),gr=["href"],vr=He(()=>u("span",{class:"material-icons info-modal-discord"},"discord",-1)),br=He(()=>u("div",null,[u("a",{href:"https://discord.gg/WzejVAx",class:"info-modal-discord-link"},[u("span",{class:"material-icons info-modal-discord"},"discord"),F(" The Paper Pilot Community ")])],-1)),yr=He(()=>u("div",null,[u("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link"},[u("span",{class:"material-icons info-modal-discord"},"discord"),F(" The Modding Tree ")])],-1)),_r=He(()=>u("br",null,null,-1));var wr=B({__name:"Info",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:i,logo:a,author:o,discordName:s,discordLink:r,versionNumber:c,versionTitle:d}=j,_=ae(n),b=E(!1),h=N(()=>$t(M.timePlayed)),y=N(()=>z(ee(()=>m(X,null,[$a.map(ot)]))));t({open(){b.value=!0}});function k(){var w;(w=l(_.changelog))==null||w.open()}return(w,q)=>(g(),A(ze,{modelValue:b.value,"onUpdate:modelValue":q[0]||(q[0]=xe=>b.value=xe)},{header:D(()=>[u("div",sr,[l(a)?(g(),x("img",{key:0,class:"info-modal-logo",src:l(a),alt:l(i)},null,8,lr)):P("",!0),u("div",ur,[u("h2",null,R(l(i)),1),u("h4",null,[F(" v"+R(l(c)),1),l(d)?(g(),x("span",dr,": "+R(l(d)),1)):P("",!0)])])])]),body:D(({shown:xe})=>[xe?(g(),x("div",cr,[l(o)?(g(),x("div",fr,"By "+R(l(o)),1)):P("",!0),pr,mr,u("div",{class:"link",onClick:k},"Changelog"),hr,u("div",null,[l(r)?(g(),x("a",{key:0,href:l(r),class:"info-modal-discord-link"},[vr,F(" "+R(l(s)),1)],8,gr)):P("",!0)]),br,yr,_r,u("div",null,"Time Played: "+R(l(h)),1),(g(),A(ie(l(y))))])):P("",!0)]),_:1},8,["modelValue"]))}});var Nr=H(wr,[["__scopeId","data-v-7dec2dec"]]);const xr={class:"field"},kr={key:0,class:"field-title"},tn=B({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){var s;const n=e,i=It(Ee(n,"title"),"span"),a=E((s=n.options.find(r=>r.value===n.modelValue))!=null?s:null);Ne(Ee(n,"modelValue"),r=>{var c;ue(a)!==r&&(a.value=(c=n.options.find(d=>d.value===r))!=null?c:null)});function o(r){t("update:modelValue",r.value)}return(r,c)=>(g(),x("div",xr,[l(i)?(g(),x("span",kr,[(g(),A(ie(l(i))))])):P("",!0),m(l(_i),{options:e.options,modelValue:a.value,"onUpdate:modelValue":[c[0]||(c[0]=d=>a.value=d),o],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const Sr={class:"field"},Mr=B({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=N(()=>z(l(n.title)||"<span></span>","span")),a=N({get(){return!!n.modelValue},set(o){t("update:modelValue",o)}});return(o,s)=>(g(),x("label",Sr,[Wt(u("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":s[0]||(s[0]=r=>ne(a)?a.value=r:null)},null,512),[[hi,l(a)]]),(g(),A(ie(l(i))))]))}});var Te=H(Mr,[["__scopeId","data-v-2b109500"]]);const Zn=e=>(Ve("data-v-bc13791c"),e=e(),Oe(),e),$r=Zn(()=>u("div",{class:"header"},[u("h2",null,"Options")],-1)),Cr=Zn(()=>u("hr",null,null,-1));var Ir=B({__name:"Options",setup(e,{expose:t}){const n=E(!1);t({open(){n.value=!0}});const i=Object.keys(Ct).map(k=>({label:Ln(k),value:k})),a=N(()=>z(ee(()=>m(X,null,[jn.map(ot)])))),{showTPS:o,theme:s,unthrottled:r}=ae(K),{autosave:c,offlineProd:d}=ae(M),_=N({get(){return M.devSpeed===0},set(k){M.devSpeed=k?0:null}}),b=ee(()=>m("span",null,[F("Offline Production"),m(J,{display:"Save-specific"},{default:()=>[F("*")]})])),h=ee(()=>m("span",null,[F("Autosave"),m(J,{display:"Save-specific"},{default:()=>[F("*")]})])),y=ee(()=>m("span",null,[F("Pause game"),m(J,{display:"Save-specific"},{default:()=>[F("*")]})]));return(k,w)=>(g(),A(ze,{modelValue:n.value,"onUpdate:modelValue":w[6]||(w[6]=q=>n.value=q)},{header:D(()=>[$r]),body:D(()=>[m(tn,{title:"Theme",options:l(i),modelValue:l(s),"onUpdate:modelValue":w[0]||(w[0]=q=>ne(s)?s.value=q:null)},null,8,["options","modelValue"]),(g(),A(ie(l(a)))),m(Te,{title:"Show TPS",modelValue:l(o),"onUpdate:modelValue":w[1]||(w[1]=q=>ne(o)?o.value=q:null)},null,8,["modelValue"]),Cr,m(Te,{title:"Unthrottled",modelValue:l(r),"onUpdate:modelValue":w[2]||(w[2]=q=>ne(r)?r.value=q:null)},null,8,["modelValue"]),m(Te,{title:l(b),modelValue:l(d),"onUpdate:modelValue":w[3]||(w[3]=q=>ne(d)?d.value=q:null)},null,8,["title","modelValue"]),m(Te,{title:l(h),modelValue:l(c),"onUpdate:modelValue":w[4]||(w[4]=q=>ne(c)?c.value=q:null)},null,8,["title","modelValue"]),l(j).enablePausing?(g(),A(Te,{key:0,title:l(y),modelValue:l(_),"onUpdate:modelValue":w[5]||(w[5]=q=>ne(_)?_.value=q:null)},null,8,["title","modelValue"])):P("",!0)]),_:1},8,["modelValue"]))}});var Tr=H(Ir,[["__scopeId","data-v-bc13791c"]]);const Fr=["onSubmit"],Pr={class:"field"},Er={key:0,class:"field-title"},Vr=["placeholder"],Or=B({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null},emits:["update:modelValue","submit"],setup(e,{emit:t}){const i=ae(e),a=N(()=>{var c;return((c=i.title)==null?void 0:c.value)&&z(l(i.title.value),"span")}),o=E(null);Mt(()=>{var c;(c=o.value)==null||c.focus()});const s=N({get(){return l(i.modelValue)||""},set(c){t("update:modelValue",c)}});function r(){t("submit")}return(c,d)=>(g(),x("form",{onSubmit:dt(r,["prevent"])},[u("div",Pr,[l(a)?(g(),x("span",Er,[(g(),A(ie(l(a))))])):P("",!0),e.textArea?(g(),A(l(Ni),{key:1,modelValue:l(s),"onUpdate:modelValue":d[0]||(d[0]=_=>ne(s)?s.value=_:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:r,ref_key:"field",ref:o},null,8,["modelValue","placeholder","maxHeight"])):Wt((g(),x("input",{key:2,type:"text","onUpdate:modelValue":d[1]||(d[1]=_=>ne(s)?s.value=_:null),placeholder:e.placeholder,class:re({fullWidth:!e.title}),onBlur:r,ref_key:"field",ref:o},null,42,Vr)),[[gi,l(s)]])])],40,Fr))}});var Jn=H(Or,[["__scopeId","data-v-d74adb0a"]]);const Dr={key:0},Ar=["onClick","disabled"],Br={key:0},Lr=["onClick"],qr=B({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:t}){const i=ae(e),a=E(!1);Ne(a,r=>{t("confirmingChanged",r)});function o(){if(l(i.skipConfirm)){t("click");return}a.value&&t("click"),a.value=!a.value}function s(){a.value=!1}return(r,c)=>(g(),x("span",{class:re(["container",{confirming:a.value}])},[a.value?(g(),x("span",Dr,"Are you sure?")):P("",!0),u("button",{onClick:dt(o,["stop"]),class:"button danger",disabled:e.disabled},[a.value?(g(),x("span",Br,"Yes")):ke(r.$slots,"default",{key:1},void 0,!0)],8,Ar),a.value?(g(),x("button",{key:1,class:"button",onClick:dt(s,["stop"])},"No",8,Lr)):P("",!0)],2))}});var Ur=H(qr,[["__scopeId","data-v-2f8ef34c"]]);const Rr=["onClick"],zr=B({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=E(!1),i=E(null);function a(){t("click"),i.value&&clearTimeout(i.value),n.value=!1,Me(()=>{n.value=!0,i.value=setTimeout(()=>n.value=!1,500)})}return(o,s)=>(g(),x("button",{onClick:dt(a,["stop"]),class:re(["feedback",{activated:n.value,left:e.left}])},[ke(o.$slots,"default",{},void 0,!0)],10,Rr))}});var jr=H(zr,[["__scopeId","data-v-01a1b95c"]]);const Ce=e=>(Ve("data-v-0136bef4"),e=e(),Oe(),e),Hr=Ce(()=>u("div",{class:"handle material-icons"},"drag_handle",-1)),Gr={key:0,class:"actions"},Wr=Ce(()=>u("span",{class:"material-icons"},"content_paste",-1)),Yr=Ce(()=>u("span",{class:"material-icons"},"content_copy",-1)),Kr=Ce(()=>u("span",{class:"material-icons"},"edit",-1)),Zr=Ce(()=>u("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),Jr={key:1,class:"actions"},Xr=Ce(()=>u("span",{class:"material-icons"},"check",-1)),Qr=Ce(()=>u("span",{class:"material-icons"},"close",-1)),eo={key:2,class:"details"},to={class:"save-version"},no=Ce(()=>u("br",null,null,-1)),io={key:0},ao={key:3,class:"details"},ro={key:4,class:"details error"},oo=Ce(()=>u("br",null,null,-1)),so=B({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:t}){const n=e,{save:i}=ae(n),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),o=E(!1),s=E(!1),r=E("");Ne(o,()=>r.value=i.value.name||"");const c=N(()=>i.value&&i.value.id===M.id),d=N(()=>c.value?M.time:i.value&&i.value.time||0);function _(){t("editName",r.value),o.value=!1}return(b,h)=>(g(),x("div",{class:re(["save",{active:l(c)}])},[Hr,o.value?(g(),x("div",Jr,[u("button",{onClick:_,class:"button"},[m(J,{display:"Save",direction:l(Q).Left,class:"info"},{default:D(()=>[Xr]),_:1},8,["direction"])]),u("button",{onClick:h[5]||(h[5]=y=>o.value=!o.value),class:"button"},[m(J,{display:"Cancel",direction:l(Q).Left,class:"info"},{default:D(()=>[Qr]),_:1},8,["direction"])])])):(g(),x("div",Gr,[l(i).error==null&&!s.value?(g(),A(jr,{key:0,onClick:h[0]||(h[0]=y=>t("export")),class:"button",left:""},{default:D(()=>[m(J,{display:"Export",direction:l(Q).Left,class:"info"},{default:D(()=>[Wr]),_:1},8,["direction"])]),_:1})):P("",!0),l(i).error==null&&!s.value?(g(),x("button",{key:1,onClick:h[1]||(h[1]=y=>t("duplicate")),class:"button"},[m(J,{display:"Duplicate",direction:l(Q).Left,class:"info"},{default:D(()=>[Yr]),_:1},8,["direction"])])):P("",!0),l(i).error==null&&!s.value?(g(),x("button",{key:2,onClick:h[2]||(h[2]=y=>o.value=!o.value),class:"button"},[m(J,{display:"Edit Name",direction:l(Q).Left,class:"info"},{default:D(()=>[Kr]),_:1},8,["direction"])])):P("",!0),m(Ur,{disabled:l(c),onClick:h[3]||(h[3]=y=>t("delete")),onConfirmingChanged:h[4]||(h[4]=y=>s.value=y)},{default:D(()=>[m(J,{display:"Delete",direction:l(Q).Left,class:"info"},{default:D(()=>[Zr]),_:1},8,["direction"])]),_:1},8,["disabled"])])),l(i).error==null&&!o.value?(g(),x("div",eo,[u("button",{class:"button open",onClick:h[6]||(h[6]=y=>t("open"))},[u("h3",null,R(l(i).name),1)]),u("span",to,"v"+R(l(i).modVersion),1),no,l(d)?(g(),x("div",io,"Last played "+R(l(a).format(l(d))),1)):P("",!0)])):l(i).error==null&&o.value?(g(),x("div",ao,[m(Jn,{modelValue:r.value,"onUpdate:modelValue":h[7]||(h[7]=y=>r.value=y),class:"editname",onSubmit:_},null,8,["modelValue"])])):(g(),x("div",ro,[F(" Error: Failed to load save with id "+R(l(i).id),1),oo,F(R(l(i).error),1)]))],2))}});var lo=H(so,[["__scopeId","data-v-0136bef4"]]);const nn=e=>(Ve("data-v-3b9991aa"),e=e(),Oe(),e),uo=nn(()=>u("h2",null,"Saves Manager",-1)),co={class:"modal-footer"},fo={class:"field"},po=nn(()=>u("span",{class:"field-title"},"Create Save",-1)),mo={class:"field-buttons"},ho={class:"footer"},go=nn(()=>u("div",{style:{"flex-grow":"1"}},null,-1)),vo=B({__name:"SavesManager",setup(e,{expose:t}){const n=E(!1),i=E(null);t({open(){n.value=!0}});const a=E(!1),o=E(""),s=E(null);Ne(o,S=>{S?Me(()=>{try{if(S[0]!=="{")if(S[0]==="e")S=decodeURIComponent(escape(atob(S)));else if(S[0]==="\u1BE1")S=Fe.decompressFromUTF16(S);else{console.warn("Unable to determine preset encoding",S),a.value=!0;return}const C=JSON.parse(S);if(typeof C!="object"){a.value=!0;return}const U=bt();C.id=U,ge(C),o.value="",a.value=!1,K.saves.push(U)}catch{a.value=!0}}):a.value=!1});let r={},c=E(Object.keys(r).reduce((S,C)=>(S.push({label:C.split("/").slice(-1)[0].slice(0,-4),value:r[C]}),S),[]));const d=Gt({});function _(S){if(d[S]==null){let C=localStorage.getItem(S);if(C==null)d[S]={error:"Save doesn't exist in localStorage",id:S};else if(C==="dW5kZWZpbmVk")d[S]={error:"Save is undefined",id:S};else try{if(C[0]!=="{")if(C[0]==="e")C=decodeURIComponent(escape(atob(C)));else if(C[0]==="\u1BE1")C=Fe.decompressFromUTF16(C);else return console.warn("Unable to determine preset encoding",C),a.value=!0,d[S]={error:"Unable to determine preset encoding",id:S},d[S];d[S]={...JSON.parse(C),id:S}}catch(U){d[S]={error:U,id:S},console.warn(`SavesManager: Failed to load info about save with id ${S}:
${U}
${C}`)}}return d[S]}Ne(n,S=>{S&&Object.keys(d).forEach(C=>delete d[C])});const b=N(()=>K.saves.reduce((S,C)=>(S[C]=_(C),S),{}));function h(S){let C;switch(M.id===S?C=Un(M[Z]):C=JSON.stringify(b.value[S]),j.exportEncoding){default:console.warn(`Unknown save encoding: ${j.exportEncoding}. Defaulting to lz`);case"lz":C=Fe.compressToUTF16(C);break;case"base64":C=btoa(unescape(encodeURIComponent(C)));break;case"plain":break}const U=document.createElement("textarea");U.value=C,document.body.appendChild(U),U.select(),U.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(U)}function y(S){M.id===S&&ge();const C={...b.value[S],id:bt()};ge(C),K.saves.push(C.id)}function k(S){K.saves=K.saves.filter(C=>C!==S),localStorage.removeItem(S),d[S]=void 0}function w(S){b.value[M.id].time=M.time,ge(),d[M.id]=void 0,qe(b.value[S]),d[S]=void 0}function q(S){if(s.value=S,Me(()=>{s.value=null}),S[0]!=="{")if(S[0]==="e")S=decodeURIComponent(escape(atob(S)));else if(S[0]==="\u1BE1")S=Fe.decompressFromUTF16(S);else{console.warn("Unable to determine preset encoding",S);return}const C=JSON.parse(S);C.id=bt(),ge(C),K.saves.push(C.id),w(C.id)}function xe(S,C){const U=b.value[S];U&&(U.name=C,M.id===S?(M.name=C,ge()):(ge(U),d[S]=void 0))}return(S,C)=>(g(),A(ze,{modelValue:n.value,"onUpdate:modelValue":C[4]||(C[4]=U=>n.value=U),ref_key:"modal",ref:i},{header:D(()=>[uo]),body:D(({shown:U})=>[U?(g(),A(l(wi),{key:0,list:l(K).saves,handle:".handle",itemKey:he=>he},{item:D(({element:he})=>[m(lo,{save:l(b)[he],onOpen:te=>w(he),onExport:te=>h(he),onEditName:te=>xe(he,te),onDuplicate:te=>y(he),onDelete:te=>k(he)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):P("",!0)]),footer:D(()=>[u("div",co,[m(Jn,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=U=>o.value=U),title:"Import Save",placeholder:"Paste your save here!",class:re({importingFailed:a.value})},null,8,["modelValue","class"]),u("div",fo,[po,u("div",mo,[u("button",{class:"button",onClick:C[1]||(C[1]=U=>w(l(it)().id))},"New Game"),Object.keys(l(c)).length>0?(g(),A(tn,{key:0,options:l(c),modelValue:s.value,"onUpdate:modelValue":C[2]||(C[2]=U=>q(U)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):P("",!0)])]),u("div",ho,[go,u("button",{class:"button modal-default-button",onClick:C[3]||(C[3]=U=>n.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Xn=H(vo,[["__scopeId","data-v-3b9991aa"]]);const fe=e=>(Ve("data-v-4a3f8425"),e=e(),Oe(),e),bo=["src","alt"],yo={key:1,class:"title"},_o=fe(()=>u("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),wo={class:"discord"},No={class:"discord-links"},xo={key:0},ko=["href"],So=fe(()=>u("li",null,[u("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Mo=fe(()=>u("li",null,[u("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),$o={href:"https://forums.moddingtree.com/",target:"_blank"},Co=fe(()=>u("span",{class:"material-icons"},"forum",-1)),Io=fe(()=>u("span",{class:"material-icons"},"info",-1)),To=fe(()=>u("span",{class:"material-icons"},"library_books",-1)),Fo=fe(()=>u("span",{class:"material-icons"},"settings",-1)),Po=fe(()=>u("span",{class:"material-icons"},"library_books",-1)),Eo=fe(()=>u("span",{class:"material-icons"},"settings",-1)),Vo=fe(()=>u("span",{class:"material-icons"},"info",-1)),Oo={href:"https://forums.moddingtree.com/",target:"_blank"},Do=fe(()=>u("span",{class:"material-icons"},"forum",-1)),Ao={class:"discord"},Bo={class:"discord-links"},Lo={key:0},qo=["href"],Uo=fe(()=>u("li",null,[u("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Ro=fe(()=>u("li",null,[u("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),zo=B({__name:"Nav",setup(e){const t=E(null),n=E(null),i=E(null),a=E(null),{useHeader:o,banner:s,title:r,discordName:c,discordLink:d,versionNumber:_}=j;function b(){window.open(d,"mywindow")}return(h,y)=>(g(),x(X,null,[l(o)?(g(),x("div",Ue({key:0,class:"nav"},h.$attrs),[l(s)?(g(),x("img",{key:0,src:l(s),class:"banner",alt:l(r)},null,8,bo)):(g(),x("div",yo,R(l(r)),1)),u("div",{onClick:y[0]||(y[0]=k=>{var w;return(w=a.value)==null?void 0:w.open()}),class:"version-container"},[m(J,{display:"Changelog",direction:l(Q).Down,class:"version"},{default:D(()=>[u("span",null,"v"+R(l(_)),1)]),_:1},8,["direction"])]),_o,u("div",wo,[u("span",{onClick:b,class:"material-icons"},"discord"),u("ul",No,[l(d)?(g(),x("li",xo,[u("a",{href:l(d),target:"_blank"},R(l(c)),9,ko)])):P("",!0),So,Mo])]),u("div",null,[u("a",$o,[m(J,{display:"Forums",direction:l(Q).Down,yoffset:"5px"},{default:D(()=>[Co]),_:1},8,["direction"])])]),u("div",{onClick:y[1]||(y[1]=k=>{var w;return(w=t.value)==null?void 0:w.open()})},[m(J,{display:"Info",direction:l(Q).Down,class:"info"},{default:D(()=>[Io]),_:1},8,["direction"])]),u("div",{onClick:y[2]||(y[2]=k=>{var w;return(w=n.value)==null?void 0:w.open()})},[m(J,{display:"Saves",direction:l(Q).Down,xoffset:"-20px"},{default:D(()=>[To]),_:1},8,["direction"])]),u("div",{onClick:y[3]||(y[3]=k=>{var w;return(w=i.value)==null?void 0:w.open()})},[m(J,{display:"Options",direction:l(Q).Down,xoffset:"-66px"},{default:D(()=>[Fo]),_:1},8,["direction"])])],16)):(g(),x("div",Ue({key:1,class:"overlay-nav"},h.$attrs),[u("div",{onClick:y[4]||(y[4]=k=>{var w;return(w=a.value)==null?void 0:w.open()}),class:"version-container"},[m(J,{display:"Changelog",direction:l(Q).Right,xoffset:"25%",class:"version"},{default:D(()=>[u("span",null,"v"+R(l(_)),1)]),_:1},8,["direction"])]),u("div",{onClick:y[5]||(y[5]=k=>{var w;return(w=n.value)==null?void 0:w.open()})},[m(J,{display:"Saves",direction:l(Q).Right},{default:D(()=>[Po]),_:1},8,["direction"])]),u("div",{onClick:y[6]||(y[6]=k=>{var w;return(w=i.value)==null?void 0:w.open()})},[m(J,{display:"Options",direction:l(Q).Right},{default:D(()=>[Eo]),_:1},8,["direction"])]),u("div",{onClick:y[7]||(y[7]=k=>{var w;return(w=t.value)==null?void 0:w.open()})},[m(J,{display:"Info",direction:l(Q).Right},{default:D(()=>[Vo]),_:1},8,["direction"])]),u("div",null,[u("a",Oo,[m(J,{display:"Forums",direction:l(Q).Right,xoffset:"7px"},{default:D(()=>[Do]),_:1},8,["direction"])])]),u("div",Ao,[u("span",{onClick:b,class:"material-icons"},"discord"),u("ul",Bo,[l(d)?(g(),x("li",Lo,[u("a",{href:l(d),target:"_blank"},R(l(c)),9,qo)])):P("",!0),Uo,Ro])])],16)),m(Nr,{ref_key:"info",ref:t,changelog:a.value},null,8,["changelog"]),m(Xn,{ref_key:"savesManager",ref:n},null,512),m(Tr,{ref_key:"options",ref:i},null,512),m(ir,{ref_key:"changelog",ref:a},null,512)],64))}});var Qn=H(zo,[["__scopeId","data-v-4a3f8425"]]);const jo={class:"inner-tab"},Ho=B({__name:"Game",setup(e){const t=Ee(M,"tabs"),n=N(()=>Object.keys(se)),i=j.useHeader;function a(o){const{display:s,minimized:r,minWidth:c,name:d,color:_,minimizable:b,nodes:h}=o;return{display:s,minimized:r,minWidth:c,name:d,color:_,minimizable:b,nodes:h}}return(o,s)=>(g(),x("div",{class:re(["tabs-container",{useHeader:l(i)}])},[(g(!0),x(X,null,Tn(l(t),(r,c)=>{var d,_;return g(),x("div",{key:c,class:re(["tab",l((d=l(se)[r])==null?void 0:d.classes)]),ref_for:!0,ref:`tab-${c}`,style:de(l((_=l(se)[r])==null?void 0:_.style))},[c===0&&!l(i)?(g(),A(Qn,{key:0})):P("",!0),u("div",jo,[l(n).includes(r)?(g(),A(Ja,Ue({key:0},a(l(se)[r]),{index:c,tab:()=>{var b;return(b=o.$refs[`tab-${c}`])==null?void 0:b[0]}}),null,16,["index","tab"])):(g(),A(ie(r),{key:1,index:c},null,8,["index"]))])],6)}),128))],2))}});var Go=H(Ho,[["__scopeId","data-v-4cb9ce0f"]]);const Wo=B({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(t,n)=>(g(),x("div",{style:de({width:e.width,height:e.height})},null,4))}});function Yo(e,t="points",n=0,i=void 0){const a=ne(e)?e:je(e);return a.displayName=t,a.precision=n,a.small=i,a}new f("10^^8");new f("1e100");function an(e,t){const n=t!=null?t:e.value;return f.eq(e.precision,0)?Se(n):Y(n,e.precision,e.small)}const Ko=["x1","y1","x2","y2"],Zo=B({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=ae(e),i=N(()=>{const o=n.startNode.value.rect,s=n.boundingRect.value,r=s?{x:o.x+o.width/2-s.x,y:o.y+o.height/2-s.y}:{x:0,y:0};return n.link.value.offsetStart&&(r.x+=n.link.value.offsetStart.x,r.y+=n.link.value.offsetStart.y),r}),a=N(()=>{const o=n.endNode.value.rect,s=n.boundingRect.value,r=s?{x:o.x+o.width/2-s.x,y:o.y+o.height/2-s.y}:{x:0,y:0};return n.link.value.offsetEnd&&(r.x+=n.link.value.offsetEnd.x,r.y+=n.link.value.offsetEnd.y),r});return(o,s)=>(g(),x("line",Ue({"stroke-width":"15px",stroke:"white"},e.link,{x1:l(i).x,y1:l(i).y,x2:l(a).x,y2:l(a).y}),null,16,Ko))}});const Jo=B({__name:"Links",props:{links:null},setup(e){var c;const n=Ee(e,"links"),i=E(null),a=_t(Xt,E({})),o=_t(Qt,E(void 0)),s=E((c=i.value)==null?void 0:c.getBoundingClientRect());Ne(o,()=>{var d;return s.value=(d=i.value)==null?void 0:d.getBoundingClientRect()}),Mt(()=>{var d;return s.value=(d=i.value)==null?void 0:d.getBoundingClientRect()});const r=N(()=>{var _,b;const d=a.value;return(b=(_=n.value)==null?void 0:_.filter(h=>{var y,k;return((y=d[h.startNode.id])==null?void 0:y.rect)&&((k=d[h.startNode.id])==null?void 0:k.rect)}))!=null?b:[]});return(d,_)=>(g(),x(X,null,[l(r)?(g(),x("svg",vi(Ue({key:0},d.$attrs)),[(g(!0),x(X,null,Tn(l(r),(b,h)=>(g(),A(Zo,{key:h,link:b,boundingRect:s.value,startNode:l(a)[b.startNode.id],endNode:l(a)[b.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):P("",!0),u("div",{ref_key:"resizeListener",ref:i,class:"resize-listener"},null,512)],64))}});var Xo=H(Jo,[["__scopeId","data-v-063f6d6b"]]),Qo=B({props:{nodes:{type:O(Array),required:!0},leftSideNodes:O(Array),rightSideNodes:O(Array),branches:O(Array)},components:{Links:Xo},setup(e){const{nodes:t,leftSideNodes:n,rightSideNodes:i}=ae(e),a=be();ye(()=>{const r=ue(t);a.value=z(ee(()=>m(X,null,[r.map(c=>m("span",{class:"row tree-row",style:"margin: 50px auto;"},[c.map(yt)]))])))});const o=be();ye(()=>{const r=ue(n);o.value=r?z(ee(()=>m("span",{class:"left-side-nodes small"},[r.map(yt)]))):""});const s=be();return ye(()=>{const r=ue(i);s.value=r?z(ee(()=>m("span",{class:"side-nodes small"},[r.map(yt)]))):""}),{unref:l,nodesComp:a,leftNodesComp:o,rightNodesComp:s}}});function es(e,t,n,i,a,o){const s=$e("Links");return g(),x(X,null,[(g(),A(ie(e.nodesComp))),e.leftNodesComp?(g(),A(ie(e.leftNodesComp),{key:0})):P("",!0),e.rightNodesComp?(g(),A(ie(e.rightNodesComp),{key:1})):P("",!0),e.branches?(g(),A(s,{key:2,links:e.unref(e.branches)},null,8,["links"])):P("",!0)],64)}var ts=H(Qo,[["render",es],["__scopeId","data-v-39ca96d0"]]);const ns={key:0},is={key:0,class:"mark star"},as=["src"],rs=B({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(t,n)=>e.mark?(g(),x("div",ns,[e.mark===!0?(g(),x("div",is)):(g(),x("img",{key:1,class:"mark",src:e.mark},null,8,as))])):P("",!0)}});var rn=H(rs,[["__scopeId","data-v-2207999f"]]);const os=B({__name:"Node",props:{id:null},setup(e){const n=ae(e),i=_t(Zt,()=>{}),a=_t(Jt,()=>{}),o=E(null),s=N(()=>o.value&&o.value.parentElement);return Ne([s,n.id],([r,c],[d,_])=>{d&&a(l(_)),r&&i(c,r)}),In(()=>a(l(n.id))),(r,c)=>(g(),x("div",{class:"node",ref_key:"node",ref:o},null,512))}});var Ft=H(os,[["__scopeId","data-v-2cb1bb79"]]);const ss=B({props:{display:O(Object,String,Function),visibility:{type:O(Number),required:!0},style:O(String,Object,Array),classes:O(Object),onClick:Function,onHold:Function,color:O(String),glowColor:O(String),canClick:{type:O(Boolean),required:!0},mark:O(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:rn,Node:Ft},setup(e){const{onClick:t,onHold:n,display:i}=ae(e),a=It(i),{start:o,stop:s}=Hn(t,n);return{start:o,stop:s,comp:a,unref:l,Visibility:I,isCoercableComponent:De}}});function ls(e,t,n,i,a,o){var c;const s=$e("MarkNode"),r=$e("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),x("div",{key:0,style:de({visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0}),class:re({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:t[0]||(t[0]=(...d)=>e.onClick&&e.onClick(...d)),onMousedown:t[1]||(t[1]=(...d)=>e.start&&e.start(...d)),onMouseleave:t[2]||(t[2]=(...d)=>e.stop&&e.stop(...d)),onMouseup:t[3]||(t[3]=(...d)=>e.stop&&e.stop(...d)),onTouchstartPassive:t[4]||(t[4]=(...d)=>e.start&&e.start(...d)),onTouchendPassive:t[5]||(t[5]=(...d)=>e.stop&&e.stop(...d)),onTouchcancelPassive:t[6]||(t[6]=(...d)=>e.stop&&e.stop(...d))},[u("div",{style:de([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},(c=e.unref(e.style))!=null?c:[]])},[(g(),A(ie(e.unref(e.comp))))],4),m(s,{mark:e.unref(e.mark)},null,8,["mark"]),m(r,{id:e.id},null,8,["id"])],38)):P("",!0)}var us=H(ss,[["render",ls],["__scopeId","data-v-1c0c107d"]]);const ds=Symbol("TreeNode"),cs=Symbol("Tree");function fs(e){return Re(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=rt("treeNode-"),t.type=ds,t[_e]=us,T(t,"visibility"),le(t,"visibility",I.Visible),T(t,"canClick"),le(t,"canClick",!0),T(t,"color"),T(t,"display"),T(t,"glowColor"),T(t,"classes"),T(t,"style"),T(t,"mark"),t.onClick){const i=t.onClick.bind(t);t.onClick=function(){l(t.canClick)&&i()}}if(t.onHold){const i=t.onHold.bind(t);t.onHold=function(){l(t.canClick)&&i()}}return t[we]=function(){const{display:i,visibility:a,style:o,classes:s,onClick:r,onHold:c,color:d,glowColor:_,canClick:b,mark:h,id:y}=this;return{display:i,visibility:a,style:o,classes:s,onClick:r,onHold:c,color:d,glowColor:_,canClick:b,mark:h,id:y}},t})}function ps(e){return Re(()=>{const t=e();return t.id=rt("tree-"),t.type=cs,t[_e]=ts,t.isResetting=E(!1),t.resettingNode=be(null),t.reset=function(n){var a,o;const i=t;i.isResetting.value=!0,i.resettingNode.value=n,(a=i.resetPropagation)==null||a.call(i,i,n),(o=i.onReset)==null||o.call(i,n),i.isResetting.value=!1,i.resettingNode.value=null},t.links=N(()=>{var i;return(i=l(t.branches))!=null?i:[]}),T(t,"visibility"),le(t,"visibility",I.Visible),T(t,"nodes"),T(t,"leftSideNodes"),T(t,"rightSideNodes"),T(t,"branches"),t[we]=function(){const{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:o}=this;return{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:o}},t})}const ms=function(e,t){const n=[t];let i=[t];if(e.branches!=null){const a=l(e.branches);for(;i.length>0;){const o=[];i.forEach(s=>{a.filter(r=>r.startNode===s||r.endNode===s).map(r=>r.startNode===s?r.endNode:r.startNode).filter(r=>!n.includes(r)).forEach(r=>{var c;o.includes(r)||(o.push(r),(c=r.reset)==null||c.reset())})}),i=o,n.push(...i)}}};function hs(e,t=null,n=0){const i=ya(n);return N(()=>t==null||f.gte(e.value,l(i))?an(e)+" "+e.displayName:`Reach ${f.eq(t.precision,0)?Se(l(i)):Y(l(i),t.precision)} ${t.displayName} to unlock (You have ${f.eq(t.precision,0)?Se(t.value):Y(t.value,t.precision)})`)}const gs=Symbol("Reset");function vs(e){return Re(()=>{const t=e();return t.id=rt("reset-"),t.type=gs,t.reset=function(){var i;const n=a=>{a&&typeof a=="object"&&(pt in a?a[pt].value=a[kt]:!(a instanceof f)&&!ne(a)&&Object.values(a).forEach(o=>n(o)))};l(t.thingsToReset).forEach(n),ce.emit("reset",t),(i=t.onReset)==null||i.call(t)},T(t,"thingsToReset"),t})}const lt={};function bs(e,t){const n=je(new f(0));return lt[e.id]=e.on("preUpdate",i=>{n.value=f.add(n.value,i)}),ce.on("reset",i=>{i===t&&(n.value=new f(0))}),n}ce.on("removeLayer",e=>{var t;(t=lt[e.id])==null||t.call(lt),lt[e.id]=void 0});const ys=B({__name:"Sticky",setup(e){const t=E("0"),n=new ResizeObserver(a),i=E(null);function a(){let o=i.value;if(o==null)return;let s=0;for(;o.previousSibling;){const r=o.previousSibling;r.dataset&&"vSticky"in r.dataset&&(s+=r.offsetHeight),o=r}t.value=s+"px"}return Me(a),document.fonts.ready.then(a),Mt(()=>{var s;const o=(s=i.value)==null?void 0:s.parentElement;o&&n.observe(o)}),(o,s)=>(g(),x("div",{class:"sticky",style:de({top:t.value}),ref_key:"element",ref:i,"data-v-sticky":""},[ke(o.$slots,"default",{},void 0,!0)],4))}});var _s=H(ys,[["__scopeId","data-v-21495571"]]);const ws=B({__name:"Resource",props:{resource:null,color:null},setup(e){const t=e,n=N(()=>an(t.resource));return(i,a)=>(g(),x("h2",{style:de({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},R(l(n)),5))}});const Ns={class:"main-display"},xs={key:0},ks={key:1},Ss=F(", "),Ms=B({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,effectDisplay:null},setup(e){const n=ae(e),i=E(null),a=It(n.effectDisplay),o=N(()=>f.lt(n.resource.value,"1e1000"));return(s,r)=>(g(),A(_s,null,{default:D(()=>{var c,d;return[u("div",{class:"main-display-container",style:de({height:`${((d=(c=i.value)==null?void 0:c.$el.clientHeight)!=null?d:0)+50}px`})},[u("div",Ns,[l(o)?(g(),x("span",xs,"You have ")):P("",!0),m(ws,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),F(" "+R(e.resource.displayName),1),l(a)?(g(),x("span",ks,[Ss,(g(),A(ie(l(a)),{ref_key:"effectRef",ref:i},null,512))])):P("",!0)])],4)]}),_:1}))}});function $s(e,t){return T(t,"display"),T(t,"classes"),T(t,"style"),T(t,"direction"),le(t,"direction",Q.Up),T(t,"xoffset"),T(t,"yoffset"),t.pinnable&&("pinned"in e?(console.error("Cannot add pinnable tooltip to element that already has a property called 'pinned'"),t.pinnable=!1):e.pinned=t.pinned=je(!1)),Me(()=>{const n=e[_e];e[_e]=J;const i=e[we].bind(e);e[we]=function(){const{display:o,classes:s,style:r,direction:c,xoffset:d,yoffset:_,pinned:b}=this;return{element:{[_e]:n,[we]:i},display:o,classes:s,style:l(r),direction:c,xoffset:d,yoffset:_,pinned:b}}.bind(t)}),t}var Cs=B({props:{display:{type:O(Object,String,Function),required:!0},visibility:{type:O(Number),required:!0},style:O(Object,String,Array),classes:O(Object),onClick:Function,onHold:Function,canClick:{type:O(Boolean),required:!0},small:Boolean,mark:O(Boolean,String),id:{type:String,required:!0}},components:{Node:Ft,MarkNode:rn},setup(e){const{display:t,onClick:n,onHold:i}=ae(e),a=be("");ye(()=>{const r=ue(t);if(r==null){a.value="";return}if(De(r)){a.value=z(r);return}const c=z(r.title||"","h3"),d=z(r.description,"div");a.value=z(ee(()=>m("span",null,[r.title?m("div",null,[m(c,null,null)]):null,m(d,null,null)])))});const{start:o,stop:s}=Hn(n,i);return{start:o,stop:s,comp:a,Visibility:I,unref:l}}});function Is(e,t,n,i,a,o){var c;const s=$e("MarkNode"),r=$e("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),x("button",{key:0,style:de([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(c=e.unref(e.style))!=null?c:[]]),onClick:t[0]||(t[0]=(...d)=>e.onClick&&e.onClick(...d)),onMousedown:t[1]||(t[1]=(...d)=>e.start&&e.start(...d)),onMouseleave:t[2]||(t[2]=(...d)=>e.stop&&e.stop(...d)),onMouseup:t[3]||(t[3]=(...d)=>e.stop&&e.stop(...d)),onTouchstartPassive:t[4]||(t[4]=(...d)=>e.start&&e.start(...d)),onTouchendPassive:t[5]||(t[5]=(...d)=>e.stop&&e.stop(...d)),onTouchcancelPassive:t[6]||(t[6]=(...d)=>e.stop&&e.stop(...d)),class:re({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(g(),A(ie(e.unref(e.comp)),{key:0})):P("",!0),m(s,{mark:e.unref(e.mark)},null,8,["mark"]),m(r,{id:e.id},null,8,["id"])],38)):P("",!0)}var Ts=H(Cs,[["render",Is],["__scopeId","data-v-5e7c90cf"]]);function Je(e,t,n=!0){const i=typeof n=="function"?N(n):n;return e.on("update",()=>{var a;l(i)&&l(t.canClick)&&((a=t.onClick)==null||a.call(t))})}function Fs(e){return fs(()=>{const t=e();return T(t,"display"),le(t,"display",t.layerID),T(t,"append"),{...t,display:t.display,onClick:l(t.append)?function(){if(M.tabs.includes(t.layerID)){const n=M.tabs.lastIndexOf(t.layerID);M.tabs.splice(n,1)}else M.tabs.push(t.layerID)}:function(){M.tabs.splice(1,1,t.layerID)}}})}function Xe(e){if(e.lt(1e100))return e;let t=e.log(1e100).add(1).log2().floor(),n=e.div(new f(1e100).pow(new f(2).pow(t).minus(1)));return new f("1e100").pow(t).mul(n.pow(new f("0.5").pow(t)))}const Ps=Symbol("Buyable");function Qe(e){const t=je(0);return Re(()=>{var o,s;const n=e();if(n.canPurchase==null&&(n.resource==null||n.cost==null))throw console.warn("Cannot create buyable without a canPurchase property or a resource and cost property",n),"Cannot create buyable without a canPurchase property or a resource and cost property";n.id=rt("buyable-"),n.type=Ps,n[_e]=Ts,n.amount=t,n.canAfford=N(()=>{const r=n,c=l(r.cost);return r.resource!=null&&c!=null&&f.gte(r.resource.value,c)}),n.canPurchase==null&&(n.canPurchase=N(()=>l(n.visibility)===I.Visible&&l(n.canAfford)&&f.lt(n.amount.value,l(n.purchaseLimit)))),n.maxed=N(()=>f.gte(n.amount.value,l(n.purchaseLimit))),T(n,"classes");const i=n.classes;n.classes=N(()=>{const r=l(i)||{};return n.maxed.value&&(r.bought=!0),r}),T(n,"canPurchase"),n.canClick=n.canPurchase,n.onClick=n.purchase=(s=(o=n.onClick)!=null?o:n.purchase)!=null?s:function(){var d;const r=n;if(!l(r.canPurchase))return;const c=l(r.cost);r.cost!=null&&r.resource!=null&&(r.resource.value=f.sub(r.resource.value,c),r.amount.value=f.add(r.amount.value,1)),(d=r.onPurchase)==null||d.call(r,c)},T(n,"display");const a=n.display;return n.display=ee(()=>{const r=l(a);if(De(r)){const c=z(r);return m(c,null,null)}if(r!=null&&n.cost!=null&&n.resource!=null){const c=n,d=z(r.title||"","h3"),_=z(r.description||""),b=z(r.effectDisplay||"");return m("span",null,[r.title?m("div",null,[m(d,null,null)]):null,r.description?m(_,null,null):null,r.showAmount===!1?null:m("div",null,[m("br",null,null),l(c.purchaseLimit)===f.dInf?m(X,null,[F("Amount: "),Se(c.amount.value)]):m(X,null,[F("Amount: "),Se(c.amount.value),F(" /")," ",Se(l(c.purchaseLimit))])]),r.effectDisplay?m("div",null,[m("br",null,null),F("Currently: "),m(b,null,null)]):null,c.cost&&!c.maxed.value?m("div",null,[m("br",null,null),F("Cost: "),Y(l(c.cost)||0)," ",n.resource.displayName]):null])}return""}),T(n,"visibility"),le(n,"visibility",I.Visible),T(n,"cost"),T(n,"resource"),T(n,"purchaseLimit"),le(n,"purchaseLimit",f.dInf),T(n,"style"),T(n,"mark"),T(n,"small"),n[we]=function(){const{display:r,visibility:c,style:d,classes:_,onClick:b,canClick:h,small:y,mark:k,id:w}=this;return{display:r,visibility:c,style:l(d),classes:_,onClick:b,canClick:h,small:y,mark:k,id:w}},n})}var Es=B({props:{display:{type:O(String,Object,Function),required:!0},visibility:{type:O(Number),required:!0},style:O(String,Object,Array),classes:O(Object),resource:Object,cost:O(String,Object,Number),canPurchase:{type:O(Boolean),required:!0},bought:{type:O(Boolean),required:!0},mark:O(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:Ft,MarkNode:rn},setup(e){const{display:t,cost:n}=ae(e),i=be("");return ye(()=>{const a=ue(t);if(a==null){i.value="";return}if(De(a)){i.value=z(a);return}const o=ue(n),s=z(a.title||"","h3"),r=z(a.description,"div"),c=z(a.effectDisplay||"");i.value=z(ee(()=>{var d;return m("span",null,[a.title?m("div",null,[m(s,null,null)]):null,m(r,null,null),a.effectDisplay?m("div",null,[F("Currently: "),m(c,null,null)]):null,e.resource!=null?m(X,null,[m("br",null,null),F("Cost: "),e.resource&&an(e.resource,o)," ",(d=e.resource)==null?void 0:d.displayName]):null])}))}),{component:i,unref:l,Visibility:I}}});const Vs=["disabled"];function Os(e,t,n,i,a,o){var c;const s=$e("MarkNode"),r=$e("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),x("button",{key:0,style:de([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(c=e.unref(e.style))!=null?c:{}]),onClick:t[0]||(t[0]=(...d)=>e.purchase&&e.purchase(...d)),class:re({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(g(),A(ie(e.unref(e.component)),{key:0})):P("",!0),m(s,{mark:e.unref(e.mark)},null,8,["mark"]),m(r,{id:e.id},null,8,["id"])],14,Vs)):P("",!0)}var Ds=H(Es,[["render",Os],["__scopeId","data-v-7742f590"]]);const As=Symbol("Upgrade");function oe(e){const t=je(!1);return Re(()=>{const n=e();return n.id=rt("upgrade-"),n.type=As,n[_e]=Ds,n.canAfford==null&&(n.resource==null||n.cost==null)&&console.warn("Error: can't create upgrade without a canAfford property or a resource and cost property",n),n.bought=t,n.canAfford==null?n.canAfford=N(()=>{const i=n;return i.resource!=null&&i.cost!=null&&f.gte(i.resource.value,l(i.cost))}):T(n,"canAfford"),n.canPurchase=N(()=>l(n.visibility)===I.Visible&&l(n.canAfford)&&!l(n.bought)),n.purchase=function(){var a;const i=n;!l(i.canPurchase)||(i.resource!=null&&i.cost!=null&&(i.resource.value=f.sub(i.resource.value,l(i.cost))),t.value=!0,(a=i.onPurchase)==null||a.call(i))},T(n,"visibility"),le(n,"visibility",I.Visible),T(n,"classes"),T(n,"style"),T(n,"display"),T(n,"mark"),T(n,"cost"),T(n,"resource"),n[we]=function(){const{display:i,visibility:a,style:o,classes:s,resource:r,cost:c,canPurchase:d,bought:_,mark:b,id:h,purchase:y}=this;return{display:i,visibility:a,style:l(o),classes:s,resource:r,cost:c,canPurchase:d,bought:_,mark:b,id:h,purchase:y}},n})}var Bs=B({props:{visibility:{type:O(Number),required:!0},display:{type:O(String,Object,Function),required:!0},style:O(String,Object,Array),classes:O(Object),earned:{type:O(Boolean),required:!0},id:{type:String,required:!0}},components:{Node:Ft},setup(e){const{display:t}=ae(e),n=be("");return ye(()=>{const i=ue(t);if(i==null){n.value="";return}if(De(i)){n.value=z(i);return}const a=z(i.requirement,"h3"),o=z(i.effectDisplay||"","b"),s=z(i.optionsDisplay||"","span");n.value=z(ee(()=>m("span",null,[m(a,null,null),i.effectDisplay?m("div",null,[m(o,null,null)]):null,i.optionsDisplay?m("div",{class:"equal-spaced"},[m(s,null,null)]):null])))}),{comp:n,unref:l,Visibility:I}}});function Ls(e,t,n,i,a,o){var r;const s=$e("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),x("div",{key:0,style:de([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(r=e.unref(e.style))!=null?r:{}]),class:re({feature:!0,milestone:!0,done:e.unref(e.earned),...e.unref(e.classes)})},[(g(),A(ie(e.unref(e.comp)))),m(s,{id:e.id},null,8,["id"])],6)):P("",!0)}var qs=H(Bs,[["render",Ls],["__scopeId","data-v-f4e8794e"]]);ce.on("setupVue",e=>e.use(xi));const Us=Pn(),Rs=Symbol("Milestone");let Pe;(function(e){e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none"})(Pe||(Pe={}));function et(e){const t=je(!1);return Re(()=>{var a;const n=(a=e==null?void 0:e())!=null?a:{};n.id=rt("milestone-"),n.type=Rs,n[_e]=qs,n.earned=t,n.complete=function(){t.value=!0},T(n,"visibility"),le(n,"visibility",I.Visible);const i=n.visibility;if(n.visibility=N(()=>{const o=l(n.display);switch(K.msDisplay){default:case Pe.All:return l(i);case Pe.Configurable:return l(n.earned)&&!(o!=null&&typeof o=="object"&&"optionsDisplay"in o)?I.None:l(i);case Pe.Incomplete:return l(n.earned)?I.None:l(i);case Pe.None:return I.None}}),T(n,"style"),T(n,"classes"),T(n,"display"),n[we]=function(){const{visibility:o,display:s,style:r,classes:c,earned:d,id:_}=this;return{visibility:o,display:s,style:l(r),classes:c,earned:d,id:_}},n.shouldEarn){const o=n;ye(()=>{var s,r;if(K.active===M.id&&!o.earned.value&&l(o.visibility)===I.Visible&&((s=o.shouldEarn)==null?void 0:s.call(o))&&(o.earned.value=!0,(r=o.onComplete)==null||r.call(o),o.display)){const c=l(o.display),d=z(De(c)?c:c.requirement);Us(m(X,null,[m("h3",null,[F("Milestone earned!")]),m("div",null,[m(d,null,null)])]))}})}return n})}ce.on("loadSettings",e=>{le(e,"msDisplay",Pe.All)});const zs=Object.values(Pe).map(e=>({label:Ln(e),value:e}));Ma(ee(()=>m(tn,{title:"Show Milestones",options:zs,"onUpdate:modelValue":e=>K.msDisplay=e,modelValue:K.msDisplay},null)));const Cn="m",Pt=en(Cn,function(){const e="Matter",t="#336BDC";function n($,Ut,di){return function(){if(!$.amount)return f.dInf;let gt=$.amount.value;gt=f.sub(gt,oi.value);let Rt=f.pow(Ut,f.mul(f.sign(gt),f.pow(f.abs(gt),di)));return Rt=f.div(Rt,ii.value),Rt}}const i=N(()=>f.clamp(f.add(f.div(qt.value,60),1),1,1e3)),a=oe(()=>({resource:G,cost:1e4,display:{title:"Sine Boost",description:"Multiply Sine's minimum by 1.5 and maximum by 2, per upgrade bought"}})),o=oe(()=>({resource:G,cost:1e7,display:{title:"Sine Foundation",description:"Multiply Sine's minimum by 1.02 and maximum by 1.05, per Foundation bought"}})),s=oe(()=>({resource:G,cost:1e3,display:{title:"Logarithm Unlock",description:"Unlock Logarithm, which increases Foundation's effect based on matter"}})),r=oe(()=>({resource:G,cost:1e5,display:{title:"Logarithm Boost",description:"Increase Logarithm's exponent by 0.25 per upgrade bought"},visibility(){return s.bought.value?I.Visible:I.None}})),c=oe(()=>({resource:G,cost:1e18,display:{title:"Logarithm Foundation",description:"Increase Logarithm's exponent by 0.01 per Foundation bought"},visibility(){return s.bought.value?I.Visible:I.None}})),d=oe(()=>({resource:G,cost:1e11,display:{title:"Cosine Unlock",description:"Unlock Cosine, which decreases buyable levels for cost purposes"},visibility(){return s.bought.value?I.Visible:I.None}})),_=oe(()=>({resource:G,cost:1e12,display:{title:"Cosine Boost",description:"Increase Cosine's limit by 0.01 per upgrade bought"},visibility(){return d.bought.value?I.Visible:I.None}})),b=oe(()=>({resource:G,cost:1e39,display:{title:"Cosine Foundation",description:"Increase Cosine's limit by 0.0001 per Foundation bought, up to 0.2"},visibility(){return d.bought.value?I.Visible:I.None}})),h=oe(()=>({resource:G,cost:1e14,display:{title:"Exponential Unlock",description:"Unlock Exponential, which decreases buyable costs"},visibility(){return d.bought.value?I.Visible:I.None}})),y=oe(()=>({resource:G,cost:1e16,display:{title:"Exponential Boost",description:"Gain 10 free levels of Exponential per upgrade bought"},visibility(){return h.bought.value?I.Visible:I.None}})),k=oe(()=>({resource:G,cost:1e53,display:{title:"Exponential Foundation",description:"Increase Exponential's effect by 0.00001 per Foundation bought"},visibility(){return h.bought.value?I.Visible:I.None}})),w=oe(()=>({resource:G,cost:1e30,display:{title:"Hyperbolic Unlock",description:"Unlock Hyperbolic, which increases Sine's min and max based on matter"},visibility(){return h.bought.value?I.Visible:I.None}})),q=oe(()=>({resource:G,cost:1e48,display:{title:"Hyperbolic Boost",description:"Increase Hyperbolic's exponent to minimum 0.01 per upgrade bought"},visibility(){return w.bought.value?I.Visible:I.None}})),xe=oe(()=>({resource:G,cost:1e77,display:{title:"Hyperbolic Foundation",description:"Increase Hyperbolic's effect by 0.00001 per Foundation bought"},visibility(){return w.bought.value?I.Visible:I.None}})),S=oe(()=>({resource:G,cost:1e120,display:{title:"Antimatter Unlock",description:"Unlock Antimatter, which is a new layer"},visibility(){return w.bought.value?I.Visible:I.None}})),C={sineBoost:a,sineFoundation:o,logarithmUnlock:s,logarithmBoost:r,logarithmFoundation:c,cosineUnlock:d,cosineBoost:_,cosineFoundation:b,exponentialUnlock:h,exponentialBoost:y,exponentialFoundation:k,hyperbolicUnlock:w,hyperbolicBoost:q,hyperbolicFoundation:xe,antimatterUnlock:S},U=N(()=>Object.values(C).filter($=>$.bought.value).length),he=N(()=>{let $=new f(1);return $=$.add(f.mul(Ge.amount.value,sn.value)),$}),te=Qe(()=>({resource:G,cost:n(te,1.2,1.02),display(){return{title:"Foundation",description:`Increases length by ${Y(he.value)}`}}})),on=N(()=>{let $=new f(1);return r.bought.value&&($=$.add(f.div(U.value,4))),c.bought.value&&($=$.add(f.div(te.amount.value,100))),$}),sn=N(()=>Xe(f.div(f.pow(f.log10(f.max(100,G.value)),on.value),10))),Ge=Qe(()=>({resource:G,cost:n(Ge,1.4,1.02),display(){return{title:"Logarithm",description:`Increases Foundation's effect by log<sub>10</sub>(matter)<sup>${Y(on.value)}</sup>/10<br>
                    Currently ${Y(sn.value)}`}},visibility(){return s.bought.value?I.Visible:I.None}})),ln=N(()=>{let $=new f(1.05);return k.bought.value&&($=f.add($,f.mul(te.amount.value,1e-5))),$}),ii=N(()=>{let $=We.amount.value;return y.bought.value&&($=f.add($,f.mul(U.value,10))),Xe(f.pow(ln.value,$))}),We=Qe(()=>({resource:G,cost:n(We,1.6,1.02),display(){return{title:"Exponential",description:`Divides all matter buyable costs by ${Y(ln.value)}`}},visibility(){return h.bought.value?I.Visible:I.None}})),un=N(()=>{let $=new f(.1);return $=$.mul(f.pow(hn.value,gn.value)),o.bought.value&&($=$.mul(f.pow(1.02,te.amount.value))),a.bought.value&&($=$.mul(f.pow(1.5,U.value))),Xe($)}),dn=N(()=>{let $=new f(1);return $=$.mul(hn.value),o.bought.value&&($=$.mul(f.pow(1.05,te.amount.value))),a.bought.value&&($=$.mul(f.pow(2,U.value))),Xe($)}),ai=N(()=>(Math.sin(M.time*Math.PI/180/120)+1)/2),cn=N(()=>{const $=f.log10(un.value),Ut=f.log10(dn.value).minus($);return f.dTen.pow($.plus(Ut.mul(ai.value)))}),Ye=Qe(()=>({resource:G,cost:n(Ye,1.25,1.05),display(){return{title:"Sine",description:`Increases width by between ${Y(un.value)} to ${Y(dn.value)}<br>
                    Currently ${Y(cn.value)}`}}})),ri=N(()=>(Math.cos(M.time*Math.PI/180/120)+1)/2),fn=N(()=>{let $=new f(.15);return _.bought.value&&($=f.add($,f.div(U.value,100))),b.bought.value&&($=f.add($,f.min(f.mul(te.amount.value,1e-4),.2))),$}),pn=N(()=>f.mul(ri.value,fn.value)),oi=N(()=>f.mul(Ke.amount.value,pn.value)),Ke=Qe(()=>({resource:G,cost:n(Ke,1.5,1.05),display(){return{title:"Cosine",description:`Decreases buyable count for cost purposes of all matter buyables, by up to ${Y(fn.value)}<br>
                    Currently ${Y(pn.value)}`}},visibility(){return d.bought.value?I.Visible:I.None}})),mn=N(()=>{let $=new f(1.03);return xe.bought.value&&($=f.add($,f.mul(te.amount.value,1e-5))),$}),hn=N(()=>Xe(f.pow(mn.value,Ze.amount.value))),gn=N(()=>{let $=new f(.5);return q.bought.value&&($=$.add(f.div(U.value,100))),$}),Ze=Qe(()=>({resource:G,cost:n(Ze,1.75,1.05),display(){return{title:"Hyperbolic",description:`Multiply Sine's maximum by ${Y(mn.value)}, and min by ^${Y(gn.value)} of that`}},visibility(){return w.bought.value?I.Visible:I.None}})),si={foundation:te,logarithm:Ge,exponential:We,sine:Ye,cosine:Ke,hyperbolic:Ze},Vt=et(()=>({shouldEarn(){return f.gte(te.amount.value,200)},display:{requirement:"200 Foundation",effectDisplay:"Autobuy Foundation"},style:{width:"250px"}})),Ot=et(()=>({shouldEarn(){return f.gte(Ge.amount.value,200)},display:{requirement:"200 Logarithm",effectDisplay:"Autobuy Logarithm"},style:{width:"250px"},visibility(){return s.bought.value?I.Visible:I.None}})),Dt=et(()=>({shouldEarn(){return f.gte(We.amount.value,200)},display:{requirement:"200 Exponential",effectDisplay:"Autobuy Exponential"},style:{width:"250px"},visibility(){return h.bought.value?I.Visible:I.None}})),At=et(()=>({shouldEarn(){return f.gte(Ye.amount.value,200)},display:{requirement:"200 Sine",effectDisplay:"Autobuy Sine"},style:{width:"250px"}})),Bt=et(()=>({shouldEarn(){return f.gte(Ke.amount.value,200)},display:{requirement:"200 Cosine",effectDisplay:"Autobuy Cosine"},style:{width:"250px"},visibility(){return d.bought.value?I.Visible:I.None}})),Lt=et(()=>({shouldEarn(){return f.gte(Ze.amount.value,200)},display:{requirement:"200 Hyperbolic",effectDisplay:"Autobuy Hyperbolic"},style:{width:"250px"},visibility(){return w.bought.value?I.Visible:I.None}}));Je(this,te,Vt.earned),Je(this,Ge,Ot.earned),Je(this,We,Dt.earned),Je(this,Ye,At.earned),Je(this,Ke,Bt.earned),Je(this,Ze,Lt.earned);const li={foundation:Vt,logarithm:Ot,exponential:Dt,sine:At,cosine:Bt,hyperbolic:Lt},vn=N(()=>{let $=i.value;return $=$.add(f.mul(te.amount.value,he.value)),$}),bn=N(()=>{let $=i.value;return $=$.add(f.mul(cn.value,Ye.amount.value)),$}),yn=N(()=>i.value),G=Yo(N(()=>Xe(f.mul(f.mul(vn.value,bn.value),yn.value))),"matter"),_n=vs(()=>({thingsToReset:()=>[Pt]})),wn=Fs(()=>({layerID:Cn,color:t,reset:_n}));$s(wn,{display:hs(G),pinnable:!0});const qt=bs(this,_n),ui=ee(()=>m(X,null,[m("span",null,[m("div",null,[F("The dimensional generator has ran for "),Y(qt.value),F(" seconds.")]),m("div",null,[F("This results in +"),m("span",null,[Y(i.value)]),F(" to all directions")])])]));return{name:e,color:t,points:G,display:ee(()=>m(X,null,[m("table",null,[m("tr",null,[m("td",{style:"color: #336BDC"},[F("length")]),m("td",{style:"width: 2em"},[F("x")]),m("td",{style:"color: #336BDC"},[F("width")]),m("td",{style:"width: 2em"},[F("x")]),m("td",{style:"color: #336BDC"},[F("height")])]),m("tr",null,[m("td",{style:"color: #336BDC"},[Y(vn.value)]),m("td",null,[F("x")]),m("td",{style:"color: #336BDC"},[Y(bn.value)]),m("td",null,[F("x")]),m("td",{style:"color: #336BDC"},[Y(yn.value)])])]),m(Ms,{resource:G,color:t},null),ot(ui),Le(te,Ge,We),Le(Ye,Ke,Ze),Le(a,r,_,y,q),Le(o,c,b,k,xe),Le(s,d,h,w,S),Le(Vt,Ot,Dt),Le(At,Bt,Lt)])),treeNode:wn,upgradeData:C,buyableData:si,milestoneData:li,resetTime:qt}}),ei=en("main",()=>{const e=ps(()=>({nodes:[[Pt.treeNode]],branches:[],onReset(){},resetPropagation:ms}));return{name:"Tree",links:e.links,display:ee(()=>m(X,null,[M.devSpeed===0?m("div",null,[F("Game Paused")]):null,M.devSpeed&&M.devSpeed!==1?m("div",null,[F("Dev Speed: "),Y(M.devSpeed),F("x")]):null,M.offlineTime?m("div",null,[F("Offline Time: "),$t(M.offlineTime)]):null,m(Wo,null,null),ot(e)])),tree:e}}),js=e=>[ei,Pt],ti=N(()=>Pt.upgradeData.antimatterUnlock.bought.value);function Hs(e,t){}var ni=Object.freeze(Object.defineProperty({__proto__:null,main:ei,getInitialLayers:js,hasWon:ti,fixOldSave:Hs},Symbol.toStringTag,{value:"Module"}));const ht=e=>(Ve("data-v-4a50ce42"),e=e(),Oe(),e),Gs={class:"game-over-modal-header"},Ws=["src","alt"],Ys={class:"game-over-modal-title"},Ks=ht(()=>u("h2",null,"Congratulations!",-1)),Zs={key:0},Js=ht(()=>u("br",null,null,-1)),Xs=ht(()=>u("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),Qs=ht(()=>u("br",null,null,-1)),el=["href"],tl=ht(()=>u("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),nl=B({__name:"GameOverScreen",setup(e){const{title:t,logo:n,discordName:i,discordLink:a,versionNumber:o,versionTitle:s}=j,r=N(()=>$t(M.timePlayed)),c=N(()=>ti.value&&!M.keepGoing),d=Ee(M,"autosave");function _(){M.keepGoing=!0}function b(){qe(it())}return(h,y)=>(g(),A(ze,{"model-value":l(c)},{header:D(()=>[u("div",Gs,[l(n)?(g(),x("img",{key:0,class:"game-over-modal-logo",src:l(n),alt:l(t)},null,8,Ws)):P("",!0),u("div",Ys,[Ks,u("h4",null,"You've beaten "+R(l(t))+" v"+R(l(o))+": "+R(l(s)),1)])])]),body:D(({shown:k})=>[k?(g(),x("div",Zs,[u("div",null,"It took you "+R(l(r))+" to beat the game.",1),Js,Xs,Qs,u("div",null,[u("a",{href:l(a),class:"game-over-modal-discord-link"},[tl,F(" "+R(l(i)),1)],8,el)]),m(Te,{title:"Autosave",modelValue:l(d),"onUpdate:modelValue":y[0]||(y[0]=w=>ne(d)?d.value=w:null)},null,8,["modelValue"])])):P("",!0)]),footer:D(()=>[u("div",{class:"game-over-footer"},[u("button",{onClick:_,class:"button"},"Keep Going"),u("button",{onClick:b,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var il=H(nl,[["__scopeId","data-v-4a50ce42"]]);const Et=e=>(Ve("data-v-3de07c06"),e=e(),Oe(),e),al=Et(()=>u("div",{class:"nan-modal-header"},[u("h2",null,"NaN value detected!")],-1)),rl={key:0},ol=Et(()=>u("br",null,null,-1)),sl=["href"],ll=Et(()=>u("span",{class:"material-icons nan-modal-discord"},"discord",-1)),ul=Et(()=>u("br",null,null,-1)),dl={class:"nan-footer"},cl=B({__name:"NaNScreen",setup(e){const{discordName:t,discordLink:n}=j,i=Ee(M,"autosave"),a=Ee(W,"hasNaN"),o=E(null),s=N(()=>{var y;return(y=W.NaNPath)==null?void 0:y.join(".")}),r=N(()=>{var y;return(y=W.NaNPath)==null?void 0:y.slice(-1)[0]}),c=N(()=>W.NaNReceiver&&r.value?W.NaNReceiver[r.value]:null),d=N({get(){return M.devSpeed===0},set(y){M.devSpeed=y?null:0}});function _(){W.NaNReceiver&&r.value&&(W.NaNReceiver[r.value]=new f(0),W.hasNaN=!1)}function b(){W.NaNReceiver&&r.value&&(W.NaNReceiver[r.value]=new f(1),W.hasNaN=!1)}function h(){W.NaNReceiver&&r.value&&(W.NaNReceiver[r.value]=new f(NaN),W.hasNaN=!1)}return(y,k)=>(g(),x(X,null,[m(ze,Ue({modelValue:l(a),"onUpdate:modelValue":k[4]||(k[4]=w=>ne(a)?a.value=w:null)},y.$attrs),{header:D(()=>[al]),body:D(()=>[u("div",null,[F(' Attempted to assign "'+R(l(s))+'" to NaN',1),l(c)?(g(),x("span",rl,R(" ")+"(previously "+R(l(Y)(l(c)))+")",1)):P("",!0),F(". Auto-saving has been "+R(l(i)?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),ol,u("div",null,[u("a",{href:l(n),class:"nan-modal-discord-link"},[ll,F(" "+R(l(t)),1)],8,sl)]),ul,m(Te,{title:"Autosave",modelValue:l(i),"onUpdate:modelValue":k[0]||(k[0]=w=>ne(i)?i.value=w:null)},null,8,["modelValue"]),l(j).enablePausing?(g(),A(Te,{key:0,title:"Pause game",modelValue:l(d),"onUpdate:modelValue":k[1]||(k[1]=w=>ne(d)?d.value=w:null)},null,8,["modelValue"])):P("",!0)]),footer:D(()=>[u("div",dl,[u("button",{onClick:k[2]||(k[2]=w=>{var q;return(q=o.value)==null?void 0:q.open()}),class:"button"},"Open Saves Manager"),u("button",{onClick:_,class:"button"},"Set to 0"),u("button",{onClick:b,class:"button"},"Set to 1"),l(c)&&l(f).neq(l(c),0)&&l(f).neq(l(c),1)?(g(),x("button",{key:0,onClick:k[3]||(k[3]=w=>a.value=!1),class:"button"}," Set to previous ")):P("",!0),u("button",{onClick:h,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),m(Xn,{ref_key:"savesManager",ref:o},null,512)],64))}});var fl=H(cl,[["__scopeId","data-v-3de07c06"]]);const pl={key:0,class:"tpsDisplay"},ml={key:0,class:"low"},hl=B({__name:"TPS",setup(e){const t=N(()=>f.div(W.lastTenTicks.length,W.lastTenTicks.reduce((o,s)=>o+s,0))),n=E([]);ye(()=>{n.value.push(Math.round(t.value.toNumber())),n.value.length>10&&(n.value=n.value.slice(1))});const i=N(()=>n.value.reduce((o,s)=>f.max(o,s),0)),a=N(()=>f.sub(t.value,i.value).gt(1));return(o,s)=>l(t).isNan()?P("",!0):(g(),x("div",pl,[F(" TPS: "+R(l(Se)(l(t)))+" ",1),m(Yt,{name:"fade"},{default:D(()=>[l(a)?(g(),x("span",ml,R(l(Se)(l(i))),1)):P("",!0)]),_:1})]))}});var gl=H(hl,[["__scopeId","data-v-46a3ed5b"]]);var vl=B({__name:"App",setup(e){const t=j.useHeader,n=N(()=>Ct[K.theme].variables),i=Ee(K,"showTPS"),a=N(()=>z(ee(()=>m(X,null,[Ca.map(ot)]))));return(o,s)=>(g(),x(X,null,[u("div",{id:"modal-root",style:de(l(n))},null,4),u("div",{class:re(["app",{useHeader:l(t)}]),style:de(l(n))},[l(t)?(g(),A(Qn,{key:0})):P("",!0),m(Go),l(l(i))?(g(),A(gl,{key:1})):P("",!0),m(il),m(fl),(g(),A(ie(l(a))))],6)],64))}});var bl=H(vl,[["__scopeId","data-v-9417972e"]]);function yl(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:o}=e;let s,r;const c=async(d=!0)=>{d&&(s==null||s.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()})),r&&r.waiting&&await Si(r.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new ki("./sw.js",{scope:"./",type:"classic"}),s.addEventListener("activated",d=>{d.isUpdate||i==null||i()});{const d=()=>{n==null||n()};s.addEventListener("waiting",d),s.addEventListener("externalwaiting",d)}s.register({immediate:t}).then(d=>{r=d,a==null||a(d)}).catch(d=>{o==null||o(d)})}return c}function _l(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:o}=e,s=E(!1),r=E(!1);return{updateServiceWorker:yl({immediate:t,onNeedRefresh(){s.value=!0,n==null||n()},onOfflineReady(){r.value=!0,i==null||i()},onRegistered:a,onRegisterError:o}),offlineReady:r,needRefresh:s}}document.title=j.title;window.projInfo=j;if(j.id==="")throw"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json";requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await xa();const{globalBus:e,startGameLoop:t}=await wt(()=>Promise.resolve().then(function(){return Na}),void 0),n=window.vue=bi(bl);e.emit("setupVue",n),n.mount("#app"),Me(()=>{const i=Pn(),{updateServiceWorker:a}=_l({onNeedRefresh(){i.info("New content available, click or reload to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){a()}})},onOfflineReady(){i.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(o){o&&setInterval(o.update,60*60*1e3)}})}),t()});
