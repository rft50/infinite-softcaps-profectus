import"./vue.e0db5cd7.js";import{Z as v,u as yn,q as Lt,C as r,b1 as Ve,aa as E,aE as h,a0 as S,a1 as d,aK as Ke,G as oe,t as P,aC as Zn,w as Be,b2 as Pe,a8 as p,ao as Fi,O as W,ay as rn,ar as Xe,aG as Kt,A as se,_ as L,b6 as U,b8 as _n,bs as Di,aq as ut,bu as Dt,bb as wn,T as Ai,a7 as D,j as Bi,l as he,bv as Un,aL as Te,$ as B,J as j,aN as ne,I as ie,aH as ct,aF as ft,z as dt,bn as Pi,br as Oi,aJ as Mt,al as en,H as Ei,F as Vi,be as Li}from"./@vue.4ce677c2.js";import{i as Ui}from"./is-plain-object.906d88e8.js";import{c as Kn}from"./nanoevents.1080beb7.js";import{L as rt}from"./lz-string.731cedc5.js";import{Y as Ri}from"./vue-next-select.2929f584.js";import{D as qi}from"./vuedraggable.5fc132aa.js";import{p as zi}from"./vue-textarea-autosize.35804eaf.js";import{s as ji,u as Jn}from"./vue-toastification.c761b1cc.js";import{v as Gi,n as Hi}from"./workbox-window.60401ce8.js";import"./sortablejs.79f19b9d.js";const Wi=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};Wi();const Yi="modulepreload",Rn={},Zi="./",tn=function(t,n){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=`${Zi}${i}`,i in Rn)return;Rn[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":Yi,a||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),a)return new Promise((s,c)=>{l.addEventListener("load",s),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},Ki="Infinite Softcaps",Ji="Infinite Softcaps",Xi="infinite-softcaps",Qi="rft50",ea="",ta="",na="1.0",ia="Infinite Matter",aa=!0,oa=!1,ra=2,sa=!0,la=null,ua="",da=["main"],ca=3600,fa=1,pa=!0,ma="base64";var Z={title:Ki,description:Ji,id:Xi,author:Qi,discordName:ea,discordLink:ta,versionNumber:na,versionTitle:ia,allowGoBack:aa,defaultShowSmall:oa,defaultDecimalsShown:ra,useHeader:sa,banner:la,logo:ua,initialTabs:da,maxTickLength:ca,offlineLimit:fa,enablePausing:pa,exportEncoding:ma};const mn=17,ga=9e15,ha=Math.log10(9e15),va=1/9e15,ba=308,ya=-324,qn=5,_a=function(){const e=[];for(let n=ya+1;n<=ba;n++)e.push(Number("1e"+n));const t=323;return function(n){return e[n+t]}}(),ht=[2,Math.E,3,4,5,6,7,8,9,10],wa=[[1,1.0891168053867777,1.1789745164521264,1.2701428397304229,1.3632066654400328,1.4587804913784246,1.557523817412741,1.660158301473385,1.767487542936873,1.8804205225512542,2],[1,1.1121114330934,1.23103892493161,1.35838369631113,1.49605193039935,1.64635423375119,1.81213853570186,1.99697132461829,2.20538955455724,2.44325744833852,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.18422737399915,1.4066113788546144,1.680911177655277,2.027492094355525,2.4775152854601967,3.080455730250329,3.918234505962507,5.1332705696484595,6.9878696918072905,10]],ka=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]],m=function(t){return u.fromValue_noAlloc(t)},V=function(e,t,n){return u.fromComponents(e,t,n)},z=function(t,n,i){return u.fromComponents_noNormalize(t,n,i)},at=function(t,n){const i=n+1,a=Math.ceil(Math.log10(Math.abs(t))),o=Math.round(t*Math.pow(10,i-a))*Math.pow(10,a-i);return parseFloat(o.toFixed(Math.max(i-a,0)))},gn=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},Na=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let t=1;for(;e<10;)t=t*e,++e;e-=1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let a=e;return n=n+1/(12*a),a=a*i,n=n+1/(360*a),a=a*i,n=n+1/(1260*a),a=a*i,n=n+1/(1680*a),a=a*i,n=n+1/(1188*a),a=a*i,n=n+691/(360360*a),a=a*i,n=n+7/(1092*a),a=a*i,n=n+3617/(122400*a),Math.exp(n)/t},Xn=.5671432904097838,zn=function(e,t=1e-10){let n,i;if(!Number.isFinite(e)||e===0)return e;if(e===1)return Xn;e<10?n=0:n=Math.log(e)-Math.log(Math.log(e));for(let a=0;a<100;++a){if(i=(e*Math.exp(-n)+n*n)/(n+1),Math.abs(i-n)<t*Math.abs(i))return i;n=i}throw Error(`Iteration failed to converge: ${e.toString()}`)};function jn(e,t=1e-10){let n,i,a,o;if(!Number.isFinite(e.mag)||e===u.dZero)return e;if(e===u.dOne)return m(Xn);u.abs(e),n=u.ln(e);for(let l=0;l<100;++l){if(i=u.exp(-n),a=n.sub(e.mul(i)),o=n.sub(a.div(n.add(1).sub(n.add(2).mul(a).div(u.mul(2,n).add(2))))),u.abs(o.sub(n)).lt(u.abs(o).mul(t)))return o;n=o}throw Error(`Iteration failed to converge: ${e.toString()}`)}const _=class{constructor(e){this.sign=Number.NaN,this.mag=Number.NaN,this.layer=Number.NaN,e instanceof _||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/_a(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer,this.exponent))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,n){return new _().fromComponents(e,t,n)}static fromComponents_noNormalize(e,t,n){return new _().fromComponents_noNormalize(e,t,n)}static fromMantissaExponent(e,t){return new _().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new _().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new _().fromDecimal(e)}static fromNumber(e){return new _().fromNumber(e)}static fromString(e){return new _().fromString(e)}static fromValue(e){return new _().fromValue(e)}static fromValue_noAlloc(e){return e instanceof _?e:new _(e)}static abs(e){return m(e).abs()}static neg(e){return m(e).neg()}static negate(e){return m(e).neg()}static negated(e){return m(e).neg()}static sign(e){return m(e).sign}static sgn(e){return m(e).sign}static round(e){return m(e).round()}static floor(e){return m(e).floor()}static ceil(e){return m(e).ceil()}static trunc(e){return m(e).trunc()}static add(e,t){return m(e).add(t)}static plus(e,t){return m(e).add(t)}static sub(e,t){return m(e).sub(t)}static subtract(e,t){return m(e).sub(t)}static minus(e,t){return m(e).sub(t)}static mul(e,t){return m(e).mul(t)}static multiply(e,t){return m(e).mul(t)}static times(e,t){return m(e).mul(t)}static div(e,t){return m(e).div(t)}static divide(e,t){return m(e).div(t)}static recip(e){return m(e).recip()}static reciprocal(e){return m(e).recip()}static reciprocate(e){return m(e).reciprocate()}static cmp(e,t){return m(e).cmp(t)}static cmpabs(e,t){return m(e).cmpabs(t)}static compare(e,t){return m(e).cmp(t)}static isNaN(e){return e=m(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=m(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return m(e).eq(t)}static equals(e,t){return m(e).eq(t)}static neq(e,t){return m(e).neq(t)}static notEquals(e,t){return m(e).notEquals(t)}static lt(e,t){return m(e).lt(t)}static lte(e,t){return m(e).lte(t)}static gt(e,t){return m(e).gt(t)}static gte(e,t){return m(e).gte(t)}static max(e,t){return m(e).max(t)}static min(e,t){return m(e).min(t)}static minabs(e,t){return m(e).minabs(t)}static maxabs(e,t){return m(e).maxabs(t)}static clamp(e,t,n){return m(e).clamp(t,n)}static clampMin(e,t){return m(e).clampMin(t)}static clampMax(e,t){return m(e).clampMax(t)}static cmp_tolerance(e,t,n){return m(e).cmp_tolerance(t,n)}static compare_tolerance(e,t,n){return m(e).cmp_tolerance(t,n)}static eq_tolerance(e,t,n){return m(e).eq_tolerance(t,n)}static equals_tolerance(e,t,n){return m(e).eq_tolerance(t,n)}static neq_tolerance(e,t,n){return m(e).neq_tolerance(t,n)}static notEquals_tolerance(e,t,n){return m(e).notEquals_tolerance(t,n)}static lt_tolerance(e,t,n){return m(e).lt_tolerance(t,n)}static lte_tolerance(e,t,n){return m(e).lte_tolerance(t,n)}static gt_tolerance(e,t,n){return m(e).gt_tolerance(t,n)}static gte_tolerance(e,t,n){return m(e).gte_tolerance(t,n)}static pLog10(e){return m(e).pLog10()}static absLog10(e){return m(e).absLog10()}static log10(e){return m(e).log10()}static log(e,t){return m(e).log(t)}static log2(e){return m(e).log2()}static ln(e){return m(e).ln()}static logarithm(e,t){return m(e).logarithm(t)}static pow(e,t){return m(e).pow(t)}static pow10(e){return m(e).pow10()}static root(e,t){return m(e).root(t)}static factorial(e,t){return m(e).factorial()}static gamma(e,t){return m(e).gamma()}static lngamma(e,t){return m(e).lngamma()}static exp(e){return m(e).exp()}static sqr(e){return m(e).sqr()}static sqrt(e){return m(e).sqrt()}static cube(e){return m(e).cube()}static cbrt(e){return m(e).cbrt()}static tetrate(e,t=2,n=z(1,0,1)){return m(e).tetrate(t,n)}static iteratedexp(e,t=2,n=z(1,0,1)){return m(e).iteratedexp(t,n)}static iteratedlog(e,t=10,n=1){return m(e).iteratedlog(t,n)}static layeradd10(e,t){return m(e).layeradd10(t)}static layeradd(e,t,n=10){return m(e).layeradd(t,n)}static slog(e,t=10){return m(e).slog(t)}static lambertw(e){return m(e).lambertw()}static ssqrt(e){return m(e).ssqrt()}static pentate(e,t=2,n=z(1,0,1)){return m(e).pentate(t,n)}static affordGeometricSeries(e,t,n,i){return this.affordGeometricSeries_core(m(e),m(t),m(n),i)}static sumGeometricSeries(e,t,n,i){return this.sumGeometricSeries_core(e,m(t),m(n),i)}static affordArithmeticSeries(e,t,n,i){return this.affordArithmeticSeries_core(m(e),m(t),m(n),m(i))}static sumArithmeticSeries(e,t,n,i){return this.sumArithmeticSeries_core(m(e),m(t),m(n),m(i))}static efficiencyOfPurchase(e,t,n){return this.efficiencyOfPurchase_core(m(e),m(t),m(n))}static randomDecimalForTesting(e){if(Math.random()*20<1)return z(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return z(t,0,1);const n=Math.floor(Math.random()*(e+1));let i=n===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(i=Math.trunc(i));let a=Math.pow(10,i);return Math.random()>.9&&(a=Math.trunc(a)),V(t,n,a)}static affordGeometricSeries_core(e,t,n,i){const a=t.mul(n.pow(i));return _.floor(e.div(a).mul(n.sub(1)).add(1).log10().div(n.log10()))}static sumGeometricSeries_core(e,t,n,i){return t.mul(n.pow(i)).mul(_.sub(1,n.pow(e))).div(_.sub(1,n))}static affordArithmeticSeries_core(e,t,n,i){const o=t.add(i.mul(n)).sub(n.div(2)),l=o.pow(2);return o.neg().add(l.add(n.mul(e).mul(2)).sqrt()).div(n).floor()}static sumArithmeticSeries_core(e,t,n,i){const a=t.add(i.mul(n));return e.div(2).mul(a.mul(2).plus(e.sub(1).mul(n)))}static efficiencyOfPurchase_core(e,t,n){return e.div(t).add(e.div(n))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<va)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=ga)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<ha&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this.normalize(),this}fromComponents_noNormalize(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){e=e.replace(",","");const t=e.split("^^^");if(t.length===2){const g=parseFloat(t[0]),k=parseFloat(t[1]),$=t[1].split(";");let x=1;if($.length===2&&(x=parseFloat($[1]),isFinite(x)||(x=1)),isFinite(g)&&isFinite(k)){const O=_.pentate(g,k,x);return this.sign=O.sign,this.layer=O.layer,this.mag=O.mag,this}}const n=e.split("^^");if(n.length===2){const g=parseFloat(n[0]),k=parseFloat(n[1]),$=n[1].split(";");let x=1;if($.length===2&&(x=parseFloat($[1]),isFinite(x)||(x=1)),isFinite(g)&&isFinite(k)){const O=_.tetrate(g,k,x);return this.sign=O.sign,this.layer=O.layer,this.mag=O.mag,this}}const i=e.split("^");if(i.length===2){const g=parseFloat(i[0]),k=parseFloat(i[1]);if(isFinite(g)&&isFinite(k)){const $=_.pow(g,k);return this.sign=$.sign,this.layer=$.layer,this.mag=$.mag,this}}e=e.trim().toLowerCase();let a,o,l=e.split("pt");if(l.length===2){a=10,o=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let g=parseFloat(l[1]);if(isFinite(g)||(g=1),isFinite(a)&&isFinite(o)){const k=_.tetrate(a,o,g);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,this}}if(l=e.split("p"),l.length===2){a=10,o=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let g=parseFloat(l[1]);if(isFinite(g)||(g=1),isFinite(a)&&isFinite(o)){const k=_.tetrate(a,o,g);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,this}}const s=e.split("e"),c=s.length-1;if(c===0){const g=parseFloat(e);if(isFinite(g))return this.fromNumber(g)}else if(c===1){const g=parseFloat(e);if(isFinite(g)&&g!==0)return this.fromNumber(g)}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let g="";for(let k=0;k<f[1].length;++k){const $=f[1].charCodeAt(k);if($>=43&&$<=57||$===101)g+=f[1].charAt(k);else return this.layer=parseFloat(g),this.mag=parseFloat(f[1].substr(k+1)),this.normalize(),this}}if(c<1)return this.sign=0,this.layer=0,this.mag=0,this;const y=parseFloat(s[0]);if(y===0)return this.sign=0,this.layer=0,this.mag=0,this;let b=parseFloat(s[s.length-1]);if(c>=2){const g=parseFloat(s[s.length-2]);isFinite(g)&&(b*=Math.sign(g),b+=gn(g))}if(!isFinite(y))this.sign=s[0]==="-"?-1:1,this.layer=c,this.mag=b;else if(c===1)this.sign=Math.sign(y),this.layer=1,this.mag=b+Math.log10(Math.abs(y));else if(this.sign=Math.sign(y),this.layer=c,c===2){const g=_.mul(V(1,2,b),m(y));return this.sign=g.sign,this.layer=g.layer,this.mag=g.mag,this}else this.mag=b;return this.normalize(),this}fromValue(e){return e instanceof _||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:at(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:at(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=qn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):at(this.m,e)+"e"+at(this.e,e):this.layer===1?at(this.m,e)+"e"+at(this.e,e):this.layer<=qn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+at(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+at(this.mag,e)}abs(){return z(this.sign===0?0:1,this.layer,this.mag)}neg(){return z(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?_.dZero:this.layer===0?V(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?_.dZero:this.layer===0?V(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?_.dZero:this.layer===0?V(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?_.dZero:this.layer===0?V(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=m(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return z(0,0,0);let n,i;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(_.cmpabs(this,t)>0?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return m(n.sign*n.mag+i.sign*i.mag);const a=n.layer*Math.sign(n.mag),o=i.layer*Math.sign(i.mag);if(a-o>=2)return n;if(a===0&&o===-1){if(Math.abs(i.mag-Math.log10(n.mag))>mn)return n;{const l=Math.pow(10,Math.log10(n.mag)-i.mag),s=i.sign+n.sign*l;return V(Math.sign(s),1,i.mag+Math.log10(Math.abs(s)))}}if(a===1&&o===0){if(Math.abs(n.mag-Math.log10(i.mag))>mn)return n;{const l=Math.pow(10,n.mag-Math.log10(i.mag)),s=i.sign+n.sign*l;return V(Math.sign(s),1,Math.log10(i.mag)+Math.log10(Math.abs(s)))}}if(Math.abs(n.mag-i.mag)>mn)return n;{const l=Math.pow(10,n.mag-i.mag),s=i.sign+n.sign*l;return V(Math.sign(s),1,i.mag+Math.log10(Math.abs(s)))}}plus(e){return this.add(e)}sub(e){return this.add(m(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=m(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return z(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return z(this.sign*t.sign,0,1);let n,i;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return m(n.sign*i.sign*n.mag*i.mag);if(n.layer>=3||n.layer-i.layer>=2)return V(n.sign*i.sign,n.layer,n.mag);if(n.layer===1&&i.layer===0)return V(n.sign*i.sign,1,n.mag+Math.log10(i.mag));if(n.layer===1&&i.layer===1)return V(n.sign*i.sign,1,n.mag+i.mag);if(n.layer===2&&i.layer===1){const a=V(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(V(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return V(n.sign*i.sign,a.layer+1,a.sign*a.mag)}if(n.layer===2&&i.layer===2){const a=V(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(V(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return V(n.sign*i.sign,a.layer+1,a.sign*a.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=m(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?_.dNaN:this.layer===0?V(this.sign,0,1/this.mag):V(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=m(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=m(e),n=this.mag>0?this.layer:-this.layer,i=t.mag>0?t.layer:-t.layer;return n>i?1:n<i?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=m(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=m(e);return this.lt(t)?t:this}min(e){const t=m(e);return this.gt(t)?t:this}maxabs(e){const t=m(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=m(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)?0:this.cmp(n)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const n=m(e);if(t==null&&(t=1e-7),this.sign!==n.sign||Math.abs(this.layer-n.layer)>1)return!1;let i=this.mag,a=n.mag;return this.layer>n.layer&&(a=gn(a)),this.layer<n.layer&&(i=gn(i)),Math.abs(i-a)<=t*Math.max(Math.abs(i),Math.abs(a))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const n=m(e);return!this.eq_tolerance(n,t)&&this.lt(n)}lte_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)||this.lt(n)}gt_tolerance(e,t){const n=m(e);return!this.eq_tolerance(n,t)&&this.gt(n)}gte_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)||this.gt(n)}pLog10(){return this.lt(_.dZero)?_.dZero:this.log10()}absLog10(){return this.sign===0?_.dNaN:this.layer>0?V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):V(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?_.dNaN:this.layer>0?V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):V(this.sign,0,Math.log10(this.mag))}log(e){return e=m(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?_.dNaN:this.layer===0&&e.layer===0?V(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):_.div(this.log10(),e.log10())}log2(){return this.sign<=0?_.dNaN:this.layer===0?V(this.sign,0,Math.log2(this.mag)):this.layer===1?V(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?V(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?_.dNaN:this.layer===0?V(this.sign,0,Math.log(this.mag)):this.layer===1?V(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?V(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):V(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=m(e),n=this,i=t;if(n.sign===0)return i.eq(0)?z(1,0,1):n;if(n.sign===1&&n.layer===0&&n.mag===1)return n;if(i.sign===0)return z(1,0,1);if(i.sign===1&&i.layer===0&&i.mag===1)return n;const a=n.absLog10().mul(i).pow10();return this.sign===-1?Math.abs(i.toNumber()%2)%2===1?a.neg():Math.abs(i.toNumber()%2)%2===0?a:_.dNaN:a}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return _.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return V(1,0,t);if(e.sign===0)return _.dOne;e=z(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?V(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?V(-e.sign,e.layer+1,-e.mag):_.dOne}pow_base(e){return m(e).pow(this)}root(e){const t=m(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?_.exp(_.mul(this,_.ln(this).sub(1))):_.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(z(1,0,24)))return m(Na(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const n=e*e;let i=e,a=12*i,o=1/a,l=t+o;if(l===t||(t=l,i=i*n,a=360*i,o=1/a,l=t-o,l===t))return _.exp(t);t=l,i=i*n,a=1260*i;let s=1/a;return t=t+s,i=i*n,a=1680*i,s=1/a,t=t-s,_.exp(t)}else return this.layer===1?_.exp(_.mul(this,_.ln(this).sub(1))):_.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?_.dOne:this.layer===0&&this.mag<=709.7?m(Math.exp(this.sign*this.mag)):this.layer===0?V(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?V(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):V(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return m(Math.sqrt(this.sign*this.mag));if(this.layer===1)return V(1,2,Math.log10(this.mag)-.3010299956639812);{const e=_.div(z(this.sign,this.layer-1,this.mag),z(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=z(1,0,1)){if(e===1)return _.pow(this,t);if(e===0)return new _(t);if(this.eq(_.dOne))return _.dOne;if(this.eq(-1))return _.pow(this,t);if(e===Number.POSITIVE_INFINITY){const a=this.toNumber();if(a<=1.444667861009766&&a>=.06598803584531254){if(a>1.444667861009099)return new _(Math.E);const o=_.ln(this).neg();return o.lambertw().div(o)}else return a>1.444667861009766?new _(Number.POSITIVE_INFINITY):_.dNaN}if(this.eq(_.dZero)){let a=Math.abs((e+1)%2);return a>1&&(a=2-a),new _(a)}if(e<0)return _.iteratedlog(t,this,-e);t=m(t);const n=e;e=Math.trunc(e);const i=n-e;if(this.gt(_.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let a=0;a<e;++a){const o=t;if(t=this.pow(t),o.eq(t))return t}if(i!=0){const a=this.pow(t);return t.mul(1-i).add(a.mul(i))}return t}i!==0&&(t.eq(_.dOne)?this.gt(10)?t=this.pow(i):(t=m(_.tetrate_critical(this.toNumber(),i)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return z(t.sign,t.layer+(e-a-1),t.mag);if(a>1e4)return t}return t}iteratedexp(e=2,t=z(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return _.tetrate(e,-t,this);e=m(e);let n=m(this);const i=t;t=Math.trunc(t);const a=i-t;if(n.layer-e.layer>3){const o=Math.min(t,n.layer-e.layer-3);t-=o,n.layer-=o}for(let o=0;o<t;++o){if(n=n.log(e),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(o>1e4)return n}return a>0&&a<1&&(e.eq(10)?n=n.layeradd10(-a):n=n.layeradd(-a,e)),n}slog(e=10){if(e=m(e),e.lte(_.dZero)||e.eq(_.dOne))return _.dNaN;if(e.lt(_.dOne))return this.eq(_.dOne)?_.dZero:this.eq(_.dZero)?_.dNegOne:_.dNaN;if(this.mag<0||this.eq(_.dZero))return _.dNegOne;let t=0,n=m(this);if(n.layer-e.layer>3){const i=n.layer-e.layer-3;t+=i,n.layer-=i}for(let i=0;i<100;++i)if(n.lt(_.dZero))n=_.pow(e,n),t-=1;else{if(n.lte(_.dOne))return m(t+_.slog_critical(e.toNumber(),n.toNumber()));t+=1,n=_.log(n,e)}return m(t)}static slog_critical(e,t){return e>10?t-1:_.critical_section(e,t,ka)}static tetrate_critical(e,t){return _.critical_section(e,t,wa)}static critical_section(e,t,n){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let i=0,a=0;for(let s=0;s<ht.length;++s)if(ht[s]==e){i=n[s][Math.floor(t)],a=n[s][Math.ceil(t)];break}else if(ht[s]<e&&ht[s+1]>e){const c=(e-ht[s])/(ht[s+1]-ht[s]);i=n[s][Math.floor(t)]*(1-c)+n[s+1][Math.floor(t)]*c,a=n[s][Math.ceil(t)]*(1-c)+n[s+1][Math.ceil(t)]*c;break}const o=t-Math.floor(t);return i*(1-o)+a*o}layeradd10(e){e=_.fromValue_noAlloc(e).toNumber();const t=m(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const n=Math.trunc(e);e-=n,t.layer+=n}if(e<=-1){const n=Math.trunc(e);if(e-=n,t.layer+=n,t.layer<0)for(let i=0;i<100;++i){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const i=this.slog(t).toNumber()+e;return i>=0?_.tetrate(t,i):Number.isFinite(i)?i>=-1?_.log(_.tetrate(t,i+1),t):_.log(_.log(_.tetrate(t,i+2),t),t):_.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return m(zn(this.toNumber()));if(this.layer===0)return m(zn(this.sign*this.mag));if(this.layer===1)return jn(this);if(this.layer===2)return jn(this);if(this.layer>=3)return z(this.sign,this.layer-1,this.mag);throw"Unhandled behavior in lambertw()"}ssqrt(){if(this.sign==1&&this.layer>=3)return z(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=z(1,0,1)){t=m(t);const n=e;e=Math.trunc(e);const i=n-e;i!==0&&(t.eq(_.dOne)?(++e,t=new _(i)):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(a>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?m(Math.sin(this.sign*this.mag)):z(0,0,0)}cos(){return this.mag<0?_.dOne:this.layer===0?m(Math.cos(this.sign*this.mag)):z(0,0,0)}tan(){return this.mag<0?this:this.layer===0?m(Math.tan(this.sign*this.mag)):z(0,0,0)}asin(){return this.mag<0?this:this.layer===0?m(Math.asin(this.sign*this.mag)):z(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?m(Math.acos(this.toNumber())):this.layer===0?m(Math.acos(this.sign*this.mag)):z(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?m(Math.atan(this.sign*this.mag)):m(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return _.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return _.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?z(Number.NaN,Number.NaN,Number.NaN):_.ln(this.add(1).div(m(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(_.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let u=_;u.dZero=z(0,0,0);u.dOne=z(1,0,1);u.dNegOne=z(-1,0,1);u.dTwo=z(1,0,2);u.dTen=z(1,0,10);u.dNaN=z(Number.NaN,Number.NaN,Number.NaN);u.dInf=z(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);u.dNegInf=z(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);u.dNumberMax=V(1,0,Number.MAX_VALUE);u.dNumberMin=V(1,0,Number.MIN_VALUE);const xa=new u(1);function $t(e,t,n=!0){let i=u.log10(e).floor(),a=u.div(e,u.pow(10,i));a.toStringWithDecimalPlaces(t)==="10"&&(a=xa,i=i.add(1));const o=i.gte(1e9)?Oe(i,Math.max(Math.max(t,3),Z.defaultDecimalsShown)):i.gte(1e4)?nn(i,0):i.toStringWithDecimalPlaces(0);return n?a.toStringWithDecimalPlaces(t)+"e"+o:"e"+o}function nn(e,t){if(e==null)return"NaN";if(e=new u(e),e.mag<.001)return 0 .toFixed(t);const i=e.toStringWithDecimalPlaces(t).split(".");return i[0]=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),i.length==1?i[0]:i[0]+"."+i[1]}function Qn(e,t){return e==null?"NaN":(e=new u(e),e.mag<1e-4?0 .toFixed(t):(e.mag<.1&&t!==0&&(t=Math.max(Math.max(t,e.log10().negate().ceil().toNumber()),Z.defaultDecimalsShown)),e.toStringWithDecimalPlaces(t)))}const Ca=new u("eeee1000"),Sa=new u("e100000"),Gn=new u("e1000"),ei=new u(1e9),Ma=new u(1e6),$a=new u(1e3),Ta=new u(.98),Ia=new u(.001),ti=new u(0);function Oe(e,t,n){if(t==null&&(t=Z.defaultDecimalsShown),n=n!=null?n:Z.defaultShowSmall,e=new u(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag))return"NaN";if(e.sign<0)return"-"+Oe(e.neg(),t);if(e.mag===Number.POSITIVE_INFINITY)return"Infinity";if(e.gte(Ca)){const i=e.slog();return i.gte(Ma)?"F"+Oe(i.floor()):u.pow(10,i.sub(i.floor())).toStringWithDecimalPlaces(3)+"F"+nn(i.floor(),0)}else{if(e.gte(Sa))return $t(e,0,!1);if(e.gte(Gn))return $t(e,0);if(e.gte(ei))return $t(e,t);if(e.gte($a))return nn(e,0);if(e.gte(Ia)||!n)return Qn(e,t);if(e.eq(ti))return 0 .toFixed(t)}return e=ii(e),e.lt(Gn)?$t(e,t).replace(/([^(?:e|F)]*)$/,"-$1"):Oe(e,t)+"\u207B\xB9"}function Ae(e){return e=new u(e),e.sign<0?"-"+Ae(e.neg()):e.gte(ei)||e.lte(Ta)&&!e.eq(ti)?Oe(e):Oe(e,0)}function ni(e){return u.lt(e,0)?"-"+ni(u.neg(e)):u.gt(e,2**51)?Oe(u.div(e,31536e3))+"y":(e=new u(e).toNumber(),e<60?Oe(e)+"s":e<3600?Ae(Math.floor(e/60))+"m "+Oe(e%60)+"s":e<86400?Ae(Math.floor(e/3600))+"h "+Ae(Math.floor(e/60)%60)+"m "+Ae(e%60)+"s":e<31536e3?Ae(Math.floor(e/84600)%365)+"d "+Ae(Math.floor(e/3600)%24)+"h "+Ae(Math.floor(e/60)%60)+"m":Ae(Math.floor(e/31536e3))+"y "+Ae(Math.floor(e/84600)%365)+"d "+Ae(Math.floor(e/3600)%24)+"h")}function Fa(e,t,n){e=new u(e);let i=e.toStringWithDecimalPlaces(t);return new u(i).gte(n)&&(i=u.sub(n,Math.pow(.1,t)).toStringWithDecimalPlaces(t)),i}function Da(e,t){return Oe(e,t,!0)}function ii(e){let t=u.log10(e).ceil();const n=u.div(e,u.pow(10,t));return t=t.neg(),e=new u(10).pow(t).times(n),e}var Aa=Object.freeze(Object.defineProperty({__proto__:null,default:u,exponentialFormat:$t,commaFormat:nn,regularFormat:Qn,format:Oe,formatWhole:Ae,formatTime:ni,toPlaces:Fa,formatSmall:Da,invertOOM:ii},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:Ba,commaFormat:Pa,regularFormat:Oa,format:G,formatWhole:Je,formatTime:sn,toPlaces:Ea,formatSmall:Va,invertOOM:La}=Aa;window.Decimal=u;window.exponentialFormat=Ba;window.commaFormat=Pa;window.regularFormat=Oa;window.format=G;window.formatWhole=Je;window.formatTime=sn;window.toPlaces=Ea;window.formatSmall=Va;window.invertOOM=La;function ai(e){let t=e.replace(/([A-Z])/g," $1");return t=t.charAt(0).toUpperCase()+t.slice(1),t}function vn(e){return typeof e=="function"}var ge=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(ge||{});const At=Symbol("DoNotCache");function M(e,t){const n=e[t];vn(n)&&n.length===0&&!n[At]?e[t]=v(n.bind(e)):vn(n)&&(e[t]=n.bind(e),e[t][At]=!0)}function bn(e){return vn(e)&&!e[At]&&(e=v(e)),e}const ke=Symbol("Component"),Me=Symbol("GatherProps");let Ua=0;function Ge(e="feature-"){return e+Ua++}var I=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(I||{});function Y(e){return e[At]=!0,e}function Q(e,t,n){e[t]===void 0&&n!=null&&(e[t]=n)}const vt={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var kn=(e=>(e.Classic="classic",e.Paper="paper",e.Nordic="nordic",e.Aqua="aqua",e))(kn||{}),Ut={classic:vt,paper:{...vt,variables:{...vt.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...vt,variables:{...vt.variables,"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...vt,variables:{...vt.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}};const ce=Symbol("ProxyState"),Nt=Symbol("ProxyPath");function Ue(e,t={}){const n=t;let i=!1;function a(){return i||(Object.assign(n,e(n)),i=!0),n}return new Proxy(n,{get(o,l){return l===ce?a():a()[l]},set(o,l,s){return a()[l]=s,!0},has(o,l){return l===ce?!0:Reflect.has(a(),l)},ownKeys(){return Reflect.ownKeys(a())},getOwnPropertyDescriptor(o,l){return i||(Object.assign(n,e(n)),i=!0),Object.getOwnPropertyDescriptor(o,l)}})}var te=window.state=yn({lastTenTicks:[],hasNaN:!1,NaNPath:[]});const oi=Lt({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});function ri(e){return JSON.stringify(e,(t,n)=>r(n))}const si={get(e,t){var i;if(t===ce||t===Nt)return e[t];const n=e[ce][t];if(t!=="value"&&(Ui(n)||Array.isArray(n))){if(n!==((i=e[t])==null?void 0:i[ce])){const a=[...e[Nt],t];e[t]=new Proxy({[ce]:n,[Nt]:a},si)}return e[t]}return n},set(e,t,n,i){if(!te.hasNaN&&(typeof n=="number"&&isNaN(n)||n instanceof u&&(isNaN(n.sign)||isNaN(n.layer)||isNaN(n.mag)))){const a=e[ce][t];if(!(typeof a=="number"&&isNaN(a)||a instanceof u&&(isNaN(a.sign)||isNaN(a.layer)||isNaN(a.mag))))throw oi.autosave=!1,te.hasNaN=!0,te.NaNPath=[...e[Nt],t],te.NaNReceiver=i,console.error("Attempted to set NaN value",[...e[Nt],t],e[ce]),"Attempted to set NaN value. See above for details"}return e[ce][t]=n,!0},ownKeys(e){return Reflect.ownKeys(e[ce])},has(e,t){return Reflect.has(e[ce],t)},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e[ce],t)}};var F=window.player=new Proxy({[ce]:oi,[Nt]:["player"]},si);const pe=Kn();let xt=null,Ft=null;function an(){const e=Date.now();let t=(e-F.time)/1e3;F.time=e;const n=t;if(te.lastTenTicks.push(n),te.lastTenTicks.length>10&&(te.lastTenTicks=te.lastTenTicks.slice(1)),!((Ft==null?void 0:Ft.value)&&!F.keepGoing)&&!te.hasNaN&&(t=Math.max(t,0),F.devSpeed!==0)){if(F.offlineTime!=null){if(u.gt(F.offlineTime,Z.offlineLimit*3600)&&(F.offlineTime=Z.offlineLimit*3600),u.gt(F.offlineTime,0)&&F.devSpeed!==0){const i=Math.max(F.offlineTime/10,t);F.offlineTime=F.offlineTime-i,t+=i}else F.devSpeed===0&&(F.offlineTime+=t);(!F.offlineProd||u.lt(F.offlineTime,0))&&(F.offlineTime=null)}t=Math.min(t,Z.maxTickLength),F.devSpeed!=null&&(t*=F.devSpeed),Number.isFinite(t)||(t=1e308),!u.eq(t,0)&&(F.timePlayed+=t,Number.isFinite(F.timePlayed)||(F.timePlayed=1e308),pe.emit("update",t,n),X.unthrottled?(requestAnimationFrame(an),xt!=null&&(clearInterval(xt),xt=null)):xt==null&&(xt=setInterval(an,50)))}}async function Ra(){Ft=(await tn(()=>Promise.resolve().then(function(){return xi}),void 0)).hasWon,Ve(Ft,e=>{e&&pe.emit("gameWon")}),X.unthrottled?requestAnimationFrame(an):xt=setInterval(an,50)}var qa=Object.freeze(Object.defineProperty({__proto__:null,globalBus:pe,startGameLoop:Ra},Symbol.toStringTag,{value:"Module"}));function li(e={}){return Object.assign({id:`${Z.id}-0`,name:"Default Save",tabs:Z.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:Z.id,modVersion:Z.versionNumber,layers:{}},e)}function Re(e){const t=rt.compressToUTF16(ri(e!=null?e:F[ce]));return localStorage.setItem((e!=null?e:F[ce]).id,t),t}async function za(){Ga();try{let e=localStorage.getItem(X.active);if(e==null){await bt(Ct());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=rt.decompressFromUTF16(e);else throw"Unable to determine save encoding";const t=JSON.parse(e);if(t.modID!==Z.id){await bt(Ct());return}t.id=X.active,await bt(t)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await bt(Ct())}}function Ct(){const e=Xt(),t=li({id:e});return Re(t),X.saves.push(e),t}function Xt(){let e,t=0;do e=`${Z.id}-${t++}`;while(localStorage.getItem(e));return e}async function bt(e){console.info("Loading save",e);const{layers:t,removeLayer:n,addLayer:i}=await tn(()=>Promise.resolve().then(function(){return po}),void 0),{fixOldSave:a,getInitialLayers:o}=await tn(()=>Promise.resolve().then(function(){return xi}),void 0);for(const l in t){const s=t[l];s&&n(s)}o(e).forEach(l=>i(l,e)),e=li(e),e.offlineProd&&e.time&&(e.offlineTime==null&&(e.offlineTime=0),e.offlineTime+=(Date.now()-e.time)/1e3),e.time=Date.now(),e.modVersion!==Z.versionNumber&&a(e.modVersion,e),Object.assign(F,e),X.active=F.id,pe.emit("onLoad")}setInterval(()=>{F.autosave&&Re()},1e3);window.onbeforeunload=()=>{F.autosave&&Re()};window.save=Re;const ja=window.hardReset=async()=>{await bt(Ct())},Bt=Lt({active:"",saves:[],showTPS:!0,theme:kn.Nordic,unthrottled:!1});Ve(Bt,e=>{const t=rt.compressToUTF16(JSON.stringify(e));localStorage.setItem(Z.id,t)},{deep:!0});var X=window.settings=Bt;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:kn.Nordic};pe.emit("loadSettings",e),Object.assign(Bt,e),ja()};function Ga(){try{let e=localStorage.getItem(Z.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=rt.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const t=JSON.parse(e);typeof t=="object"&&Object.assign(Bt,t)}pe.emit("loadSettings",Bt)}catch{}}const ui=Lt([]);function di(e){ui.push(e)}const Ha=Lt([]),Wa=Lt([]),Ya={class:"table"},Za=E({__name:"Row",setup(e){const t=v(()=>Ut[X.theme].mergeAdjacent);return(n,i)=>(h(),S("div",Ya,[d("div",{class:oe(["row",{mergeAdjacent:r(t)}])},[Ke(n.$slots,"default")],2)]))}});function Ka(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fi(e)}function R(e,t="span"){return typeof e=="function"?E({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${t}>${e}</${t}>`),E({template:e})):E({render:()=>({})}):e}function ze(e){if(Ee(e))return typeof e=="function"?e():R(e);const t=e[ke];return p(t,e[Me](),null)}function Ce(...e){let t;return p(Za,null,Ka(t=e.map(ze))?t:{default:()=>[t]})}function Qt(e){if(Ee(e))return typeof e=="function"?e():typeof e=="string"?p(W,null,[e]):p(e,null,null);const t=e[ke];return p(t,e[Me](),null)}function Ee(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[At]===!0}function ci(e,t){const n=P(null),i=P(void 0);function a(s){n.value||(n.value=setInterval(l,250)),i.value=s}function o(){n.value&&(clearInterval(n.value),n.value=null)}function l(){t&&t.value?t.value():e&&e.value&&e.value(i.value)}return Zn(o),{start:a,stop:o,handleHolding:l}}function Nn(e,t="div"){const n=Be();return Pe(()=>{n.value=R(re(e),t)}),n}function ln(e,t="div"){const n=Be(null);return Pe(()=>{const i=re(e);n.value=i==null?null:R(i,t)}),n}function Ja(e){return v(()=>re(e))}function re(e){return r(r(e))}function A(...e){return e.includes(Object)||e.push(Object),e}var K=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const Xa=E({__name:"Context",emits:["updateNodes"],setup(e,{emit:t}){var y;const n=P({}),i=new ResizeObserver(s),a=P(null);rn(()=>{const b=a.value;b!=null&&i.observe(b)});let o=!0,l=P((y=a.value)==null?void 0:y.getBoundingClientRect());function s(){a.value!=null&&o&&(o=!1,Xe(()=>{var b;l.value=(b=a.value)==null?void 0:b.getBoundingClientRect(),Object.values(n.value).filter(g=>g).forEach(g=>g.rect=g.element.getBoundingClientRect()),t("updateNodes",n.value),o=!0}))}document.fonts.ready.then(s);const c={attributes:!1,childList:!0,subtree:!1};Kt(xn,(b,g)=>{const k=new MutationObserver(()=>f(b));k.observe(g,c),n.value[b]={element:g,observer:k,rect:g.getBoundingClientRect()},t("updateNodes",n.value),Xe(()=>f(b))}),Kt(Cn,b=>{var g;(g=n.value[b])==null||g.observer.disconnect(),n.value[b]=void 0,t("updateNodes",n.value)}),Kt(Sn,n),Kt(Mn,l);function f(b){const g=n.value[b];g!=null&&(g.rect=g.element.getBoundingClientRect(),t("updateNodes",n.value))}return(b,g)=>(h(),S(W,null,[Ke(b.$slots,"default",{},void 0,!0),d("div",{ref_key:"resizeListener",ref:a,class:"resize-listener"},null,512)],64))}});var fi=K(Xa,[["__scopeId","data-v-6a08ac80"]]);const Qa=["onPointerdown"],eo={class:"modal-wrapper"},to={class:"modal-container"},no={class:"modal-header"},io=D(" default header "),ao={class:"modal-body"},oo=D(" default body "),ro={class:"modal-footer"},so=d("div",{class:"modal-default-flex-grow"},null,-1),yt=E({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=se(e),o=v(()=>a.modelValue||s.value);function l(){n("update:modelValue",!1)}const s=P(!1),c=P(null),f=v(()=>{var y,b;return(b=(y=c.value)==null?void 0:y.nodes)!=null?b:null});return t({isOpen:o,nodes:f}),(y,b)=>(h(),L(Ai,{to:"#modal-root"},[p(wn,{name:"modal",onBeforeEnter:b[0]||(b[0]=g=>s.value=!0),onAfterLeave:b[1]||(b[1]=g=>s.value=!1)},{default:U(()=>[_n(d("div",ut({class:"modal-mask",onPointerdown:Dt(l,["self"])},y.$attrs),[d("div",eo,[d("div",to,[d("div",no,[Ke(y.$slots,"header",{shown:r(o)},()=>[io])]),d("div",ao,[p(fi,{ref_key:"contextRef",ref:c},{default:U(()=>[Ke(y.$slots,"body",{shown:r(o)},()=>[oo])]),_:3},512)]),d("div",ro,[Ke(y.$slots,"footer",{shown:r(o)},()=>[d("div",{class:"modal-default-footer"},[so,d("button",{class:"button modal-default-button",onClick:l}," Close ")])])])])])],16,Qa),[[Di,e.modelValue]])]),_:3})]))}}),Pt=Symbol("PersistentState"),Ot=Symbol("DefaultValue"),on=Symbol("StackTrace"),pi=Symbol("Deleted");function lo(){var e;return((e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(t=>t.trim()).join(`
`))||""}function Le(e){const t=he(e)?e:P(e);return t[Pt]=t,t[Ot]=he(e)?e.value:e,t[on]=lo(),t[pi]=!1,qe.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",t,`
Created at:
`+t[on]):St[qe[qe.length-1]].add(t),t}pe.on("addLayer",(e,t)=>{const n=[],i=(a,o=[])=>{let l=!1;return Object.keys(a).forEach(s=>{const c=a[s];if(c&&typeof c=="object")if(Pt in c){if(l=!0,c[pi]){console.warn("Deleted persistent ref present in returned object. Ignoring...",c,`
Created at:
`+c[on]);return}St[e.id].delete(ce in c?c[ce]:c);const f=o.reduce((b,g)=>(g in b||(b[g]={}),b[g]),t),y=f[s];f[s]=c[Pt],Bi(f)?y!=null?f[s]=y:f[s]=c[Ot]:y!=null?f[s].value=y:f[s].value=c[Ot]}else!(c instanceof u)&&!he(c)&&!n.includes(c)&&(typeof c.type=="symbol"&&n.push(c),i(c,[...o,s])&&(Un(c)&&!Un(a)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",ce in a?a[ce]:a,s):l=!0))}),l};i(e),St[e.id].forEach(a=>{console.error(`Created persistent ref in ${e.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,a,`
Created at:
`+a[on])}),St[e.id].clear()});const xn=Symbol("RegisterNode"),Cn=Symbol("UnregisterNode"),Sn=Symbol("Nodes"),Mn=Symbol("Bounds"),Se=yn({});window.layers=Se;const St={},qe=[];function Rt(e,t){return Ue(()=>{const n={},i=n.emitter=Kn();if(n.on=i.on.bind(i),n.emit=i.emit.bind(i),n.nodes=P({}),n.id=e,qe.push(e),St[e]=new Set,n.minimized=Le(!1),Object.assign(n,t.call(n)),qe[qe.length-1]==null||qe[qe.length-1]!==e)throw`Adding layers stack in invalid state. This should not happen
Stack: ${qe}
Trying to pop ${n.id}`;return qe.pop(),M(n,"color"),M(n,"display"),M(n,"name"),Q(n,"name",n.id),M(n,"minWidth"),Q(n,"minWidth",600),M(n,"minimizable"),Q(n,"minimizable",!0),n})}function mi(e,t){if(console.info("Adding layer",e.id),Se[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,Se[e.id]);return}Q(t,"layers",{}),t.layers[e.id]==null&&(t.layers[e.id]={}),Se[e.id]=e,pe.emit("addLayer",e,t.layers[e.id])}function uo(e){return Se[e]}function gi(e){console.info("Removing layer",e.id),pe.emit("removeLayer",e),Se[e.id]=void 0}function co(e){gi(e),mi(e,F)}function fo(e){const t=P(!1);return{openModal:()=>t.value=!0,modal:Y(()=>p(yt,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n},{header:()=>p("h2",null,[r(e.name)]),body:r(e.display)}))}}pe.on("update",function(t){Object.values(Se).forEach(n=>{n==null||n.emit("preUpdate",t)}),Object.values(Se).forEach(n=>{n==null||n.emit("update",t)}),Object.values(Se).forEach(n=>{n==null||n.emit("postUpdate",t)})});var po=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:xn,UnregisterNodeInjectionKey:Cn,NodesInjectionKey:Sn,BoundsInjectionKey:Mn,layers:Se,persistentRefs:St,addingLayers:qe,createLayer:Rt,addLayer:mi,getLayer:uo,removeLayer:gi,reloadLayer:co,setupLayerModal:fo},Symbol.toStringTag,{value:"Module"}));const mo=E({components:{Context:fi},props:{index:{type:Number,required:!0},tab:{type:Function,required:!0},display:{type:A(Object,String,Function),required:!0},minimized:{type:Object,required:!0},minWidth:{type:A(Number,String),required:!0},name:{type:A(String),required:!0},color:A(String),minimizable:A(Boolean),nodes:{type:Object,required:!0}},setup(e){const{display:t,index:n,minimized:i,minWidth:a,tab:o}=se(e),l=Nn(t),s=v(()=>Z.allowGoBack&&n.value>0&&!i.value);function c(){F.tabs.splice(r(e.index),1/0)}Xe(()=>y(i.value,r(a.value))),Ve([i,Ja(a)],([b,g])=>y(b,g));function f(b){e.nodes.value=b}function y(b,g){const k=typeof g=="number"||Number.isNaN(parseInt(g))?g+"px":g,$=o.value();$!=null&&(b?($.style.flexGrow="0",$.style.flexShrink="0",$.style.width="60px",$.style.minWidth=$.style.flexBasis="",$.style.margin="0"):($.style.flexGrow="",$.style.flexShrink="",$.style.width="",$.style.minWidth=$.style.flexBasis=k,$.style.margin=""))}return{component:l,showGoBack:s,updateNodes:f,unref:r,goBack:c}}});function go(e,t,n,i,a,o){const l=Te("Context");return h(),S("div",{class:"layer-container",style:ie({"--layer-color":e.unref(e.color)})},[e.showGoBack?(h(),S("button",{key:0,class:"goBack",onClick:t[0]||(t[0]=(...s)=>e.goBack&&e.goBack(...s))},"\u2190")):B("",!0),e.minimized.value?(h(),S("button",{key:1,class:"layer-tab minimized",onClick:t[1]||(t[1]=s=>e.minimized.value=!1)},[d("div",null,j(e.unref(e.name)),1)])):(h(),S("div",{key:2,class:oe(["layer-tab",{showGoBack:e.showGoBack}])},[p(l,{onUpdateNodes:e.updateNodes},{default:U(()=>[(h(),L(ne(e.component)))]),_:1},8,["onUpdateNodes"])],2)),e.unref(e.minimizable)?(h(),S("button",{key:3,class:"minimize",onClick:t[2]||(t[2]=s=>e.minimized.value=!0)}," \u25BC ")):B("",!0)],4)}var ho=K(mo,[["render",go],["__scopeId","data-v-34c9d881"]]);const pt=e=>(ct("data-v-410f24ae"),e=e(),ft(),e),vo=pt(()=>d("h2",null,"Changelog",-1)),bo=pt(()=>d("details",{open:""},[d("summary",null,[D("v1.0 Infinite Matter - "),d("time",null,"2022-07-29")]),d("ul",null,[d("li",{class:"feature"},"Added hyper"),d("li",{class:"feature"},"Added Antiboost Unlock and Antiboost"),d("li",{class:"feature"},"Added Cosecant, Secant, Hyperbolic, and Foundationless")])],-1)),yo=pt(()=>d("details",null,[d("summary",null,[D("v0.5 Nothing That Matters - "),d("time",null,"2022-07-23")]),d("ul",null,[d("li",{class:"feature"},"Added Infinity Layer"),d("li",{class:"balancing"},"Hardcapped 'Logarithm Foundation' to +40"),d("li",{class:"balancing"},"Hardcapped 'Exponential Foundation' to +0.02"),d("li",{class:"balancing"},"Hardcapped 'Hyperbolic Foundation to +0.03")])],-1)),_o=pt(()=>d("details",null,[d("summary",null,[D("v0.4 Antiupgrade - "),d("time",null,"2022-07-22")]),d("ul",null,[d("li",{class:"feature"},"Added Antimatter Layer"),d("li",{class:"feature"},"Added Antimatter Dimensions"),d("li",{class:"feature"},"Added Dimension Boost/Shift"),d("li",{class:"balancing"},"Removed Infinite Softcap from Matter"),d("li",{class:"balancing"},"Reduced 'Antimatter Unlock' Cost to e100 Matter"),d("li",{class:"balancing"},"Infinitely Softcapped Effective Dimension Count"),d("li",{class:"balancing"},"Infinitely Softcapped Dimension Multiplier"),d("li",{class:"balancing"},"Locked Antimatter behind its Unlock")])],-1)),wo=pt(()=>d("details",null,[d("summary",null,[D("v0.3 Antimaterialism - "),d("time",null,"2022-07-21")]),d("ul",null,[d("li",{class:"feature"},"Added Antimatter Layer"),d("li",{class:"feature"},"Added Antimatter Dimensions"),d("li",{class:"feature"},"Added Dimension Boost/Shift")])],-1)),ko=pt(()=>d("details",null,[d("summary",null,[D("v0.2 All That Matters - "),d("time",null,"2022-07-17")]),d("ul",null,[d("li",{class:"feature"},"Added Logarithm Boost"),d("li",{class:"feature"},"Added Cosine Boost"),d("li",{class:"feature"},"Added Exponential Boost"),d("li",{class:"feature"},"Added Hyperbolic Boost"),d("li",{class:"feature"},"Added Antimatter Unlock"),d("li",{class:"balancing"},"Rebalanced the entirety of Matter again"),d("li",{class:"balancing"},"Nerfed Cosine's effect"),d("li",{class:"balancing"},"Nerfed Cosine Foundation's effect"),d("li",{class:"balancing"},"Nerfed Exponential Foundation's effect"),d("li",{class:"balancing"},"Nerfed Hyperbolic Foundation's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Matter"),d("li",{class:"balancing"},"Infinitely Softcapped Logarithm's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Exponential's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Sine's min and max"),d("li",{class:"balancing"},"Infinitely Softcapped Hyperbolic's effect")])],-1)),No=pt(()=>d("details",null,[d("summary",null,[D("v0.1 Dimensional Generator - "),d("time",null,"2022-07-17")]),d("ul",null,[d("li",{class:"feature"},"Removed Points"),d("li",{class:"feature"},"Added Dimensional Generator"),d("li",{class:"feature"},"Added Exponential"),d("li",{class:"feature"},"Added Hyperbolic"),d("li",{class:"feature"},"Added Cosine Foundation"),d("li",{class:"feature"},"Added Exponential Unlock"),d("li",{class:"feature"},"Added Hyperbolic Unlock"),d("li",{class:"feature"},"Added Exponential Foundation"),d("li",{class:"feature"},"Added Hyperbolic Foundation"),d("li",{class:"feature"},"Added Autobuyer Milestones to Matter"),d("li",{class:"balancing"},"Changed Sine Foundation's effect"),d("li",{class:"balancing"},"Rebalanced the entirety of Matter")])],-1)),xo=pt(()=>d("details",null,[d("summary",null,[D("v0.0 Initial Commit - "),d("time",null,"2022-07-15")]),D(" This is the first release :D "),d("ul",null,[d("li",{class:"feature"},"Added Foundation"),d("li",{class:"feature"},"Added Sine"),d("li",{class:"feature"},"Added Logarithm"),d("li",{class:"feature"},"Added Cosine"),d("li",{class:"feature"},"Added Sine Foundation"),d("li",{class:"feature"},"Added Sine Boost"),d("li",{class:"feature"},"Added Logarithm Unlock"),d("li",{class:"feature"},"Added Logarithm Foundation"),d("li",{class:"feature"},"Added Cosine Unlock")])],-1)),Co=E({__name:"Changelog",setup(e,{expose:t}){const n=P(!1);return t({open(){n.value=!0}}),(i,a)=>(h(),L(yt,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o)},{header:U(()=>[vo]),body:U(()=>[bo,yo,_o,wo,ko,No,xo]),_:1},8,["modelValue"]))}});var So=K(Co,[["__scopeId","data-v-410f24ae"]]),Mo=E({props:{element:Object,display:{type:A(Object,String,Function),required:!0},style:A(Object,String,Array),classes:A(Object),direction:A(String),xoffset:A(String),yoffset:A(String),pinned:Object},setup(e){const{element:t,display:n,pinned:i}=se(e),a=P(!1),o=v(()=>(re(i)||a.value)&&l.value),l=ln(n),s=Be(R(Y(()=>{const y=re(t);return y==null?"":Qt(y)})));function c(y){const b=i;y.shiftKey&&b&&(b.value=!b.value,y.stopPropagation(),y.preventDefault())}const f=v(()=>re(i)&&Ut[X.theme].showPin);return{Direction:ge,isHovered:a,isShown:o,comp:l,elementComp:s,unref:r,togglePinned:c,showPin:f}}});const $o={key:0,class:"material-icons pinned"};function To(e,t,n,i,a,o){return h(),S("div",{class:oe(["tooltip-container",{shown:e.isShown}]),onMouseenter:t[0]||(t[0]=l=>e.isHovered=!0),onMouseleave:t[1]||(t[1]=l=>e.isHovered=!1),onClickCapture:t[2]||(t[2]=(...l)=>e.togglePinned&&e.togglePinned(...l))},[Ke(e.$slots,"default",{},void 0,!0),e.elementComp?(h(),L(ne(e.elementComp),{key:0})):B("",!0),p(wn,{name:"fade"},{default:U(()=>{var l;return[e.isShown?(h(),S("div",{key:0,class:oe(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:ie([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(l=e.unref(e.style))!=null?l:{}])},[e.showPin?(h(),S("span",$o,"push_pin")):B("",!0),e.comp?(h(),L(ne(e.comp),{key:1})):B("",!0)],6)):B("",!0)]}),_:1})],34)}var fe=K(Mo,[["render",To],["__scopeId","data-v-6102fa3a"]]);const _t=e=>(ct("data-v-7dec2dec"),e=e(),ft(),e),Io={class:"info-modal-header"},Fo=["src","alt"],Do={class:"info-modal-title"},Ao={key:0},Bo={key:0},Po={key:0},Oo=_t(()=>d("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Eo=_t(()=>d("br",null,null,-1)),Vo=_t(()=>d("br",null,null,-1)),Lo=["href"],Uo=_t(()=>d("span",{class:"material-icons info-modal-discord"},"discord",-1)),Ro=_t(()=>d("div",null,[d("a",{href:"https://discord.gg/WzejVAx",class:"info-modal-discord-link"},[d("span",{class:"material-icons info-modal-discord"},"discord"),D(" The Paper Pilot Community ")])],-1)),qo=_t(()=>d("div",null,[d("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link"},[d("span",{class:"material-icons info-modal-discord"},"discord"),D(" The Modding Tree ")])],-1)),zo=_t(()=>d("br",null,null,-1));var jo=E({__name:"Info",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:i,logo:a,author:o,discordName:l,discordLink:s,versionNumber:c,versionTitle:f}=Z,y=se(n),b=P(!1),g=v(()=>sn(F.timePlayed)),k=v(()=>R(Y(()=>p(W,null,[Ha.map(ze)]))));t({open(){b.value=!0}});function $(){var x;(x=r(y.changelog))==null||x.open()}return(x,O)=>(h(),L(yt,{modelValue:b.value,"onUpdate:modelValue":O[0]||(O[0]=le=>b.value=le)},{header:U(()=>[d("div",Io,[r(a)?(h(),S("img",{key:0,class:"info-modal-logo",src:r(a),alt:r(i)},null,8,Fo)):B("",!0),d("div",Do,[d("h2",null,j(r(i)),1),d("h4",null,[D(" v"+j(r(c)),1),r(f)?(h(),S("span",Ao,": "+j(r(f)),1)):B("",!0)])])])]),body:U(({shown:le})=>[le?(h(),S("div",Bo,[r(o)?(h(),S("div",Po,"By "+j(r(o)),1)):B("",!0),Oo,Eo,d("div",{class:"link",onClick:$},"Changelog"),Vo,d("div",null,[r(s)?(h(),S("a",{key:0,href:r(s),class:"info-modal-discord-link"},[Uo,D(" "+j(r(l)),1)],8,Lo)):B("",!0)]),Ro,qo,zo,d("div",null,"Time Played: "+j(r(g)),1),(h(),L(ne(r(k))))])):B("",!0)]),_:1},8,["modelValue"]))}});var Go=K(jo,[["__scopeId","data-v-7dec2dec"]]);const Ho={class:"field"},Wo={key:0,class:"field-title"},$n=E({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){var l;const n=e,i=ln(dt(n,"title"),"span"),a=P((l=n.options.find(s=>s.value===n.modelValue))!=null?l:null);Ve(dt(n,"modelValue"),s=>{var c;re(a)!==s&&(a.value=(c=n.options.find(f=>f.value===s))!=null?c:null)});function o(s){t("update:modelValue",s.value)}return(s,c)=>(h(),S("div",Ho,[r(i)?(h(),S("span",Wo,[(h(),L(ne(r(i))))])):B("",!0),p(r(Ri),{options:e.options,modelValue:a.value,"onUpdate:modelValue":[c[0]||(c[0]=f=>a.value=f),o],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const Yo={class:"field"},Zo=E({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=v(()=>R(r(n.title)||"<span></span>","span")),a=v({get(){return!!n.modelValue},set(o){t("update:modelValue",o)}});return(o,l)=>(h(),S("label",Yo,[_n(d("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":l[0]||(l[0]=s=>he(a)?a.value=s:null)},null,512),[[Pi,r(a)]]),(h(),L(ne(r(i))))]))}});var Ze=K(Zo,[["__scopeId","data-v-2b109500"]]);const hi=e=>(ct("data-v-bc13791c"),e=e(),ft(),e),Ko=hi(()=>d("div",{class:"header"},[d("h2",null,"Options")],-1)),Jo=hi(()=>d("hr",null,null,-1));var Xo=E({__name:"Options",setup(e,{expose:t}){const n=P(!1);t({open(){n.value=!0}});const i=Object.keys(Ut).map($=>({label:ai($),value:$})),a=v(()=>R(Y(()=>p(W,null,[ui.map(ze)])))),{showTPS:o,theme:l,unthrottled:s}=se(X),{autosave:c,offlineProd:f}=se(F),y=v({get(){return F.devSpeed===0},set($){F.devSpeed=$?0:null}}),b=Y(()=>p("span",null,[D("Offline Production"),p(fe,{display:"Save-specific"},{default:()=>[D("*")]})])),g=Y(()=>p("span",null,[D("Autosave"),p(fe,{display:"Save-specific"},{default:()=>[D("*")]})])),k=Y(()=>p("span",null,[D("Pause game"),p(fe,{display:"Save-specific"},{default:()=>[D("*")]})]));return($,x)=>(h(),L(yt,{modelValue:n.value,"onUpdate:modelValue":x[6]||(x[6]=O=>n.value=O)},{header:U(()=>[Ko]),body:U(()=>[p($n,{title:"Theme",options:r(i),modelValue:r(l),"onUpdate:modelValue":x[0]||(x[0]=O=>he(l)?l.value=O:null)},null,8,["options","modelValue"]),(h(),L(ne(r(a)))),p(Ze,{title:"Show TPS",modelValue:r(o),"onUpdate:modelValue":x[1]||(x[1]=O=>he(o)?o.value=O:null)},null,8,["modelValue"]),Jo,p(Ze,{title:"Unthrottled",modelValue:r(s),"onUpdate:modelValue":x[2]||(x[2]=O=>he(s)?s.value=O:null)},null,8,["modelValue"]),p(Ze,{title:r(b),modelValue:r(f),"onUpdate:modelValue":x[3]||(x[3]=O=>he(f)?f.value=O:null)},null,8,["title","modelValue"]),p(Ze,{title:r(g),modelValue:r(c),"onUpdate:modelValue":x[4]||(x[4]=O=>he(c)?c.value=O:null)},null,8,["title","modelValue"]),r(Z).enablePausing?(h(),L(Ze,{key:0,title:r(k),modelValue:r(y),"onUpdate:modelValue":x[5]||(x[5]=O=>he(y)?y.value=O:null)},null,8,["title","modelValue"])):B("",!0)]),_:1},8,["modelValue"]))}});var Qo=K(Xo,[["__scopeId","data-v-bc13791c"]]);const er=["onSubmit"],tr={class:"field"},nr={key:0,class:"field-title"},ir=["placeholder"],ar=E({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null},emits:["update:modelValue","submit"],setup(e,{emit:t}){const i=se(e),a=v(()=>{var c;return((c=i.title)==null?void 0:c.value)&&R(r(i.title.value),"span")}),o=P(null);rn(()=>{var c;(c=o.value)==null||c.focus()});const l=v({get(){return r(i.modelValue)||""},set(c){t("update:modelValue",c)}});function s(){t("submit")}return(c,f)=>(h(),S("form",{onSubmit:Dt(s,["prevent"])},[d("div",tr,[r(a)?(h(),S("span",nr,[(h(),L(ne(r(a))))])):B("",!0),e.textArea?(h(),L(r(zi),{key:1,modelValue:r(l),"onUpdate:modelValue":f[0]||(f[0]=y=>he(l)?l.value=y:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:s,ref_key:"field",ref:o},null,8,["modelValue","placeholder","maxHeight"])):_n((h(),S("input",{key:2,type:"text","onUpdate:modelValue":f[1]||(f[1]=y=>he(l)?l.value=y:null),placeholder:e.placeholder,class:oe({fullWidth:!e.title}),onBlur:s,ref_key:"field",ref:o},null,42,ir)),[[Oi,r(l)]])])],40,er))}});var vi=K(ar,[["__scopeId","data-v-d74adb0a"]]);const or={key:0},rr=["onClick","disabled"],sr={key:0},lr=["onClick"],ur=E({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:t}){const i=se(e),a=P(!1);Ve(a,s=>{t("confirmingChanged",s)});function o(){if(r(i.skipConfirm)){t("click");return}a.value&&t("click"),a.value=!a.value}function l(){a.value=!1}return(s,c)=>(h(),S("span",{class:oe(["container",{confirming:a.value}])},[a.value?(h(),S("span",or,"Are you sure?")):B("",!0),d("button",{onClick:Dt(o,["stop"]),class:"button danger",disabled:e.disabled},[a.value?(h(),S("span",sr,"Yes")):Ke(s.$slots,"default",{key:1},void 0,!0)],8,rr),a.value?(h(),S("button",{key:1,class:"button",onClick:Dt(l,["stop"])},"No",8,lr)):B("",!0)],2))}});var dr=K(ur,[["__scopeId","data-v-2f8ef34c"]]);const cr=["onClick"],fr=E({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=P(!1),i=P(null);function a(){t("click"),i.value&&clearTimeout(i.value),n.value=!1,Xe(()=>{n.value=!0,i.value=setTimeout(()=>n.value=!1,500)})}return(o,l)=>(h(),S("button",{onClick:Dt(a,["stop"]),class:oe(["feedback",{activated:n.value,left:e.left}])},[Ke(o.$slots,"default",{},void 0,!0)],10,cr))}});var pr=K(fr,[["__scopeId","data-v-01a1b95c"]]);const Qe=e=>(ct("data-v-0136bef4"),e=e(),ft(),e),mr=Qe(()=>d("div",{class:"handle material-icons"},"drag_handle",-1)),gr={key:0,class:"actions"},hr=Qe(()=>d("span",{class:"material-icons"},"content_paste",-1)),vr=Qe(()=>d("span",{class:"material-icons"},"content_copy",-1)),br=Qe(()=>d("span",{class:"material-icons"},"edit",-1)),yr=Qe(()=>d("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),_r={key:1,class:"actions"},wr=Qe(()=>d("span",{class:"material-icons"},"check",-1)),kr=Qe(()=>d("span",{class:"material-icons"},"close",-1)),Nr={key:2,class:"details"},xr={class:"save-version"},Cr=Qe(()=>d("br",null,null,-1)),Sr={key:0},Mr={key:3,class:"details"},$r={key:4,class:"details error"},Tr=Qe(()=>d("br",null,null,-1)),Ir=E({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:t}){const n=e,{save:i}=se(n),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),o=P(!1),l=P(!1),s=P("");Ve(o,()=>s.value=i.value.name||"");const c=v(()=>i.value&&i.value.id===F.id),f=v(()=>c.value?F.time:i.value&&i.value.time||0);function y(){t("editName",s.value),o.value=!1}return(b,g)=>(h(),S("div",{class:oe(["save",{active:r(c)}])},[mr,o.value?(h(),S("div",_r,[d("button",{onClick:y,class:"button"},[p(fe,{display:"Save",direction:r(ge).Left,class:"info"},{default:U(()=>[wr]),_:1},8,["direction"])]),d("button",{onClick:g[5]||(g[5]=k=>o.value=!o.value),class:"button"},[p(fe,{display:"Cancel",direction:r(ge).Left,class:"info"},{default:U(()=>[kr]),_:1},8,["direction"])])])):(h(),S("div",gr,[r(i).error==null&&!l.value?(h(),L(pr,{key:0,onClick:g[0]||(g[0]=k=>t("export")),class:"button",left:""},{default:U(()=>[p(fe,{display:"Export",direction:r(ge).Left,class:"info"},{default:U(()=>[hr]),_:1},8,["direction"])]),_:1})):B("",!0),r(i).error==null&&!l.value?(h(),S("button",{key:1,onClick:g[1]||(g[1]=k=>t("duplicate")),class:"button"},[p(fe,{display:"Duplicate",direction:r(ge).Left,class:"info"},{default:U(()=>[vr]),_:1},8,["direction"])])):B("",!0),r(i).error==null&&!l.value?(h(),S("button",{key:2,onClick:g[2]||(g[2]=k=>o.value=!o.value),class:"button"},[p(fe,{display:"Edit Name",direction:r(ge).Left,class:"info"},{default:U(()=>[br]),_:1},8,["direction"])])):B("",!0),p(dr,{disabled:r(c),onClick:g[3]||(g[3]=k=>t("delete")),onConfirmingChanged:g[4]||(g[4]=k=>l.value=k)},{default:U(()=>[p(fe,{display:"Delete",direction:r(ge).Left,class:"info"},{default:U(()=>[yr]),_:1},8,["direction"])]),_:1},8,["disabled"])])),r(i).error==null&&!o.value?(h(),S("div",Nr,[d("button",{class:"button open",onClick:g[6]||(g[6]=k=>t("open"))},[d("h3",null,j(r(i).name),1)]),d("span",xr,"v"+j(r(i).modVersion),1),Cr,r(f)?(h(),S("div",Sr,"Last played "+j(r(a).format(r(f))),1)):B("",!0)])):r(i).error==null&&o.value?(h(),S("div",Mr,[p(vi,{modelValue:s.value,"onUpdate:modelValue":g[7]||(g[7]=k=>s.value=k),class:"editname",onSubmit:y},null,8,["modelValue"])])):(h(),S("div",$r,[D(" Error: Failed to load save with id "+j(r(i).id),1),Tr,D(j(r(i).error),1)]))],2))}});var Fr=K(Ir,[["__scopeId","data-v-0136bef4"]]);const Tn=e=>(ct("data-v-3b9991aa"),e=e(),ft(),e),Dr=Tn(()=>d("h2",null,"Saves Manager",-1)),Ar={class:"modal-footer"},Br={class:"field"},Pr=Tn(()=>d("span",{class:"field-title"},"Create Save",-1)),Or={class:"field-buttons"},Er={class:"footer"},Vr=Tn(()=>d("div",{style:{"flex-grow":"1"}},null,-1)),Lr=E({__name:"SavesManager",setup(e,{expose:t}){const n=P(!1),i=P(null);t({open(){n.value=!0}});const a=P(!1),o=P(""),l=P(null);Ve(o,w=>{w?Xe(()=>{try{if(w[0]!=="{")if(w[0]==="e")w=decodeURIComponent(escape(atob(w)));else if(w[0]==="\u1BE1")w=rt.decompressFromUTF16(w);else{console.warn("Unable to determine preset encoding",w),a.value=!0;return}const T=JSON.parse(w);if(typeof T!="object"){a.value=!0;return}const q=Xt();T.id=q,Re(T),o.value="",a.value=!1,X.saves.push(q)}catch{a.value=!0}}):a.value=!1});let s={},c=P(Object.keys(s).reduce((w,T)=>(w.push({label:T.split("/").slice(-1)[0].slice(0,-4),value:s[T]}),w),[]));const f=yn({});function y(w){if(f[w]==null){let T=localStorage.getItem(w);if(T==null)f[w]={error:"Save doesn't exist in localStorage",id:w};else if(T==="dW5kZWZpbmVk")f[w]={error:"Save is undefined",id:w};else try{if(T[0]!=="{")if(T[0]==="e")T=decodeURIComponent(escape(atob(T)));else if(T[0]==="\u1BE1")T=rt.decompressFromUTF16(T);else return console.warn("Unable to determine preset encoding",T),a.value=!0,f[w]={error:"Unable to determine preset encoding",id:w},f[w];f[w]={...JSON.parse(T),id:w}}catch(q){f[w]={error:q,id:w},console.warn(`SavesManager: Failed to load info about save with id ${w}:
${q}
${T}`)}}return f[w]}Ve(n,w=>{w&&Object.keys(f).forEach(T=>delete f[T])});const b=v(()=>X.saves.reduce((w,T)=>(w[T]=y(T),w),{}));function g(w){let T;switch(F.id===w?T=ri(F[ce]):T=JSON.stringify(b.value[w]),Z.exportEncoding){default:console.warn(`Unknown save encoding: ${Z.exportEncoding}. Defaulting to lz`);case"lz":T=rt.compressToUTF16(T);break;case"base64":T=btoa(unescape(encodeURIComponent(T)));break;case"plain":break}const q=document.createElement("textarea");q.value=T,document.body.appendChild(q),q.select(),q.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(q)}function k(w){F.id===w&&Re();const T={...b.value[w],id:Xt()};Re(T),X.saves.push(T.id)}function $(w){X.saves=X.saves.filter(T=>T!==w),localStorage.removeItem(w),f[w]=void 0}function x(w){b.value[F.id].time=F.time,Re(),f[F.id]=void 0,bt(b.value[w]),f[w]=void 0}function O(w){if(l.value=w,Xe(()=>{l.value=null}),w[0]!=="{")if(w[0]==="e")w=decodeURIComponent(escape(atob(w)));else if(w[0]==="\u1BE1")w=rt.decompressFromUTF16(w);else{console.warn("Unable to determine preset encoding",w);return}const T=JSON.parse(w);T.id=Xt(),Re(T),X.saves.push(T.id),x(T.id)}function le(w,T){const q=b.value[w];q&&(q.name=T,F.id===w?(F.name=T,Re()):(Re(q),f[w]=void 0))}return(w,T)=>(h(),L(yt,{modelValue:n.value,"onUpdate:modelValue":T[4]||(T[4]=q=>n.value=q),ref_key:"modal",ref:i},{header:U(()=>[Dr]),body:U(({shown:q})=>[q?(h(),L(r(qi),{key:0,list:r(X).saves,handle:".handle",itemKey:ve=>ve},{item:U(({element:ve})=>[p(Fr,{save:r(b)[ve],onOpen:ee=>x(ve),onExport:ee=>g(ve),onEditName:ee=>le(ve,ee),onDuplicate:ee=>k(ve),onDelete:ee=>$(ve)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):B("",!0)]),footer:U(()=>[d("div",Ar,[p(vi,{modelValue:o.value,"onUpdate:modelValue":T[0]||(T[0]=q=>o.value=q),title:"Import Save",placeholder:"Paste your save here!",class:oe({importingFailed:a.value})},null,8,["modelValue","class"]),d("div",Br,[Pr,d("div",Or,[d("button",{class:"button",onClick:T[1]||(T[1]=q=>x(r(Ct)().id))},"New Game"),Object.keys(r(c)).length>0?(h(),L($n,{key:0,options:r(c),modelValue:l.value,"onUpdate:modelValue":T[2]||(T[2]=q=>O(q)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):B("",!0)])]),d("div",Er,[Vr,d("button",{class:"button modal-default-button",onClick:T[3]||(T[3]=q=>n.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var bi=K(Lr,[["__scopeId","data-v-3b9991aa"]]);const Ie=e=>(ct("data-v-4a3f8425"),e=e(),ft(),e),Ur=["src","alt"],Rr={key:1,class:"title"},qr=Ie(()=>d("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),zr={class:"discord"},jr={class:"discord-links"},Gr={key:0},Hr=["href"],Wr=Ie(()=>d("li",null,[d("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Yr=Ie(()=>d("li",null,[d("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Zr={href:"https://forums.moddingtree.com/",target:"_blank"},Kr=Ie(()=>d("span",{class:"material-icons"},"forum",-1)),Jr=Ie(()=>d("span",{class:"material-icons"},"info",-1)),Xr=Ie(()=>d("span",{class:"material-icons"},"library_books",-1)),Qr=Ie(()=>d("span",{class:"material-icons"},"settings",-1)),es=Ie(()=>d("span",{class:"material-icons"},"library_books",-1)),ts=Ie(()=>d("span",{class:"material-icons"},"settings",-1)),ns=Ie(()=>d("span",{class:"material-icons"},"info",-1)),is={href:"https://forums.moddingtree.com/",target:"_blank"},as=Ie(()=>d("span",{class:"material-icons"},"forum",-1)),os={class:"discord"},rs={class:"discord-links"},ss={key:0},ls=["href"],us=Ie(()=>d("li",null,[d("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),ds=Ie(()=>d("li",null,[d("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),cs=E({__name:"Nav",setup(e){const t=P(null),n=P(null),i=P(null),a=P(null),{useHeader:o,banner:l,title:s,discordName:c,discordLink:f,versionNumber:y}=Z;function b(){window.open(f,"mywindow")}return(g,k)=>(h(),S(W,null,[r(o)?(h(),S("div",ut({key:0,class:"nav"},g.$attrs),[r(l)?(h(),S("img",{key:0,src:r(l),class:"banner",alt:r(s)},null,8,Ur)):(h(),S("div",Rr,j(r(s)),1)),d("div",{onClick:k[0]||(k[0]=$=>{var x;return(x=a.value)==null?void 0:x.open()}),class:"version-container"},[p(fe,{display:"Changelog",direction:r(ge).Down,class:"version"},{default:U(()=>[d("span",null,"v"+j(r(y)),1)]),_:1},8,["direction"])]),qr,d("div",zr,[d("span",{onClick:b,class:"material-icons"},"discord"),d("ul",jr,[r(f)?(h(),S("li",Gr,[d("a",{href:r(f),target:"_blank"},j(r(c)),9,Hr)])):B("",!0),Wr,Yr])]),d("div",null,[d("a",Zr,[p(fe,{display:"Forums",direction:r(ge).Down,yoffset:"5px"},{default:U(()=>[Kr]),_:1},8,["direction"])])]),d("div",{onClick:k[1]||(k[1]=$=>{var x;return(x=t.value)==null?void 0:x.open()})},[p(fe,{display:"Info",direction:r(ge).Down,class:"info"},{default:U(()=>[Jr]),_:1},8,["direction"])]),d("div",{onClick:k[2]||(k[2]=$=>{var x;return(x=n.value)==null?void 0:x.open()})},[p(fe,{display:"Saves",direction:r(ge).Down,xoffset:"-20px"},{default:U(()=>[Xr]),_:1},8,["direction"])]),d("div",{onClick:k[3]||(k[3]=$=>{var x;return(x=i.value)==null?void 0:x.open()})},[p(fe,{display:"Options",direction:r(ge).Down,xoffset:"-66px"},{default:U(()=>[Qr]),_:1},8,["direction"])])],16)):(h(),S("div",ut({key:1,class:"overlay-nav"},g.$attrs),[d("div",{onClick:k[4]||(k[4]=$=>{var x;return(x=a.value)==null?void 0:x.open()}),class:"version-container"},[p(fe,{display:"Changelog",direction:r(ge).Right,xoffset:"25%",class:"version"},{default:U(()=>[d("span",null,"v"+j(r(y)),1)]),_:1},8,["direction"])]),d("div",{onClick:k[5]||(k[5]=$=>{var x;return(x=n.value)==null?void 0:x.open()})},[p(fe,{display:"Saves",direction:r(ge).Right},{default:U(()=>[es]),_:1},8,["direction"])]),d("div",{onClick:k[6]||(k[6]=$=>{var x;return(x=i.value)==null?void 0:x.open()})},[p(fe,{display:"Options",direction:r(ge).Right},{default:U(()=>[ts]),_:1},8,["direction"])]),d("div",{onClick:k[7]||(k[7]=$=>{var x;return(x=t.value)==null?void 0:x.open()})},[p(fe,{display:"Info",direction:r(ge).Right},{default:U(()=>[ns]),_:1},8,["direction"])]),d("div",null,[d("a",is,[p(fe,{display:"Forums",direction:r(ge).Right,xoffset:"7px"},{default:U(()=>[as]),_:1},8,["direction"])])]),d("div",os,[d("span",{onClick:b,class:"material-icons"},"discord"),d("ul",rs,[r(f)?(h(),S("li",ss,[d("a",{href:r(f),target:"_blank"},j(r(c)),9,ls)])):B("",!0),us,ds])])],16)),p(Go,{ref_key:"info",ref:t,changelog:a.value},null,8,["changelog"]),p(bi,{ref_key:"savesManager",ref:n},null,512),p(Qo,{ref_key:"options",ref:i},null,512),p(So,{ref_key:"changelog",ref:a},null,512)],64))}});var yi=K(cs,[["__scopeId","data-v-4a3f8425"]]);const fs={class:"inner-tab"},ps=E({__name:"Game",setup(e){const t=dt(F,"tabs"),n=v(()=>Object.keys(Se)),i=Z.useHeader;function a(o){const{display:l,minimized:s,minWidth:c,name:f,color:y,minimizable:b,nodes:g}=o;return{display:l,minimized:s,minWidth:c,name:f,color:y,minimizable:b,nodes:g}}return(o,l)=>(h(),S("div",{class:oe(["tabs-container",{useHeader:r(i)}])},[(h(!0),S(W,null,Mt(r(t),(s,c)=>{var f,y;return h(),S("div",{key:c,class:oe(["tab",r((f=r(Se)[s])==null?void 0:f.classes)]),ref_for:!0,ref:`tab-${c}`,style:ie(r((y=r(Se)[s])==null?void 0:y.style))},[c===0&&!r(i)?(h(),L(yi,{key:0})):B("",!0),d("div",fs,[r(n).includes(s)?(h(),L(ho,ut({key:0},a(r(Se)[s]),{index:c,tab:()=>{var b;return(b=o.$refs[`tab-${c}`])==null?void 0:b[0]}}),null,16,["index","tab"])):(h(),L(ne(s),{key:1,index:c},null,8,["index"]))])],6)}),128))],2))}});var ms=K(ps,[["__scopeId","data-v-4cb9ce0f"]]);const gs=E({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(t,n)=>(h(),S("div",{style:ie({width:e.width,height:e.height})},null,4))}});function Et(e,t="points",n=0,i=void 0){const a=he(e)?e:Le(e);return a.displayName=t,a.precision=n,a.small=i,a}function hs(e){const t=Le(e.value);return Ve(e,n=>{u.gt(n,t.value)&&(t.value=n)}),t}new u("10^^8");new u("1e100");function Vt(e,t){const n=t!=null?t:e.value;return u.eq(e.precision,0)?Je(n):G(n,e.precision,e.small)}const vs=["x1","y1","x2","y2"],bs=E({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=se(e),i=v(()=>{const o=n.startNode.value.rect,l=n.boundingRect.value,s=l?{x:o.x+o.width/2-l.x,y:o.y+o.height/2-l.y}:{x:0,y:0};return n.link.value.offsetStart&&(s.x+=n.link.value.offsetStart.x,s.y+=n.link.value.offsetStart.y),s}),a=v(()=>{const o=n.endNode.value.rect,l=n.boundingRect.value,s=l?{x:o.x+o.width/2-l.x,y:o.y+o.height/2-l.y}:{x:0,y:0};return n.link.value.offsetEnd&&(s.x+=n.link.value.offsetEnd.x,s.y+=n.link.value.offsetEnd.y),s});return(o,l)=>(h(),S("line",ut({"stroke-width":"15px",stroke:"white"},e.link,{x1:r(i).x,y1:r(i).y,x2:r(a).x,y2:r(a).y}),null,16,vs))}});const ys=E({__name:"Links",props:{links:null},setup(e){var c;const n=dt(e,"links"),i=P(null),a=en(Sn,P({})),o=en(Mn,P(void 0)),l=P((c=i.value)==null?void 0:c.getBoundingClientRect());Ve(o,()=>{var f;return l.value=(f=i.value)==null?void 0:f.getBoundingClientRect()}),rn(()=>{var f;return l.value=(f=i.value)==null?void 0:f.getBoundingClientRect()});const s=v(()=>{var y,b;const f=a.value;return(b=(y=n.value)==null?void 0:y.filter(g=>{var k,$;return((k=f[g.startNode.id])==null?void 0:k.rect)&&(($=f[g.startNode.id])==null?void 0:$.rect)}))!=null?b:[]});return(f,y)=>(h(),S(W,null,[r(s)?(h(),S("svg",Ei(ut({key:0},f.$attrs)),[(h(!0),S(W,null,Mt(r(s),(b,g)=>(h(),L(bs,{key:g,link:b,boundingRect:l.value,startNode:r(a)[b.startNode.id],endNode:r(a)[b.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):B("",!0),d("div",{ref_key:"resizeListener",ref:i,class:"resize-listener"},null,512)],64))}});var _s=K(ys,[["__scopeId","data-v-063f6d6b"]]),ws=E({props:{nodes:{type:A(Array),required:!0},leftSideNodes:A(Array),rightSideNodes:A(Array),branches:A(Array)},components:{Links:_s},setup(e){const{nodes:t,leftSideNodes:n,rightSideNodes:i}=se(e),a=Be();Pe(()=>{const s=re(t);a.value=R(Y(()=>p(W,null,[s.map(c=>p("span",{class:"row tree-row",style:"margin: 50px auto;"},[c.map(Qt)]))])))});const o=Be();Pe(()=>{const s=re(n);o.value=s?R(Y(()=>p("span",{class:"left-side-nodes small"},[s.map(Qt)]))):""});const l=Be();return Pe(()=>{const s=re(i);l.value=s?R(Y(()=>p("span",{class:"side-nodes small"},[s.map(Qt)]))):""}),{unref:r,nodesComp:a,leftNodesComp:o,rightNodesComp:l}}});function ks(e,t,n,i,a,o){const l=Te("Links");return h(),S(W,null,[(h(),L(ne(e.nodesComp))),e.leftNodesComp?(h(),L(ne(e.leftNodesComp),{key:0})):B("",!0),e.rightNodesComp?(h(),L(ne(e.rightNodesComp),{key:1})):B("",!0),e.branches?(h(),L(l,{key:2,links:e.unref(e.branches)},null,8,["links"])):B("",!0)],64)}var Ns=K(ws,[["render",ks],["__scopeId","data-v-39ca96d0"]]);const xs={key:0},Cs={key:0,class:"mark star"},Ss=["src"],Ms=E({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(t,n)=>e.mark?(h(),S("div",xs,[e.mark===!0?(h(),S("div",Cs)):(h(),S("img",{key:1,class:"mark",src:e.mark},null,8,Ss))])):B("",!0)}});var un=K(Ms,[["__scopeId","data-v-2207999f"]]);const $s=E({__name:"Node",props:{id:null},setup(e){const n=se(e),i=en(xn,()=>{}),a=en(Cn,()=>{}),o=P(null),l=v(()=>o.value&&o.value.parentElement);return Ve([l,n.id],([s,c],[f,y])=>{f&&a(r(y)),s&&i(c,s)}),Zn(()=>a(r(n.id))),(s,c)=>(h(),S("div",{class:"node",ref_key:"node",ref:o},null,512))}});var qt=K($s,[["__scopeId","data-v-2cb1bb79"]]);const Ts=E({props:{display:A(Object,String,Function),visibility:{type:A(Number),required:!0},style:A(String,Object,Array),classes:A(Object),onClick:Function,onHold:Function,color:A(String),glowColor:A(String),canClick:{type:A(Boolean),required:!0},mark:A(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:un,Node:qt},setup(e){const{onClick:t,onHold:n,display:i}=se(e),a=ln(i),{start:o,stop:l}=ci(t,n);return{start:o,stop:l,comp:a,unref:r,Visibility:I,isCoercableComponent:Ee}}});function Is(e,t,n,i,a,o){var c;const l=Te("MarkNode"),s=Te("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("div",{key:0,style:ie({visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0}),class:oe({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:t[0]||(t[0]=(...f)=>e.onClick&&e.onClick(...f)),onMousedown:t[1]||(t[1]=(...f)=>e.start&&e.start(...f)),onMouseleave:t[2]||(t[2]=(...f)=>e.stop&&e.stop(...f)),onMouseup:t[3]||(t[3]=(...f)=>e.stop&&e.stop(...f)),onTouchstartPassive:t[4]||(t[4]=(...f)=>e.start&&e.start(...f)),onTouchendPassive:t[5]||(t[5]=(...f)=>e.stop&&e.stop(...f)),onTouchcancelPassive:t[6]||(t[6]=(...f)=>e.stop&&e.stop(...f))},[d("div",{style:ie([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},(c=e.unref(e.style))!=null?c:[]])},[(h(),L(ne(e.unref(e.comp))))],4),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],38)):B("",!0)}var Fs=K(Ts,[["render",Is],["__scopeId","data-v-1c0c107d"]]);const Ds=Symbol("TreeNode"),As=Symbol("Tree");function Bs(e){return Ue(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=Ge("treeNode-"),t.type=Ds,t[ke]=Fs,M(t,"visibility"),Q(t,"visibility",I.Visible),M(t,"canClick"),Q(t,"canClick",!0),M(t,"color"),M(t,"display"),M(t,"glowColor"),M(t,"classes"),M(t,"style"),M(t,"mark"),t.onClick){const i=t.onClick.bind(t);t.onClick=function(){r(t.canClick)&&i()}}if(t.onHold){const i=t.onHold.bind(t);t.onHold=function(){r(t.canClick)&&i()}}return t[Me]=function(){const{display:i,visibility:a,style:o,classes:l,onClick:s,onHold:c,color:f,glowColor:y,canClick:b,mark:g,id:k}=this;return{display:i,visibility:a,style:o,classes:l,onClick:s,onHold:c,color:f,glowColor:y,canClick:b,mark:g,id:k}},t})}function Ps(e){return Ue(()=>{const t=e();return t.id=Ge("tree-"),t.type=As,t[ke]=Ns,t.isResetting=P(!1),t.resettingNode=Be(null),t.reset=function(n){var a,o;const i=t;i.isResetting.value=!0,i.resettingNode.value=n,(a=i.resetPropagation)==null||a.call(i,i,n),(o=i.onReset)==null||o.call(i,n),i.isResetting.value=!1,i.resettingNode.value=null},t.links=v(()=>{var i;return(i=r(t.branches))!=null?i:[]}),M(t,"visibility"),Q(t,"visibility",I.Visible),M(t,"nodes"),M(t,"leftSideNodes"),M(t,"rightSideNodes"),M(t,"branches"),t[Me]=function(){const{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:o}=this;return{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:o}},t})}const Os=function(e,t){const n=[t];let i=[t];if(e.branches!=null){const a=r(e.branches);for(;i.length>0;){const o=[];i.forEach(l=>{a.filter(s=>s.startNode===l||s.endNode===l).map(s=>s.startNode===l?s.endNode:s.startNode).filter(s=>!n.includes(s)).forEach(s=>{var c;o.includes(s)||(o.push(s),(c=s.reset)==null||c.reset())})}),i=o,n.push(...i)}}};function In(e,t=null,n=0){const i=bn(n);return v(()=>t==null||u.gte(e.value,r(i))?Vt(e)+" "+e.displayName:`Reach ${u.eq(t.precision,0)?Je(r(i)):G(r(i),t.precision)} ${t.displayName} to unlock (You have ${u.eq(t.precision,0)?Je(t.value):G(t.value,t.precision)})`)}const Es=Symbol("Reset");function Fn(e){return Ue(()=>{const t=e();return t.id=Ge("reset-"),t.type=Es,t.reset=function(){var i;const n=a=>{a&&typeof a=="object"&&(Pt in a?a[Pt].value=a[Ot]:!(a instanceof u)&&!he(a)&&Object.values(a).forEach(o=>n(o)))};r(t.thingsToReset).forEach(n),pe.emit("reset",t),(i=t.onReset)==null||i.call(t)},M(t,"thingsToReset"),t})}const st={};function Vs(e,t){const n=Le(new u(0));return pe.on("addLayer",i=>{var a;e.id===i.id&&((a=st[e.id])==null||a.call(st),st[e.id]=e.on("preUpdate",o=>{n.value=u.add(n.value,o)}))}),pe.on("reset",i=>{i===t&&(n.value=new u(0))}),n}pe.on("removeLayer",e=>{var t;(t=st[e.id])==null||t.call(st),st[e.id]=void 0});const Ls=E({__name:"Sticky",setup(e){const t=P("0"),n=new ResizeObserver(a),i=P(null);function a(){let o=i.value;if(o==null)return;let l=0;for(;o.previousSibling;){const s=o.previousSibling;s.dataset&&"vSticky"in s.dataset&&(l+=s.offsetHeight),o=s}t.value=l+"px"}return Xe(a),document.fonts.ready.then(a),rn(()=>{var l;const o=(l=i.value)==null?void 0:l.parentElement;o&&n.observe(o)}),(o,l)=>(h(),S("div",{class:"sticky",style:ie({top:t.value}),ref_key:"element",ref:i,"data-v-sticky":""},[Ke(o.$slots,"default",{},void 0,!0)],4))}});var _i=K(Ls,[["__scopeId","data-v-21495571"]]);const Us=E({__name:"Resource",props:{resource:null,color:null},setup(e){const t=e,n=v(()=>Vt(t.resource));return(i,a)=>(h(),S("h2",{style:ie({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},j(r(n)),5))}});const Rs={class:"main-display"},qs={key:0},zs={key:1},js=D(", "),Dn=E({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,effectDisplay:null},setup(e){const n=se(e),i=P(null),a=ln(n.effectDisplay),o=v(()=>u.lt(n.resource.value,"1e1000"));return(l,s)=>(h(),L(_i,null,{default:U(()=>{var c,f;return[d("div",{class:"main-display-container",style:ie({height:`${((f=(c=i.value)==null?void 0:c.$el.clientHeight)!=null?f:0)+50}px`})},[d("div",Rs,[r(o)?(h(),S("span",qs,"You have ")):B("",!0),p(Us,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),D(" "+j(e.resource.displayName),1),r(a)?(h(),S("span",zs,[js,(h(),L(ne(r(a)),{ref_key:"effectRef",ref:i},null,512))])):B("",!0)])],4)]}),_:1}))}});function An(e,t){return M(t,"display"),M(t,"classes"),M(t,"style"),M(t,"direction"),Q(t,"direction",ge.Up),M(t,"xoffset"),M(t,"yoffset"),t.pinnable&&("pinned"in e?(console.error("Cannot add pinnable tooltip to element that already has a property called 'pinned'"),t.pinnable=!1):e.pinned=t.pinned=Le(!1)),Xe(()=>{const n=e[ke];e[ke]=fe;const i=e[Me].bind(e);e[Me]=function(){const{display:o,classes:l,style:s,direction:c,xoffset:f,yoffset:y,pinned:b}=this;return{element:{[ke]:n,[Me]:i},display:o,classes:l,style:r(s),direction:c,xoffset:f,yoffset:y,pinned:b}}.bind(t)}),t}var Gs=E({props:{display:{type:A(Object,String,Function),required:!0},visibility:{type:A(Number),required:!0},style:A(Object,String,Array),classes:A(Object),onClick:Function,onHold:Function,canClick:{type:A(Boolean),required:!0},small:Boolean,mark:A(Boolean,String),id:{type:String,required:!0}},components:{Node:qt,MarkNode:un},setup(e){const{display:t,onClick:n,onHold:i}=se(e),a=Be("");Pe(()=>{const s=re(t);if(s==null){a.value="";return}if(Ee(s)){a.value=R(s);return}const c=R(s.title||"","h3"),f=R(s.description,"div");a.value=R(Y(()=>p("span",null,[s.title?p("div",null,[p(c,null,null)]):null,p(f,null,null)])))});const{start:o,stop:l}=ci(n,i);return{start:o,stop:l,comp:a,Visibility:I,unref:r}}});function Hs(e,t,n,i,a,o){var c;const l=Te("MarkNode"),s=Te("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("button",{key:0,style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(c=e.unref(e.style))!=null?c:[]]),onClick:t[0]||(t[0]=(...f)=>e.onClick&&e.onClick(...f)),onMousedown:t[1]||(t[1]=(...f)=>e.start&&e.start(...f)),onMouseleave:t[2]||(t[2]=(...f)=>e.stop&&e.stop(...f)),onMouseup:t[3]||(t[3]=(...f)=>e.stop&&e.stop(...f)),onTouchstartPassive:t[4]||(t[4]=(...f)=>e.start&&e.start(...f)),onTouchendPassive:t[5]||(t[5]=(...f)=>e.stop&&e.stop(...f)),onTouchcancelPassive:t[6]||(t[6]=(...f)=>e.stop&&e.stop(...f)),class:oe({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(h(),L(ne(e.unref(e.comp)),{key:0})):B("",!0),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],38)):B("",!0)}var wi=K(Gs,[["render",Hs],["__scopeId","data-v-5e7c90cf"]]);const Ws=Symbol("Clickable");function Tt(e){return Ue(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=Ge("clickable-"),t.type=Ws,t[ke]=wi,M(t,"visibility"),Q(t,"visibility",I.Visible),M(t,"canClick"),Q(t,"canClick",!0),M(t,"classes"),M(t,"style"),M(t,"mark"),M(t,"display"),t.onClick){const i=t.onClick.bind(t);t.onClick=function(a){r(t.canClick)&&i(a)}}if(t.onHold){const i=t.onHold.bind(t);t.onHold=function(){r(t.canClick)&&i()}}return t[Me]=function(){const{display:i,visibility:a,style:o,classes:l,onClick:s,onHold:c,canClick:f,small:y,mark:b,id:g}=this;return{display:i,visibility:a,style:r(o),classes:l,onClick:s,onHold:c,canClick:f,small:y,mark:b,id:g}},t})}function It(e,t,n=!0){const i=typeof n=="function"?v(n):n;return e.on("update",()=>{var a;r(i)&&r(t.canClick)&&((a=t.onClick)==null||a.call(t))})}function Ys(e){return Tt(()=>{const t=e();M(t,"showNextAt"),Q(t,"showNextAt",!0),Q(t,"minimumGain",1),t.resetDescription==null?t.resetDescription=v(()=>u.lt(t.conversion.gainResource.value,1e3)?"Reset for ":""):M(t,"resetDescription"),t.display==null&&(t.display=Y(()=>p("span",null,[r(t.resetDescription),p("b",null,[Vt(t.conversion.gainResource,u.max(r(t.conversion.actualGain),r(t.minimumGain)))])," ",t.conversion.gainResource.displayName,r(t.showNextAt)?p("div",null,[p("br",null,null),r(t.conversion.buyMax)?"Next:":"Req:"," ",Vt(t.conversion.baseResource,r(t.conversion.buyMax)||u.floor(r(t.conversion.actualGain)).neq(1)?r(t.conversion.nextAt):r(t.conversion.currentAt))," ",t.conversion.baseResource.displayName]):null]))),t.canClick==null&&(t.canClick=v(()=>u.gte(r(t.conversion.actualGain),r(t.minimumGain))));const n=t.onClick;return t.onClick=function(){!r(t.canClick)||(t.conversion.convert(),t.tree.reset(t.treeNode),t.resetTime&&(t.resetTime.value=t.resetTime[Ot]),n==null||n())},t})}function Bn(e){return Bs(()=>{const t=e();return M(t,"display"),Q(t,"display",t.layerID),M(t,"append"),{...t,display:t.display,onClick:r(t.append)?function(){if(F.tabs.includes(t.layerID)){const n=F.tabs.lastIndexOf(t.layerID);F.tabs.splice(n,1)}else F.tabs.push(t.layerID)}:function(){F.tabs.splice(1,1,t.layerID)}}})}function Ye(e){if(e=new u(e),e.lt(1e100))return e;const t=e.log(1e100).add(1).log2().floor(),n=e.div(new u(1e100).pow(new u(2).pow(t).minus(1)));return new u(1e100).pow(t).mul(n.pow(new u(.5).pow(t)))}function hn(e){return e.flatMap(Object.entries).reduce((t,n)=>({...t,[n[0]]:n[1]}),{})}const Zs=Symbol("Buyable");function ot(e){const t=Le(0);return Ue(()=>{var o,l;const n=e();if(n.canPurchase==null&&(n.resource==null||n.cost==null))throw console.warn("Cannot create buyable without a canPurchase property or a resource and cost property",n),"Cannot create buyable without a canPurchase property or a resource and cost property";n.id=Ge("buyable-"),n.type=Zs,n[ke]=wi,n.amount=t,n.canAfford=v(()=>{const s=n,c=r(s.cost);return s.resource!=null&&c!=null&&u.gte(s.resource.value,c)}),n.canPurchase==null&&(n.canPurchase=v(()=>r(n.visibility)===I.Visible&&r(n.canAfford)&&u.lt(n.amount.value,r(n.purchaseLimit)))),n.maxed=v(()=>u.gte(n.amount.value,r(n.purchaseLimit))),M(n,"classes");const i=n.classes;n.classes=v(()=>{const s=r(i)||{};return n.maxed.value&&(s.bought=!0),s}),M(n,"canPurchase"),n.canClick=n.canPurchase,n.onClick=n.purchase=(l=(o=n.onClick)!=null?o:n.purchase)!=null?l:function(){var f;const s=n;if(!r(s.canPurchase))return;const c=r(s.cost);s.cost!=null&&s.resource!=null&&(s.resource.value=u.sub(s.resource.value,c),s.amount.value=u.add(s.amount.value,1)),(f=s.onPurchase)==null||f.call(s,c)},M(n,"display");const a=n.display;return n.display=Y(()=>{const s=r(a);if(Ee(s)){const c=R(s);return p(c,null,null)}if(s!=null&&n.cost!=null&&n.resource!=null){const c=n,f=R(s.title||"","h3"),y=R(s.description||""),b=R(s.effectDisplay||"");return p("span",null,[s.title?p("div",null,[p(f,null,null)]):null,s.description?p(y,null,null):null,s.showAmount===!1?null:p("div",null,[p("br",null,null),r(c.purchaseLimit)===u.dInf?p(W,null,[D("Amount: "),Je(c.amount.value)]):p(W,null,[D("Amount: "),Je(c.amount.value),D(" /")," ",Je(r(c.purchaseLimit))])]),s.effectDisplay?p("div",null,[p("br",null,null),D("Currently: "),p(b,null,null)]):null,c.cost&&!c.maxed.value?p("div",null,[p("br",null,null),D("Cost: "),G(r(c.cost)||0)," ",n.resource.displayName]):null])}return""}),M(n,"visibility"),Q(n,"visibility",I.Visible),M(n,"cost"),M(n,"resource"),M(n,"purchaseLimit"),Q(n,"purchaseLimit",u.dInf),M(n,"style"),M(n,"mark"),M(n,"small"),n[Me]=function(){const{display:s,visibility:c,style:f,classes:y,onClick:b,canClick:g,small:k,mark:$,id:x}=this;return{display:s,visibility:c,style:r(f),classes:y,onClick:b,canClick:g,small:k,mark:$,id:x}},n})}var Ks=E({props:{display:{type:A(String,Object,Function),required:!0},visibility:{type:A(Number),required:!0},style:A(String,Object,Array),classes:A(Object),resource:Object,cost:A(String,Object,Number),canPurchase:{type:A(Boolean),required:!0},bought:{type:A(Boolean),required:!0},mark:A(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:qt,MarkNode:un},setup(e){const{display:t,cost:n}=se(e),i=Be("");return Pe(()=>{const a=re(t);if(a==null){i.value="";return}if(Ee(a)){i.value=R(a);return}const o=re(n),l=R(a.title||"","h3"),s=R(a.description,"div"),c=R(a.effectDisplay||"");i.value=R(Y(()=>{var f;return p("span",null,[a.title?p("div",null,[p(l,null,null)]):null,p(s,null,null),a.effectDisplay?p("div",null,[D("Currently: "),p(c,null,null)]):null,e.resource!=null?p(W,null,[p("br",null,null),D("Cost: "),e.resource&&Vt(e.resource,o)," ",(f=e.resource)==null?void 0:f.displayName]):null])}))}),{component:i,unref:r,Visibility:I}}});const Js=["disabled"];function Xs(e,t,n,i,a,o){var c;const l=Te("MarkNode"),s=Te("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("button",{key:0,style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(c=e.unref(e.style))!=null?c:{}]),onClick:t[0]||(t[0]=(...f)=>e.purchase&&e.purchase(...f)),class:oe({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(h(),L(ne(e.unref(e.component)),{key:0})):B("",!0),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],14,Js)):B("",!0)}var Qs=K(Ks,[["render",Xs],["__scopeId","data-v-7742f590"]]);const el=Symbol("Upgrade");function ae(e){const t=Le(!1);return Ue(()=>{const n=e();return n.id=Ge("upgrade-"),n.type=el,n[ke]=Qs,n.canAfford==null&&(n.resource==null||n.cost==null)&&console.warn("Error: can't create upgrade without a canAfford property or a resource and cost property",n),n.bought=t,n.canAfford==null?n.canAfford=v(()=>{const i=n;return i.resource!=null&&i.cost!=null&&u.gte(i.resource.value,r(i.cost))}):M(n,"canAfford"),n.canPurchase=v(()=>r(n.visibility)===I.Visible&&r(n.canAfford)&&!r(n.bought)),n.purchase=function(){var a;const i=n;!r(i.canPurchase)||(i.resource!=null&&i.cost!=null&&(i.resource.value=u.sub(i.resource.value,r(i.cost))),t.value=!0,(a=i.onPurchase)==null||a.call(i))},M(n,"visibility"),Q(n,"visibility",I.Visible),M(n,"classes"),M(n,"style"),M(n,"display"),M(n,"mark"),M(n,"cost"),M(n,"resource"),n[Me]=function(){const{display:i,visibility:a,style:o,classes:l,resource:s,cost:c,canPurchase:f,bought:y,mark:b,id:g,purchase:k}=this;return{display:i,visibility:a,style:r(o),classes:l,resource:s,cost:c,canPurchase:f,bought:y,mark:b,id:g,purchase:k}},n})}var tl=E({props:{visibility:{type:A(Number),required:!0},display:{type:A(String,Object,Function),required:!0},style:A(String,Object,Array),classes:A(Object),earned:{type:A(Boolean),required:!0},id:{type:String,required:!0}},components:{Node:qt},setup(e){const{display:t}=se(e),n=Be("");return Pe(()=>{const i=re(t);if(i==null){n.value="";return}if(Ee(i)){n.value=R(i);return}const a=R(i.requirement,"h3"),o=R(i.effectDisplay||"","b"),l=R(i.optionsDisplay||"","span");n.value=R(Y(()=>p("span",null,[p(a,null,null),i.effectDisplay?p("div",null,[p(o,null,null)]):null,i.optionsDisplay?p("div",{class:"equal-spaced"},[p(l,null,null)]):null])))}),{comp:n,unref:r,Visibility:I}}});function nl(e,t,n,i,a,o){var s;const l=Te("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("div",{key:0,style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(s=e.unref(e.style))!=null?s:{}]),class:oe({feature:!0,milestone:!0,done:e.unref(e.earned),...e.unref(e.classes)})},[(h(),L(ne(e.unref(e.comp)))),p(l,{id:e.id},null,8,["id"])],6)):B("",!0)}var il=K(tl,[["render",nl],["__scopeId","data-v-f4e8794e"]]);pe.on("setupVue",e=>e.use(ji));function Pn(e="white",t="8px"){return{transform:"scale(1.05, 1.05)",borderColor:"rgba(0, 0, 0, 0.125)",boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${t} ${e}`,zIndex:1}}function al(){return Pn("red","20px")}const ol=Jn(),rl=Symbol("Milestone");let lt;(function(e){e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none"})(lt||(lt={}));function sl(e){const t=Le(!1);return Ue(()=>{var a;const n=(a=e==null?void 0:e())!=null?a:{};n.id=Ge("milestone-"),n.type=rl,n[ke]=il,n.earned=t,n.complete=function(){t.value=!0},M(n,"visibility"),Q(n,"visibility",I.Visible);const i=n.visibility;if(n.visibility=v(()=>{const o=r(n.display);switch(X.msDisplay){default:case lt.All:return r(i);case lt.Configurable:return r(n.earned)&&!(o!=null&&typeof o=="object"&&"optionsDisplay"in o)?I.None:r(i);case lt.Incomplete:return r(n.earned)?I.None:r(i);case lt.None:return I.None}}),M(n,"style"),M(n,"classes"),M(n,"display"),n[Me]=function(){const{visibility:o,display:l,style:s,classes:c,earned:f,id:y}=this;return{visibility:o,display:l,style:r(s),classes:c,earned:f,id:y}},n.shouldEarn){const o=n;Pe(()=>{var l,s;if(X.active===F.id&&!o.earned.value&&r(o.visibility)===I.Visible&&((l=o.shouldEarn)==null?void 0:l.call(o))&&(o.earned.value=!0,(s=o.onComplete)==null||s.call(o),o.display)){const c=r(o.display),f=R(Ee(c)?c:c.requirement);ol(p(W,null,[p("h3",null,[D("Milestone earned!")]),p("div",null,[p(f,null,null)])]))}})}return n})}pe.on("loadSettings",e=>{Q(e,"msDisplay",lt.All)});const ll=Object.values(lt).map(e=>({label:ai(e),value:e}));di(Y(()=>p($n,{title:"Show Milestones",options:ll,"onUpdate:modelValue":e=>X.msDisplay=e,modelValue:X.msDisplay},null)));function ul(e){return Ue(()=>{const t=e();return t.currentGain==null&&(t.currentGain=v(()=>{let n=t.gainModifier?t.gainModifier.apply(t.scaling.currentGain(t)):t.scaling.currentGain(t);return n=u.floor(n).max(0),r(t.buyMax)||(n=n.min(1)),n})),t.actualGain==null&&(t.actualGain=t.currentGain),t.currentAt==null&&(t.currentAt=v(()=>{let n=t.scaling.currentAt(t);return t.roundUpCost&&(n=u.ceil(n)),n})),t.nextAt==null&&(t.nextAt=v(()=>{let n=t.scaling.nextAt(t);return t.roundUpCost&&(n=u.ceil(n)),n})),t.convert==null&&(t.convert=function(){var i;const n=r(t.currentGain);t.gainResource.value=u.add(t.gainResource.value,n),t.spend(n),(i=t.onConvert)==null||i.call(t,n)}),t.spend==null&&(t.spend=function(){t.baseResource.value=0}),M(t,"currentGain"),M(t,"actualGain"),M(t,"currentAt"),M(t,"nextAt"),M(t,"buyMax"),Q(t,"buyMax",!0),M(t,"roundUpCost"),Q(t,"roundUpCost",!0),t})}function dl(e,t){const n=bn(e),i=bn(t);return{currentGain(a){let o=r(a.baseResource.value);if(a.costModifier&&(o=a.costModifier.apply(o)),u.lt(o,r(n)))return 0;const l=u.pow(r(n),u.div(o,r(i)).sub(1));return l.isNan()?0:l},currentAt(a){let o=r(a.currentGain);return a.gainModifier&&(o=a.gainModifier.revert(o)),o=u.max(0,o).log(r(n)).add(1).mul(r(i)),a.costModifier&&(o=a.costModifier.revert(o)),o},nextAt(a){let o=u.add(r(a.currentGain),1).floor();return a.gainModifier&&(o=a.gainModifier.revert(o)),o=u.max(0,o).log(r(n)).add(1).mul(r(i)).max(r(i)),a.costModifier&&(o=a.costModifier.revert(o)),o}}}function cl(e){return ul(e)}const Hn="am",je=Rt(Hn,function(){const e="Antimatter",t="#DC336B",n=Et(10,"antimatter");function i(N){let H=w.value[N-1];return u.add(H==null?void 0:H.antimatterBoughtCount,H==null?void 0:H.specialBoughtCount)}function a(N){return u.pow10((N+1)*N/2)}function o(N){let H=Math.floor((N-1)/3)+1,ue=(N-1)%3*H;return u.pow10((H-1)*H*3/2+ue+3)}function l(N,H){let ue=a(N),$e=o(N);return function(){let xe=H.value;return ue.mul($e.pow(xe))}}let s=[];function c(N){return s[N]||(s[N]=v(()=>{var H;return(H=w.value[N-1])==null?void 0:H.count})),s[N]}function f(N,H){var ue;w.value[N-1].count=u.add((ue=w.value[N-1])==null?void 0:ue.count,H)}function y(){return{count:u.dZero,antimatterBoughtCount:u.dZero,specialBoughtCount:u.dZero}}const b=v(()=>{let N=u.pow(1.5,ee.amount.value);return et.bought.value&&(N=N.mul(x.value)),Fe.bought.value&&(N=N.mul(O.value)),N});function g(N){return v(()=>Ye(u.mul(b.value,u.pow(2,i(N)))))}const k=N=>{const H=v(()=>{var de;return(de=w.value[N-1])==null?void 0:de.antimatterBoughtCount}),ue=l(N,H),$e=v(()=>{var de;return(de=w.value[N-1])==null?void 0:de.specialBoughtCount}),xe=l(N-1,$e),De=c(N-2),He={multiplier:g(N),antimatterClickable:Tt(()=>({display:Y(()=>p(W,null,[D("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),D("Costs "),G(ue()),p("br",null,null),p("br",null,null),G(H.value),D(" Bought")])),canClick:v(()=>u.gte(n.value,ue())),onClick(){var ye,it;let de=ue();u.gte(n.value,de)&&(n.value=u.sub(n.value,de),w.value[N-1].antimatterBoughtCount=u.add((ye=w.value[N-1])==null?void 0:ye.antimatterBoughtCount,1),w.value[N-1].count=u.add((it=w.value[N-1])==null?void 0:it.count,1))}})),specialClickable:Tt(()=>({display:Y(()=>p(W,null,[D("Buy dimension with dimension "),N-2,p("br",null,null),p("br",null,null),D("Costs "),G(xe()),p("br",null,null),p("br",null,null),G($e.value),D(" Bought")])),canClick:v(()=>u.gte(De.value,xe())),onClick(){var ye,it;let de=xe();u.gte(De.value,de)&&(w.value[N-3].count=u.sub(De.value,de),w.value[N-1].specialBoughtCount=u.add((ye=w.value[N-1])==null?void 0:ye.specialBoughtCount,1),w.value[N-1].count=u.add((it=w.value[N-1])==null?void 0:it.count,1))}}))},be=v(()=>u.gte(Ne.value,N));return It(this,He.antimatterClickable,be),It(this,He.specialClickable,be),He},$=N=>{const H=v(()=>{var be;return(be=w.value[N-1])==null?void 0:be.antimatterBoughtCount}),ue=l(N,H),$e=v(()=>{var be;return(be=w.value[N-1])==null?void 0:be.specialBoughtCount}),xe=l(N,$e),De={multiplier:g(N),antimatterClickable:Tt(()=>({display:Y(()=>p(W,null,[D("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),D("Costs "),G(ue()),p("br",null,null),p("br",null,null),G(H.value),D(" Bought")])),canClick:v(()=>u.gte(n.value,ue())),onClick(){var de,ye;let be=ue();u.gte(n.value,be)&&(n.value=u.sub(n.value,be),w.value[N-1].antimatterBoughtCount=u.add((de=w.value[N-1])==null?void 0:de.antimatterBoughtCount,1),w.value[N-1].count=u.add((ye=w.value[N-1])==null?void 0:ye.count,1))}})),specialClickable:Tt(()=>({display:Y(()=>p(W,null,[D("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),D("Costs "),G(xe()),p("br",null,null),p("br",null,null),G($e.value),D(" Bought")])),canClick:v(()=>u.gte(n.value,xe())),onClick(){var de,ye;let be=xe();u.gte(n.value,be)&&(n.value=u.sub(n.value,be),w.value[N-1].specialBoughtCount=u.add((de=w.value[N-1])==null?void 0:de.specialBoughtCount,1),w.value[N-1].count=u.add((ye=w.value[N-1])==null?void 0:ye.count,1))}}))},He=v(()=>u.gte(Ne.value,N));return It(this,De.antimatterClickable,He),It(this,De.specialClickable,He),De},x=v(()=>u.min(u.add(4,ee.amount.value),O.value)),O=v(()=>8),le=[1,2],w=Le([y(),y()]),T=[$(1),$(2)];function q(){let N=x.value.floor().toNumber();for(;T.length<N;)T.push(k(T.length+1));for(;T.length>N;)T.pop();for(;le.length<N;)le.push(le.length+1);for(;le.length>N;)le.pop();for(;w.value.length<N;)w.value.push(y());for(;w.value.length>N;)w.value.pop()}const ve=Et(v(()=>c(x.value.toNumber()).value),"dimension 4"),ee=ot(()=>({resource:ve,cost:v(()=>{let N=u.sub(ee.amount.value,u.sub(O.value,4));return u.add(u.mul(u.max(N,0),4),2)}),display(){return u.eq(x.value,O.value)?{title:"Dimension Boost",description:"Reset dimensions and antimatter, but multiply all dimensions by 1.5"}:{title:"Dimension Shift",description:"Reset dimensions and antimatter, but unlock a new dimension, and multiply all dimensions by 1.5"}},onPurchase(){n.value=u.dTen,le.forEach(N=>{w.value[N-1]=y()})}}));Ve(x,()=>{var N;q(),ve.displayName=`dimension ${(N=x.value)==null?void 0:N.toNumber()}`});const et=ae(()=>({resource:n,cost:100,display:{title:"Low Dimensionality",description:"Multiply each dimension by the amount of dimensions currently available"}})),tt=ae(()=>({resource:n,cost:1e25,display:{title:"Upgrade Autobuyer",description:"Gain 1 Dimension Autobuyer per Upgrade Bought"}})),Fe=ae(()=>({resource:n,cost:1e50,display:{title:"High Dimensionality",description:"Multiply each dimension by the amount of dimensions currently available"}})),nt=ae(()=>({resource:n,cost:1e75,display:{title:"Shifting Autobuyer",description:"Gain 0.5 Dimension Autobuyer per Dimension Boost/Shift"}})),mt=ae(()=>({resource:n,cost:1e100,display:{title:"Exotic Matter Unlock",description:"Unlock Exotic Matter, which is a new layer"}})),we={lowDimensionality:et,upgradeAutobuyer:tt,highDimensionality:Fe,shiftingAutobuyer:nt,exoticMatterUnlock:mt},wt=v(()=>Object.values(we).filter(N=>N.bought.value).length),Ne=v(()=>{let N=u.dZero;return tt.bought.value&&(N=N.add(wt.value)),nt.bought.value&&(N=N.add(u.div(ee.amount.value,2))),N}),gt=Fn(()=>({thingsToReset:()=>[je]})),jt=Bn(()=>({layerID:Hn,color:t,reset:gt,visibility:v(()=>_e.upgradeData.antimatterUnlock.bought.value?I.Visible:I.None)}));An(jt,{display:In(n),pinnable:!0}),pe.on("onLoad",()=>{q()}),this.on("preUpdate",N=>{n.value=u.add(n.value,u.mul(N,u.mul(Ye(c(1).value),T[0].multiplier.value)));for(let H=2;H<=le.length;H++)f(H-1,u.mul(N,u.mul(Ye(c(H).value),T[H-1].multiplier.value)))});const Gt=Y(()=>p("table",null,[le.map(N=>{var H,ue,$e,xe;return p("tr",null,[p("td",null,[D("Dimension "),N]),p("td",{style:"color: #DC336B"},[G(c(N).value)]),p("td",null,[D("x"),G((ue=(H=T[N-1])==null?void 0:H.multiplier)==null?void 0:ue.value)]),p("td",null,[ze(($e=T[N-1])==null?void 0:$e.antimatterClickable)]),p("td",null,[ze((xe=T[N-1])==null?void 0:xe.specialClickable)])])})]));return{name:e,color:t,points:n,display:Y(()=>p(W,null,[p("div",null,[D("Each Dimension produces the dimension before it")]),p(Dn,{resource:n,color:t},null),Ne.value.gt(0)?`You have ${G(Ne.value)} dimension autobuyers`:"",ze(Gt),Ce(ee),Ce(et,tt,Fe,nt,mt)])),treeNode:jt,dimensionPersistent:w,dimensionShiftBuyable:ee,upgradeData:we}}),fl={key:0},pl=D(" = "),ml=E({__name:"MatterProductDisplay",setup(e){const t=v(()=>[_e,je].filter(n=>r(n.treeNode.visibility)===I.Visible));return(n,i)=>(h(),S("div",null,[(h(!0),S(W,null,Mt(r(t),(a,o)=>(h(),S(W,{key:a.id},[d("span",{style:ie("color: "+a.color)},j(r(G)(r(u).log10(r(u).add(r(a.points),1)))),5),o!==r(t).length-1?(h(),S("span",fl,"+")):B("",!0)],64))),128)),pl,d("span",{style:ie("color: "+r(me).color)},j(r(G)(r(r(me).matterProduct))),5)]))}});var gl=E({props:{active:{type:A(Boolean),required:!0},maxed:{type:A(Boolean),required:!0},canComplete:{type:A(Boolean),required:!0},display:A(String,Object,Function),visibility:{type:A(Number),required:!0},style:A(String,Object,Array),classes:A(Object),completed:{type:A(Boolean),required:!0},canStart:{type:A(Boolean),required:!0},mark:A(Boolean,String),id:{type:String,required:!0},toggle:{type:Function,required:!0}},components:{MarkNode:un,Node:qt},setup(e){const{active:t,maxed:n,canComplete:i,display:a}=se(e),o=v(()=>t.value?i.value?"Finish":"Exit Early":n.value?"Completed":"Start"),l=Be(""),s=v(()=>{const c=re(t),f=re(i);return c?f?al():Pn():{}});return Pe(()=>{const c=re(a);if(c==null){l.value="";return}if(Ee(c)){l.value=R(c);return}const f=R(c.title||"","h3"),y=R(c.description,"div"),b=R(c.goal||""),g=R(c.reward||""),k=R(c.effectDisplay||"");l.value=R(Y(()=>p("span",null,[c.title?p("div",null,[p(f,null,null)]):null,p(y,null,null),c.goal?p("div",null,[p("br",null,null),D("Goal: "),p(b,null,null)]):null,c.reward?p("div",null,[p("br",null,null),D("Reward: "),p(g,null,null)]):null,c.effectDisplay?p("div",null,[D("Currently: "),p(k,null,null)]):null])))}),{buttonText:o,notifyStyle:s,comp:l,Visibility:I,unref:r}}});const hl=["disabled"];function vl(e,t,n,i,a,o){var c;const l=Te("MarkNode"),s=Te("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("div",{key:0,style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.notifyStyle,(c=e.unref(e.style))!=null?c:{}]),class:oe({feature:!0,challenge:!0,done:e.unref(e.completed),canStart:e.unref(e.canStart)&&!e.unref(e.maxed),maxed:e.unref(e.maxed),...e.unref(e.classes)})},[d("button",{class:"toggleChallenge",onClick:t[0]||(t[0]=(...f)=>e.toggle&&e.toggle(...f)),disabled:!e.unref(e.canStart)||e.unref(e.maxed)},j(e.buttonText),9,hl),e.unref(e.comp)?(h(),L(ne(e.unref(e.comp)),{key:0})):B("",!0),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],6)):B("",!0)}var bl=K(gl,[["render",vl],["__scopeId","data-v-4d2947df"]]);const yl=Symbol("ChallengeType");function Jt(e){const t=Le(0),n=Le(!1);return Ue(()=>{const i=e();if(i.canComplete==null&&(i.resource==null||i.goal==null))throw console.warn("Cannot create challenge without a canComplete property or a resource and goal property",i),"Cannot create challenge without a canComplete property or a resource and goal property";i.id=Ge("challenge-"),i.type=yl,i[ke]=bl,i.completions=t,i.active=n,i.completed=v(()=>u.gt(i.completions.value,0)),i.maxed=v(()=>u.gte(i.completions.value,r(i.completionLimit))),i.toggle=function(){var l,s,c,f,y;const o=i;if(o.active.value){if(r(o.canComplete)&&!o.maxed.value){let b=r(o.canComplete);typeof b=="boolean"&&(b=1),o.completions.value=u.min(u.add(o.completions.value,b),r(o.completionLimit)),(l=o.onComplete)==null||l.call(o)}o.active.value=!1,(s=o.onExit)==null||s.call(o),(c=o.reset)==null||c.reset()}else r(o.canStart)&&r(o.visibility)===I.Visible&&!o.maxed.value&&((f=o.reset)==null||f.reset(),o.active.value=!0,(y=o.onEnter)==null||y.call(o))},i.complete=function(o){var c,f,y;const l=i;let s=r(l.canComplete);l.active.value&&s!==!1&&(s===!0||u.neq(0,s))&&!l.maxed.value&&(typeof s=="boolean"&&(s=1),l.completions.value=u.min(u.add(l.completions.value,s),r(l.completionLimit)),(c=l.onComplete)==null||c.call(l),o!==!0&&(l.active.value=!1,(f=l.onExit)==null||f.call(l),(y=l.reset)==null||y.reset()))},M(i,"visibility"),Q(i,"visibility",I.Visible);const a=i.visibility;return i.visibility=v(()=>X.hideChallenges===!0&&r(i.maxed)?I.None:r(a)),i.canComplete==null&&(i.canComplete=v(()=>{const o=i;return!o.active.value||o.resource==null||o.goal==null?!1:u.gte(o.resource.value,r(o.goal))})),i.mark==null&&(i.mark=v(()=>u.gt(r(i.completionLimit),1)&&!!r(i.maxed))),M(i,"canStart"),Q(i,"canStart",!0),M(i,"canComplete"),M(i,"completionLimit"),Q(i,"completionLimit",1),M(i,"mark"),M(i,"goal"),M(i,"classes"),M(i,"style"),M(i,"display"),i.reset!=null&&pe.on("reset",o=>{o===i.reset&&i.active.value&&i.toggle()}),i[Me]=function(){const{active:o,maxed:l,canComplete:s,display:c,visibility:f,style:y,classes:b,completed:g,canStart:k,mark:$,id:x,toggle:O}=this;return{active:o,maxed:l,canComplete:s,display:c,visibility:f,style:r(y),classes:b,completed:g,canStart:k,mark:$,id:x,toggle:O}},i})}pe.on("loadSettings",e=>{Q(e,"hideChallenges",!1)});di(Y(()=>p(Ze,{title:"Hide Maxed Challenges","onUpdate:modelValue":e=>X.hideChallenges=e,modelValue:X.hideChallenges},null)));const _l=E({props:{visibility:{type:A(Number),required:!0},display:{type:A(Object,String,Function),required:!0},style:A(String,Object,Array),classes:A(Object),glowColor:A(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:t}){const{display:n,glowColor:i,floating:a}=se(e),o=Nn(n),l=v(()=>{const c=re(i);return c?r(a)?Pn(c):{boxShadow:`0px 9px 5px -6px ${c}`}:{}});function s(){t("selectTab")}return{selectTab:s,component:o,glowColorStyle:l,unref:r,Visibility:I}}});function wl(e,t,n,i,a,o){var l;return e.unref(e.visibility)!==e.Visibility.None?(h(),S("button",{key:0,onClick:t[0]||(t[0]=(...s)=>e.selectTab&&e.selectTab(...s)),class:oe(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},e.glowColorStyle,(l=e.unref(e.style))!=null?l:{}])},[(h(),L(ne(e.component)))],6)):B("",!0)}var ki=K(_l,[["render",wl],["__scopeId","data-v-610a2549"]]);const kl=E({props:{visibility:{type:A(Number),required:!0},activeTab:{type:A(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:A(Object),required:!0},style:A(String,Object,Array),classes:A(Object),buttonContainerStyle:A(String,Object,Array),buttonContainerClasses:A(Object)},components:{Sticky:_i,TabButton:ki},setup(e){const{activeTab:t}=se(e),n=v(()=>Ut[X.theme].floatingTabs),i=Be("");Pe(()=>{const s=re(t);if(s==null){i.value="";return}if(Ee(s)){i.value=R(s);return}i.value=R(r(s.display))});const a=v(()=>{const s=re(t);return Ee(s)||!s?void 0:r(s.classes)}),o=v(()=>{const s=re(t);return Ee(s)||!s?void 0:r(s.style)});function l(s){const{display:c,style:f,classes:y,glowColor:b,visibility:g}=s;return{display:c,style:r(f),classes:y,glowColor:b,visibility:g}}return{floating:n,tabClasses:a,tabStyle:o,Visibility:I,component:i,gatherButtonProps:l,unref:r}}});function Nl(e,t,n,i,a,o){var c,f;const l=Te("TabButton"),s=Te("Sticky");return e.unref(e.visibility)!==e.Visibility.None?(h(),S("div",{key:0,class:oe(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:ie([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(c=e.unref(e.style))!=null?c:[],(f=e.tabStyle)!=null?f:[]])},[p(s,{class:oe(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:ie(e.unref(e.buttonContainerStyle))},{default:U(()=>[d("div",{class:oe(["tab-buttons",{floating:e.floating}])},[(h(!0),S(W,null,Mt(e.unref(e.tabs),(y,b)=>(h(),L(l,ut({onSelectTab:g=>e.selected.value=b,floating:e.floating,key:b,active:e.unref(y.tab)===e.unref(e.activeTab)},e.gatherButtonProps(y)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?(h(),L(ne(e.unref(e.component)),{key:0})):B("",!0)],6)):B("",!0)}var xl=K(kl,[["render",Nl],["__scopeId","data-v-11575f45"]]);const Cl=Symbol("TabButton"),Sl=Symbol("TabFamily");function Ml(e,t){if(Object.keys(e).length===0)throw console.warn("Cannot create tab family with 0 tabs"),"Cannot create tab family with 0 tabs";const n=Le(Object.keys(e)[0]);return Ue(()=>{var o;const i=(o=t==null?void 0:t())!=null?o:{};i.id=Ge("tabFamily-"),i.type=Sl,i[ke]=xl,i.tabs=Object.keys(e).reduce((l,s)=>{const c=e[s]();return c.type=Cl,c[ke]=ki,M(c,"visibility"),Q(c,"visibility",I.Visible),M(c,"tab"),M(c,"display"),M(c,"classes"),M(c,"style"),M(c,"glowColor"),l[s]=c,l},{}),i.selected=n,i.activeTab=v(()=>{const l=r(a.tabs);if(n.value in l&&r(l[n.value].visibility)===I.Visible)return r(l[n.value].tab);const s=Object.values(l).find(c=>r(c.visibility)===I.Visible);return s?r(s.tab):null}),M(i,"visibility"),Q(i,"visibility",I.Visible),M(i,"classes"),M(i,"style"),M(i,"buttonContainerClasses"),M(i,"buttonContainerStyle"),i[Me]=function(){const{visibility:l,activeTab:s,selected:c,tabs:f,style:y,classes:b,buttonContainerClasses:g,buttonContainerStyle:k}=this;return{visibility:l,activeTab:s,selected:c,tabs:f,style:r(y),classes:b,buttonContainerClasses:g,buttonContainerStyle:k}};const a=i;return a})}const $l=E({__name:"Tab",props:{display:null},setup(e){const t=e,{display:n}=se(t),i=Nn(n);return(a,o)=>(h(),L(ne(r(i))))}}),Tl=Symbol("Tab");function Il(e){return Ue(()=>{const t=e();return t.id=Ge("tab-"),t.type=Tl,t[ke]=$l,t[Me]=function(){const{display:n}=this;return{display:n}},t})}const Wn="i",me=Rt(Wn,()=>{const e="Infinity",t="#CFCFCF",n="#3333DC",i=Et(0,"infinity points"),a=hs(i);function o(we,wt){Object.values(we).forEach(Ne=>{var gt;Ne.active.value&&Ne.id!=wt.id&&(Ne.active.value=!1,(gt=Ne.onExit)==null||gt.call(Ne))})}const l=Jt(()=>({resource:_e.points,goal:v(()=>u.pow(1e100,u.add(l.completions.value,1))),completionLimit:10,display(){return{title:`Cosecant (${this.completions.value}/${r(this.completionLimit)})`,description:"Sine is locked to its minimum, and Cosine is locked to half its effect",reward:"Sine's Maximum exponent +0.1 per completion",goal:`${r(this.goal)} matter`,effectDisplay:`+${s.value}`}},onEnter(){o($,this),_e.treeNode.reset.reset()},canStart(){return u.gt(a.value,0)}})),s=v(()=>u.div(l.completions.value,10)),c=Jt(()=>({resource:_e.points,goal:v(()=>u.pow(1e100,u.add(c.completions.value,1))),completionLimit:10,display(){return{title:`Secant (${this.completions.value}/${r(this.completionLimit)})`,description:"Sine is locked to half its effect, and Cosine is locked to 0",reward:"Cosine's Maximum +0.01 per completion",goal:`${r(this.goal)} matter`,effectDisplay:`+${s.value}`}},onEnter(){o($,this),_e.treeNode.reset.reset()},canStart(){return u.gt(a.value,0)}})),f=v(()=>u.div(c.completions.value,100)),y=Jt(()=>({resource:_e.points,goal:v(()=>u.pow(1e100,u.add(y.completions.value,1))),completionLimit:10,display(){return{title:`Hyperexponential (${this.completions.value}/${r(this.completionLimit)})`,description:"Exponential and Hyperbolic's effects are 1.03",reward:"Exponential and Hyperbolic's effects +0.01 per completion",goal:`${r(this.goal)} matter`,effectDisplay:`+${b.value}`}},onEnter(){o($,this),_e.treeNode.reset.reset()},canStart(){return u.gt(a.value,0)}})),b=v(()=>u.div(y.completions.value,100)),g=Jt(()=>({resource:_e.points,goal:v(()=>u.pow(1e100,u.add(g.completions.value,1))),completionLimit:10,display(){return{title:`Foundationless (${this.completions.value}/${r(this.completionLimit)})`,description:"Foundation's cost is squared and effect is square rooted",reward:"Foundation's cost base /1.01 per completion",goal:`${r(this.goal)} matter`,effectDisplay:`/${k.value}`}},onEnter(){o($,this),_e.treeNode.reset.reset()},canStart(){return u.gt(a.value,0)}})),k=v(()=>u.pow(1.01,g.completions.value)),$={cosecant:l,secant:c,hyperexponential:y,foundationless:g},x={cosecant:s,secant:f,hyperexponential:b,foundationless:k},O=ae(()=>({resource:i,cost:1,display:{title:"Antiboost Unlock",description:"Unlock Antiboost, which increases width based on Antimatter<br>In addition, Antimatter Unlock is always owned"},visibility:je.treeNode.visibility})),le={antiboostUnlock:O},w=hn([$]),T=hn([x]),q=hn([le]);v(()=>Object.values(w).map(we=>we.completions.value).reduce(u.add));const ve=v(()=>[_e,je].filter(we=>r(we.treeNode.visibility)===I.Visible).map(we=>u.log10(u.add(we.points.value,1))).reduce(u.add,u.dZero)),ee=Et(ve,"matter product"),et=cl(()=>({scaling:dl(10,308),baseResource:ee,gainResource:i,roundUpCost:!0})),tt=Fn(()=>({thingsToReset:()=>[me]})),Fe=Bn(()=>({layerID:Wn,color:t,reset:tt,visibility:v(()=>u.gt(a.value,0)?I.Visible:je.treeNode.visibility.value)}));An(Fe,{display:In(i),pinnable:!0});const nt=Ys(()=>({conversion:et,tree:On.tree,treeNode:Fe})),mt=Ml({matter:()=>({tab:Il(()=>({display:Y(()=>p(W,null,[Ce(l,c),Ce(y,g),Ce(O)]))})),display:"Matter",style:{borderColor:n}})});return{name:e,color:t,points:i,best:a,display:Y(()=>p(W,null,[p(ml,null,null),p(Dn,{resource:i,color:t},null),ze(nt),ze(mt)])),treeNode:Fe,matterProduct:ve,challenges:w,challengeRewards:T,tabs:mt,upgrades:q}}),Fl={key:0,style:{width:"2em"}},Dl={key:0},Al=E({__name:"MatterDimensionDisplay",setup(e){const t=_e.dimensions,n=v(()=>["length","width","height","hyper"].filter(i=>r(t[i].visible)));return(i,a)=>(h(),S("div",null,[d("table",null,[d("tr",null,[(h(!0),S(W,null,Mt(r(n),(o,l)=>(h(),S(W,{key:o},[d("td",{style:ie("color: "+r(t)[o].color)},j(o),5),l!==r(n).length-1?(h(),S("td",Fl,"x")):B("",!0)],64))),128))]),d("tr",null,[(h(!0),S(W,null,Mt(r(n),(o,l)=>(h(),S(W,{key:o},[d("td",{style:ie("color: "+r(t)[o].color)},j(r(G)(r(r(t)[o].value))),5),l!==r(n).length-1?(h(),S("td",Dl,"x")):B("",!0)],64))),128))])])]))}}),Yn="m",_e=Rt(Yn,function(){const e="Matter",t="#336BDC";function n(C,kt,Wt,Yt=1){return function(){if(!C.amount)return u.dInf;let Zt=C.amount.value;Zt=u.sub(Zt,xe.value);let pn=u.pow(kt,u.mul(u.sign(Zt),u.pow(u.abs(Zt),Wt)));return pn=u.div(pn,mt.value).mul(Yt),pn}}const i=v(()=>u.clamp(u.add(u.div(fn.value,60),1),1,1e3)),a=ae(()=>({resource:J,cost:1e4,display:{title:"Sine Boost",description:"Multiply Sine's minimum by 1.5 and maximum by 2, per upgrade bought"}})),o=ae(()=>({resource:J,cost:1e7,display:{title:"Sine Foundation",description:"Multiply Sine's minimum by 1.02 and maximum by 1.05, per Foundation bought"}})),l=ae(()=>({resource:J,cost:1e3,display:{title:"Logarithm Unlock",description:"Unlock Logarithm, which increases Foundation's effect based on matter"}})),s=ae(()=>({resource:J,cost:1e5,display:{title:"Logarithm Boost",description:"Increase Logarithm's exponent by 0.25 per upgrade bought"},visibility(){return l.bought.value?I.Visible:I.None}})),c=ae(()=>({resource:J,cost:1e18,display:{title:"Logarithm Foundation",description:"Increase Logarithm's exponent by 0.01 per Foundation bought, up to 40"},visibility(){return l.bought.value?I.Visible:I.None}})),f=ae(()=>({resource:J,cost:1e11,display:{title:"Cosine Unlock",description:"Unlock Cosine, which decreases buyable levels for cost purposes"},visibility(){return l.bought.value?I.Visible:I.None}})),y=ae(()=>({resource:J,cost:1e12,display:{title:"Cosine Boost",description:"Increase Cosine's limit by 0.01 per upgrade bought"},visibility(){return f.bought.value?I.Visible:I.None}})),b=ae(()=>({resource:J,cost:1e39,display:{title:"Cosine Foundation",description:"Increase Cosine's limit by 0.0001 per Foundation bought, up to 0.2"},visibility(){return f.bought.value?I.Visible:I.None}})),g=ae(()=>({resource:J,cost:1e14,display:{title:"Exponential Unlock",description:"Unlock Exponential, which decreases buyable costs"},visibility(){return f.bought.value?I.Visible:I.None}})),k=ae(()=>({resource:J,cost:1e16,display:{title:"Exponential Boost",description:"Gain 10 free levels of Exponential per upgrade bought"},visibility(){return g.bought.value?I.Visible:I.None}})),$=ae(()=>({resource:J,cost:1e53,display:{title:"Exponential Foundation",description:"Increase Exponential's effect by 0.00001 per Foundation bought, up to 0.02"},visibility(){return g.bought.value?I.Visible:I.None}})),x=ae(()=>({resource:J,cost:1e30,display:{title:"Hyperbolic Unlock",description:"Unlock Hyperbolic, which increases Sine's min and max based on matter"},visibility(){return g.bought.value?I.Visible:I.None}})),O=ae(()=>({resource:J,cost:1e48,display:{title:"Hyperbolic Boost",description:"Increase Hyperbolic's exponent to minimum 0.01 per upgrade bought"},visibility(){return x.bought.value?I.Visible:I.None}})),le=ae(()=>({resource:J,cost:1e77,display:{title:"Hyperbolic Foundation",description:"Increase Hyperbolic's effect by 0.00001 per Foundation bought, up to 0.03"},visibility(){return x.bought.value?I.Visible:I.None}})),w=ae(()=>({resource:J,cost:1e100,display:{title:"Antimatter Unlock",description:"Unlock Antimatter, which is a new layer"},visibility(){return this.bought.value||x.bought.value?I.Visible:I.None}})),T={sineBoost:a,sineFoundation:o,logarithmUnlock:l,logarithmBoost:s,logarithmFoundation:c,cosineUnlock:f,cosineBoost:y,cosineFoundation:b,exponentialUnlock:g,exponentialBoost:k,exponentialFoundation:$,hyperbolicUnlock:x,hyperbolicBoost:O,hyperbolicFoundation:le,antimatterUnlock:w},q=v(()=>Object.values(T).filter(C=>C.bought.value).length),ve=v(()=>{let C=new u(1);return C=C.add(u.mul(Fe.amount.value,tt.value)),me.challenges.foundationless.active.value&&(C=C.sqrt()),C}),ee=ot(()=>({resource:J,cost(){const C=n(ee,1.2,1.02)();return me.challenges.foundationless.active.value?C.sqr():C},display(){return{title:"Foundation",description:`Increases length by ${G(ve.value)}`}}})),et=v(()=>{let C=new u(1);return s.bought.value&&(C=C.add(u.div(q.value,4))),c.bought.value&&(C=C.add(u.min(40,u.div(ee.amount.value,100)))),C}),tt=v(()=>Ye(u.div(u.pow(u.log10(u.max(100,J.value)),et.value),10))),Fe=ot(()=>({resource:J,cost:n(Fe,1.4,1.02),display(){return{title:"Logarithm",description:`Increases Foundation's effect by log<sub>10</sub>(m)<sup>${G(et.value)}</sup>/10<br>`,effectDisplay:`+${G(tt.value)}`}},visibility(){return l.bought.value?I.Visible:I.None}})),nt=v(()=>{let C=new u(1.05);return me.challenges.hyperexponential.active.value?new u(1.03):(C=C.add(me.challengeRewards.hyperexponential.value),$.bought.value&&(C=C.add(u.min(.02,u.mul(ee.amount.value,1e-5)))),C)}),mt=v(()=>{let C=we.amount.value;return k.bought.value&&(C=u.add(C,u.mul(q.value,10))),Ye(u.pow(nt.value,C))}),we=ot(()=>({resource:J,cost:n(we,1.6,1.02),display(){return{title:"Exponential",description:`Divides all matter buyable costs by ${G(nt.value)}`}},visibility(){return g.bought.value?I.Visible:I.None}})),wt=v(()=>{let C=new u(.1);return C=C.mul(u.pow(be.value,de.value)),o.bought.value&&(C=C.mul(u.pow(1.02,ee.amount.value))),a.bought.value&&(C=C.mul(u.pow(1.5,q.value))),Ye(C)}),Ne=v(()=>{let C=new u(1);return C=C.mul(be.value),o.bought.value&&(C=C.mul(u.pow(1.05,ee.amount.value))),a.bought.value&&(C=C.mul(u.pow(2,q.value))),Ye(C)}),gt=v(()=>me.challenges.cosecant.active.value?-Math.PI/2:me.challenges.secant.active.value?-Math.PI:F.time*Math.PI/180/120),jt=v(()=>(Math.sin(gt.value)+1)/2),Gt=v(()=>{const C=u.log10(wt.value),kt=u.log10(Ne.value).minus(C);return u.dTen.pow(C.plus(kt.mul(jt.value)))}),N=ot(()=>({resource:J,cost:n(N,1.25,1.05),display(){return{title:"Sine",description:`Increases width by between ${G(wt.value)} to ${G(Ne.value)}`,effectDisplay:`+${G(Gt.value)}`}}})),H=v(()=>(Math.cos(gt.value)+1)/2),ue=v(()=>{let C=new u(.15);return y.bought.value&&(C=u.add(C,u.div(q.value,100))),b.bought.value&&(C=u.add(C,u.min(u.mul(ee.amount.value,1e-4),.2))),C}),$e=v(()=>u.mul(H.value,ue.value)),xe=v(()=>u.mul(De.amount.value,$e.value)),De=ot(()=>({resource:J,cost:n(De,1.5,1.05),display(){return{title:"Cosine",description:`Decreases buyable count for cost purposes of all matter buyables, by up to ${G(ue.value)}`,effectDisplay:`-${G($e.value)}`}},visibility(){return f.bought.value?I.Visible:I.None}})),He=v(()=>{let C=new u(1.03);return me.challenges.hyperexponential.active.value?new u(1.03):(C=C.add(me.challengeRewards.hyperexponential.value),le.bought.value&&(C=C.add(u.min(.03,u.mul(ee.amount.value,1e-5)))),C)}),be=v(()=>Ye(u.pow(He.value,ye.amount.value))),de=v(()=>{let C=new u(.5);return O.bought.value&&(C=C.add(u.div(q.value,100))),C}),ye=ot(()=>({resource:J,cost:n(ye,1.75,1.05),display(){return{title:"Hyperbolic",description:`Multiplies Sine's maximum by ${G(He.value)}, and min by ^${G(de.value)} of that`}},visibility(){return x.bought.value?I.Visible:I.None}})),it=v(()=>u.add(je.points.value,10).log10().div(1e3).add(1)),Ci=v(()=>Ye(u.pow(it.value,Ht.amount.value))),Ht=ot(()=>({resource:J,cost:n(Ht,3,1.1),display(){return{title:"Antiboost",description:"Multiplies height by 1 + log<sub>10</sub>(am)/1000",effectDisplay:`x${G(it.value)}`}},visibility(){return me.upgrades.antiboostUnlock.bought.value?I.Visible:I.None}})),En={foundation:ee,logarithm:Fe,exponential:we,sine:N,cosine:De,hyperbolic:ye,antiboost:Ht},We={};Object.entries(En).forEach(([C,kt])=>{const Wt=Vi(C),Yt=sl(()=>({shouldEarn(){return u.gte(kt.amount.value,200)},display:{requirement:"200 "+Wt,effectDisplay:"Autobuy "+Wt},style:{width:"250px"}}));It(this,kt,Yt.earned),We[C]=Yt});const Si=v(()=>{let C=i.value;return C=C.add(u.mul(ee.amount.value,ve.value)),C}),Mi=v(()=>{let C=i.value;return C=C.add(u.mul(Gt.value,N.amount.value)),C}),$i=v(()=>{let C=i.value;return me.upgrades.antiboostUnlock.bought.value&&(C=C.mul(Ci.value)),C}),Ti=v(()=>i.value),Vn={width:{value:Mi,color:t,visible:!0},length:{value:Si,color:t,visible:!0},height:{value:$i,color:t,visible:!0},hyper:{value:Ti,color:"#3333DC",visible:v(()=>r(me.treeNode.visibility)==I.Visible)}},J=Et(v(()=>Object.entries(Vn).filter(C=>C[1].visible).map(C=>r(C[1].value)).reduce(u.mul,u.dOne)),"matter"),cn=Fn(()=>({thingsToReset:()=>[_e]})),Ln=Bn(()=>({layerID:Yn,color:t,reset:cn}));An(Ln,{display:In(J),pinnable:!0});const fn=Vs(this,cn);pe.on("reset",C=>{C.id==cn.id&&(w.bought.value=!0)});const Ii=Y(()=>p(W,null,[p("span",null,[p("div",null,[D("The dimensional generator has ran for "),G(fn.value),D(" seconds.")]),p("div",null,[D("This results in +"),p("span",null,[G(i.value)]),D(" to all directions")])])]));return{name:e,color:t,points:J,display:Y(()=>p(W,null,[p(Al,null,null),p(Dn,{resource:J,color:t},null),ze(Ii),Ce(ee,Fe,we),Ce(N,De,ye),Ce(Ht),Ce(a,s,y,k,O),Ce(o,c,b,$,le),Ce(l,f,g,x,w),Ce(We.foundation,We.logarithm,We.exponential),Ce(We.sine,We.cosine,We.hyperbolic),Ce(We.antiboost)])),treeNode:Ln,upgradeData:T,buyableData:En,milestoneData:We,resetTime:fn,dimensions:Vn}}),On=Rt("main",()=>{const e=Ps(()=>({nodes:[[_e.treeNode,je.treeNode],[me.treeNode]],branches:[{startNode:_e.treeNode,endNode:me.treeNode},{startNode:je.treeNode,endNode:me.treeNode}],onReset(){},resetPropagation:Os}));return{name:"Tree",links:e.links,display:Y(()=>p(W,null,[F.devSpeed===0?p("div",null,[D("Game Paused")]):null,F.devSpeed&&F.devSpeed!==1?p("div",null,[D("Dev Speed: "),G(F.devSpeed),D("x")]):null,F.offlineTime?p("div",null,[D("Offline Time: "),sn(F.offlineTime)]):null,p(gs,null,null),ze(e)])),tree:e}}),Bl=e=>[On,_e,je,me],Ni=v(()=>je.upgradeData.exoticMatterUnlock.bought.value||u.gt(me.points.value,0));function Pl(e,t){}var xi=Object.freeze(Object.defineProperty({__proto__:null,main:On,getInitialLayers:Bl,hasWon:Ni,fixOldSave:Pl},Symbol.toStringTag,{value:"Module"}));const zt=e=>(ct("data-v-4a50ce42"),e=e(),ft(),e),Ol={class:"game-over-modal-header"},El=["src","alt"],Vl={class:"game-over-modal-title"},Ll=zt(()=>d("h2",null,"Congratulations!",-1)),Ul={key:0},Rl=zt(()=>d("br",null,null,-1)),ql=zt(()=>d("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),zl=zt(()=>d("br",null,null,-1)),jl=["href"],Gl=zt(()=>d("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),Hl=E({__name:"GameOverScreen",setup(e){const{title:t,logo:n,discordName:i,discordLink:a,versionNumber:o,versionTitle:l}=Z,s=v(()=>sn(F.timePlayed)),c=v(()=>Ni.value&&!F.keepGoing),f=dt(F,"autosave");function y(){F.keepGoing=!0}function b(){bt(Ct())}return(g,k)=>(h(),L(yt,{"model-value":r(c)},{header:U(()=>[d("div",Ol,[r(n)?(h(),S("img",{key:0,class:"game-over-modal-logo",src:r(n),alt:r(t)},null,8,El)):B("",!0),d("div",Vl,[Ll,d("h4",null,"You've beaten "+j(r(t))+" v"+j(r(o))+": "+j(r(l)),1)])])]),body:U(({shown:$})=>[$?(h(),S("div",Ul,[d("div",null,"It took you "+j(r(s))+" to beat the game.",1),Rl,ql,zl,d("div",null,[d("a",{href:r(a),class:"game-over-modal-discord-link"},[Gl,D(" "+j(r(i)),1)],8,jl)]),p(Ze,{title:"Autosave",modelValue:r(f),"onUpdate:modelValue":k[0]||(k[0]=x=>he(f)?f.value=x:null)},null,8,["modelValue"])])):B("",!0)]),footer:U(()=>[d("div",{class:"game-over-footer"},[d("button",{onClick:y,class:"button"},"Keep Going"),d("button",{onClick:b,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var Wl=K(Hl,[["__scopeId","data-v-4a50ce42"]]);const dn=e=>(ct("data-v-3de07c06"),e=e(),ft(),e),Yl=dn(()=>d("div",{class:"nan-modal-header"},[d("h2",null,"NaN value detected!")],-1)),Zl={key:0},Kl=dn(()=>d("br",null,null,-1)),Jl=["href"],Xl=dn(()=>d("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Ql=dn(()=>d("br",null,null,-1)),eu={class:"nan-footer"},tu=E({__name:"NaNScreen",setup(e){const{discordName:t,discordLink:n}=Z,i=dt(F,"autosave"),a=dt(te,"hasNaN"),o=P(null),l=v(()=>{var k;return(k=te.NaNPath)==null?void 0:k.join(".")}),s=v(()=>{var k;return(k=te.NaNPath)==null?void 0:k.slice(-1)[0]}),c=v(()=>te.NaNReceiver&&s.value?te.NaNReceiver[s.value]:null),f=v({get(){return F.devSpeed===0},set(k){F.devSpeed=k?null:0}});function y(){te.NaNReceiver&&s.value&&(te.NaNReceiver[s.value]=new u(0),te.hasNaN=!1)}function b(){te.NaNReceiver&&s.value&&(te.NaNReceiver[s.value]=new u(1),te.hasNaN=!1)}function g(){te.NaNReceiver&&s.value&&(te.NaNReceiver[s.value]=new u(NaN),te.hasNaN=!1)}return(k,$)=>(h(),S(W,null,[p(yt,ut({modelValue:r(a),"onUpdate:modelValue":$[4]||($[4]=x=>he(a)?a.value=x:null)},k.$attrs),{header:U(()=>[Yl]),body:U(()=>[d("div",null,[D(' Attempted to assign "'+j(r(l))+'" to NaN',1),r(c)?(h(),S("span",Zl,j(" ")+"(previously "+j(r(G)(r(c)))+")",1)):B("",!0),D(". Auto-saving has been "+j(r(i)?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),Kl,d("div",null,[d("a",{href:r(n),class:"nan-modal-discord-link"},[Xl,D(" "+j(r(t)),1)],8,Jl)]),Ql,p(Ze,{title:"Autosave",modelValue:r(i),"onUpdate:modelValue":$[0]||($[0]=x=>he(i)?i.value=x:null)},null,8,["modelValue"]),r(Z).enablePausing?(h(),L(Ze,{key:0,title:"Pause game",modelValue:r(f),"onUpdate:modelValue":$[1]||($[1]=x=>he(f)?f.value=x:null)},null,8,["modelValue"])):B("",!0)]),footer:U(()=>[d("div",eu,[d("button",{onClick:$[2]||($[2]=x=>{var O;return(O=o.value)==null?void 0:O.open()}),class:"button"},"Open Saves Manager"),d("button",{onClick:y,class:"button"},"Set to 0"),d("button",{onClick:b,class:"button"},"Set to 1"),r(c)&&r(u).neq(r(c),0)&&r(u).neq(r(c),1)?(h(),S("button",{key:0,onClick:$[3]||($[3]=x=>a.value=!1),class:"button"}," Set to previous ")):B("",!0),d("button",{onClick:g,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),p(bi,{ref_key:"savesManager",ref:o},null,512)],64))}});var nu=K(tu,[["__scopeId","data-v-3de07c06"]]);const iu={key:0,class:"tpsDisplay"},au={key:0,class:"low"},ou=E({__name:"TPS",setup(e){const t=v(()=>u.div(te.lastTenTicks.length,te.lastTenTicks.reduce((o,l)=>o+l,0))),n=P([]);Pe(()=>{n.value.push(Math.round(t.value.toNumber())),n.value.length>10&&(n.value=n.value.slice(1))});const i=v(()=>n.value.reduce((o,l)=>u.max(o,l),0)),a=v(()=>u.sub(t.value,i.value).gt(1));return(o,l)=>r(t).isNan()?B("",!0):(h(),S("div",iu,[D(" TPS: "+j(r(Je)(r(t)))+" ",1),p(wn,{name:"fade"},{default:U(()=>[r(a)?(h(),S("span",au,j(r(Je)(r(i))),1)):B("",!0)]),_:1})]))}});var ru=K(ou,[["__scopeId","data-v-46a3ed5b"]]);var su=E({__name:"App",setup(e){const t=Z.useHeader,n=v(()=>Ut[X.theme].variables),i=dt(X,"showTPS"),a=v(()=>R(Y(()=>p(W,null,[Wa.map(ze)]))));return(o,l)=>(h(),S(W,null,[d("div",{id:"modal-root",style:ie(r(n))},null,4),d("div",{class:oe(["app",{useHeader:r(t)}]),style:ie(r(n))},[r(t)?(h(),L(yi,{key:0})):B("",!0),p(ms),r(r(i))?(h(),L(ru,{key:1})):B("",!0),p(Wl),p(nu),(h(),L(ne(r(a))))],6)],64))}});var lu=K(su,[["__scopeId","data-v-9417972e"]]);function uu(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:o}=e;let l,s;const c=async(f=!0)=>{f&&(l==null||l.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()})),s&&s.waiting&&await Hi(s.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){l=new Gi("./sw.js",{scope:"./",type:"classic"}),l.addEventListener("activated",f=>{f.isUpdate||i==null||i()});{const f=()=>{n==null||n()};l.addEventListener("waiting",f),l.addEventListener("externalwaiting",f)}l.register({immediate:t}).then(f=>{s=f,a==null||a(f)}).catch(f=>{o==null||o(f)})}return c}function du(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:o}=e,l=P(!1),s=P(!1);return{updateServiceWorker:uu({immediate:t,onNeedRefresh(){l.value=!0,n==null||n()},onOfflineReady(){s.value=!0,i==null||i()},onRegistered:a,onRegisterError:o}),offlineReady:s,needRefresh:l}}document.title=Z.title;window.projInfo=Z;if(Z.id==="")throw"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json";requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await za();const{globalBus:e,startGameLoop:t}=await tn(()=>Promise.resolve().then(function(){return qa}),void 0),n=window.vue=Li(lu);e.emit("setupVue",n),n.mount("#app"),Xe(()=>{const i=Jn(),{updateServiceWorker:a}=du({onNeedRefresh(){i.info("New content available, click or reload to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){a()}})},onOfflineReady(){i.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(o){o&&setInterval(o.update,60*60*1e3)}})}),t()});
