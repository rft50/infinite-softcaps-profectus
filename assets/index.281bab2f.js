import"./vue.e0db5cd7.js";import{Z as b,u as gn,q as Et,C as o,b1 as Ce,aa as L,aE as g,a0 as C,a1 as d,aK as Ue,G as he,t as A,aC as Yn,w as Pe,b2 as Ae,a8 as p,ao as xi,O as Y,ay as Kt,ar as qe,aG as qt,A as pe,_ as U,b6 as V,b8 as vn,bs as Ci,aq as ct,bu as It,bb as bn,T as Mi,a7 as $,j as Si,l as de,bv as Ln,aL as ze,$ as P,J as G,aN as ce,I as ge,aH as it,aF as at,z as tt,bn as $i,br as Ii,aJ as yn,al as Gt,H as Ti,be as Fi}from"./@vue.4ce677c2.js";import{i as Di}from"./is-plain-object.906d88e8.js";import{c as Zn}from"./nanoevents.1080beb7.js";import{L as Je}from"./lz-string.731cedc5.js";import{Y as Pi}from"./vue-next-select.2929f584.js";import{D as Ai}from"./vuedraggable.5fc132aa.js";import{p as Bi}from"./vue-textarea-autosize.35804eaf.js";import{s as Ei,u as Kn}from"./vue-toastification.c761b1cc.js";import{v as Vi,n as Oi}from"./workbox-window.60401ce8.js";import"./sortablejs.79f19b9d.js";const Li=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};Li();const Ui="modulepreload",Un={},Ri="./",Ht=function(t,n){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=`${Ri}${i}`,i in Un)return;Un[i]=!0;const a=i.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${r}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":Ui,a||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),a)return new Promise((s,f)=>{l.addEventListener("load",s),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},qi="Infinite Softcaps",zi="Infinite Softcaps",ji="infinite-softcaps",Gi="rft50",Hi="",Wi="",Yi="0.5",Zi="Nothing That Matters",Ki=!0,Ji=!1,Xi=2,Qi=!0,ea=null,ta="",na=["main"],ia=3600,aa=1,ra=!0,oa="base64";var W={title:qi,description:zi,id:ji,author:Gi,discordName:Hi,discordLink:Wi,versionNumber:Yi,versionTitle:Zi,allowGoBack:Ki,defaultShowSmall:Ji,defaultDecimalsShown:Xi,useHeader:Qi,banner:ea,logo:ta,initialTabs:na,maxTickLength:ia,offlineLimit:aa,enablePausing:ra,exportEncoding:oa};const fn=17,sa=9e15,la=Math.log10(9e15),ua=1/9e15,da=308,ca=-324,Rn=5,fa=function(){const e=[];for(let n=ca+1;n<=da;n++)e.push(Number("1e"+n));const t=323;return function(n){return e[n+t]}}(),st=[2,Math.E,3,4,5,6,7,8,9,10],pa=[[1,1.0891168053867777,1.1789745164521264,1.2701428397304229,1.3632066654400328,1.4587804913784246,1.557523817412741,1.660158301473385,1.767487542936873,1.8804205225512542,2],[1,1.1121114330934,1.23103892493161,1.35838369631113,1.49605193039935,1.64635423375119,1.81213853570186,1.99697132461829,2.20538955455724,2.44325744833852,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.18422737399915,1.4066113788546144,1.680911177655277,2.027492094355525,2.4775152854601967,3.080455730250329,3.918234505962507,5.1332705696484595,6.9878696918072905,10]],ma=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]],m=function(t){return u.fromValue_noAlloc(t)},B=function(e,t,n){return u.fromComponents(e,t,n)},R=function(t,n,i){return u.fromComponents_noNormalize(t,n,i)},Ye=function(t,n){const i=n+1,a=Math.ceil(Math.log10(Math.abs(t))),r=Math.round(t*Math.pow(10,i-a))*Math.pow(10,a-i);return parseFloat(r.toFixed(Math.max(i-a,0)))},pn=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},ha=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let t=1;for(;e<10;)t=t*e,++e;e-=1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const i=e*e;let a=e;return n=n+1/(12*a),a=a*i,n=n+1/(360*a),a=a*i,n=n+1/(1260*a),a=a*i,n=n+1/(1680*a),a=a*i,n=n+1/(1188*a),a=a*i,n=n+691/(360360*a),a=a*i,n=n+7/(1092*a),a=a*i,n=n+3617/(122400*a),Math.exp(n)/t},Jn=.5671432904097838,qn=function(e,t=1e-10){let n,i;if(!Number.isFinite(e)||e===0)return e;if(e===1)return Jn;e<10?n=0:n=Math.log(e)-Math.log(Math.log(e));for(let a=0;a<100;++a){if(i=(e*Math.exp(-n)+n*n)/(n+1),Math.abs(i-n)<t*Math.abs(i))return i;n=i}throw Error(`Iteration failed to converge: ${e.toString()}`)};function zn(e,t=1e-10){let n,i,a,r;if(!Number.isFinite(e.mag)||e===u.dZero)return e;if(e===u.dOne)return m(Jn);u.abs(e),n=u.ln(e);for(let l=0;l<100;++l){if(i=u.exp(-n),a=n.sub(e.mul(i)),r=n.sub(a.div(n.add(1).sub(n.add(2).mul(a).div(u.mul(2,n).add(2))))),u.abs(r.sub(n)).lt(u.abs(r).mul(t)))return r;n=r}throw Error(`Iteration failed to converge: ${e.toString()}`)}const v=class{constructor(e){this.sign=Number.NaN,this.mag=Number.NaN,this.layer=Number.NaN,e instanceof v||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/fa(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer,this.exponent))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,n){return new v().fromComponents(e,t,n)}static fromComponents_noNormalize(e,t,n){return new v().fromComponents_noNormalize(e,t,n)}static fromMantissaExponent(e,t){return new v().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new v().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new v().fromDecimal(e)}static fromNumber(e){return new v().fromNumber(e)}static fromString(e){return new v().fromString(e)}static fromValue(e){return new v().fromValue(e)}static fromValue_noAlloc(e){return e instanceof v?e:new v(e)}static abs(e){return m(e).abs()}static neg(e){return m(e).neg()}static negate(e){return m(e).neg()}static negated(e){return m(e).neg()}static sign(e){return m(e).sign}static sgn(e){return m(e).sign}static round(e){return m(e).round()}static floor(e){return m(e).floor()}static ceil(e){return m(e).ceil()}static trunc(e){return m(e).trunc()}static add(e,t){return m(e).add(t)}static plus(e,t){return m(e).add(t)}static sub(e,t){return m(e).sub(t)}static subtract(e,t){return m(e).sub(t)}static minus(e,t){return m(e).sub(t)}static mul(e,t){return m(e).mul(t)}static multiply(e,t){return m(e).mul(t)}static times(e,t){return m(e).mul(t)}static div(e,t){return m(e).div(t)}static divide(e,t){return m(e).div(t)}static recip(e){return m(e).recip()}static reciprocal(e){return m(e).recip()}static reciprocate(e){return m(e).reciprocate()}static cmp(e,t){return m(e).cmp(t)}static cmpabs(e,t){return m(e).cmpabs(t)}static compare(e,t){return m(e).cmp(t)}static isNaN(e){return e=m(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=m(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return m(e).eq(t)}static equals(e,t){return m(e).eq(t)}static neq(e,t){return m(e).neq(t)}static notEquals(e,t){return m(e).notEquals(t)}static lt(e,t){return m(e).lt(t)}static lte(e,t){return m(e).lte(t)}static gt(e,t){return m(e).gt(t)}static gte(e,t){return m(e).gte(t)}static max(e,t){return m(e).max(t)}static min(e,t){return m(e).min(t)}static minabs(e,t){return m(e).minabs(t)}static maxabs(e,t){return m(e).maxabs(t)}static clamp(e,t,n){return m(e).clamp(t,n)}static clampMin(e,t){return m(e).clampMin(t)}static clampMax(e,t){return m(e).clampMax(t)}static cmp_tolerance(e,t,n){return m(e).cmp_tolerance(t,n)}static compare_tolerance(e,t,n){return m(e).cmp_tolerance(t,n)}static eq_tolerance(e,t,n){return m(e).eq_tolerance(t,n)}static equals_tolerance(e,t,n){return m(e).eq_tolerance(t,n)}static neq_tolerance(e,t,n){return m(e).neq_tolerance(t,n)}static notEquals_tolerance(e,t,n){return m(e).notEquals_tolerance(t,n)}static lt_tolerance(e,t,n){return m(e).lt_tolerance(t,n)}static lte_tolerance(e,t,n){return m(e).lte_tolerance(t,n)}static gt_tolerance(e,t,n){return m(e).gt_tolerance(t,n)}static gte_tolerance(e,t,n){return m(e).gte_tolerance(t,n)}static pLog10(e){return m(e).pLog10()}static absLog10(e){return m(e).absLog10()}static log10(e){return m(e).log10()}static log(e,t){return m(e).log(t)}static log2(e){return m(e).log2()}static ln(e){return m(e).ln()}static logarithm(e,t){return m(e).logarithm(t)}static pow(e,t){return m(e).pow(t)}static pow10(e){return m(e).pow10()}static root(e,t){return m(e).root(t)}static factorial(e,t){return m(e).factorial()}static gamma(e,t){return m(e).gamma()}static lngamma(e,t){return m(e).lngamma()}static exp(e){return m(e).exp()}static sqr(e){return m(e).sqr()}static sqrt(e){return m(e).sqrt()}static cube(e){return m(e).cube()}static cbrt(e){return m(e).cbrt()}static tetrate(e,t=2,n=R(1,0,1)){return m(e).tetrate(t,n)}static iteratedexp(e,t=2,n=R(1,0,1)){return m(e).iteratedexp(t,n)}static iteratedlog(e,t=10,n=1){return m(e).iteratedlog(t,n)}static layeradd10(e,t){return m(e).layeradd10(t)}static layeradd(e,t,n=10){return m(e).layeradd(t,n)}static slog(e,t=10){return m(e).slog(t)}static lambertw(e){return m(e).lambertw()}static ssqrt(e){return m(e).ssqrt()}static pentate(e,t=2,n=R(1,0,1)){return m(e).pentate(t,n)}static affordGeometricSeries(e,t,n,i){return this.affordGeometricSeries_core(m(e),m(t),m(n),i)}static sumGeometricSeries(e,t,n,i){return this.sumGeometricSeries_core(e,m(t),m(n),i)}static affordArithmeticSeries(e,t,n,i){return this.affordArithmeticSeries_core(m(e),m(t),m(n),m(i))}static sumArithmeticSeries(e,t,n,i){return this.sumArithmeticSeries_core(m(e),m(t),m(n),m(i))}static efficiencyOfPurchase(e,t,n){return this.efficiencyOfPurchase_core(m(e),m(t),m(n))}static randomDecimalForTesting(e){if(Math.random()*20<1)return R(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return R(t,0,1);const n=Math.floor(Math.random()*(e+1));let i=n===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(i=Math.trunc(i));let a=Math.pow(10,i);return Math.random()>.9&&(a=Math.trunc(a)),B(t,n,a)}static affordGeometricSeries_core(e,t,n,i){const a=t.mul(n.pow(i));return v.floor(e.div(a).mul(n.sub(1)).add(1).log10().div(n.log10()))}static sumGeometricSeries_core(e,t,n,i){return t.mul(n.pow(i)).mul(v.sub(1,n.pow(e))).div(v.sub(1,n))}static affordArithmeticSeries_core(e,t,n,i){const r=t.add(i.mul(n)).sub(n.div(2)),l=r.pow(2);return r.neg().add(l.add(n.mul(e).mul(2)).sqrt()).div(n).floor()}static sumArithmeticSeries_core(e,t,n,i){const a=t.add(i.mul(n));return e.div(2).mul(a.mul(2).plus(e.sub(1).mul(n)))}static efficiencyOfPurchase_core(e,t,n){return e.div(t).add(e.div(n))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<ua)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=sa)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<la&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this.normalize(),this}fromComponents_noNormalize(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){e=e.replace(",","");const t=e.split("^^^");if(t.length===2){const h=parseFloat(t[0]),k=parseFloat(t[1]),S=t[1].split(";");let x=1;if(S.length===2&&(x=parseFloat(S[1]),isFinite(x)||(x=1)),isFinite(h)&&isFinite(k)){const O=v.pentate(h,k,x);return this.sign=O.sign,this.layer=O.layer,this.mag=O.mag,this}}const n=e.split("^^");if(n.length===2){const h=parseFloat(n[0]),k=parseFloat(n[1]),S=n[1].split(";");let x=1;if(S.length===2&&(x=parseFloat(S[1]),isFinite(x)||(x=1)),isFinite(h)&&isFinite(k)){const O=v.tetrate(h,k,x);return this.sign=O.sign,this.layer=O.layer,this.mag=O.mag,this}}const i=e.split("^");if(i.length===2){const h=parseFloat(i[0]),k=parseFloat(i[1]);if(isFinite(h)&&isFinite(k)){const S=v.pow(h,k);return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,this}}e=e.trim().toLowerCase();let a,r,l=e.split("pt");if(l.length===2){a=10,r=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let h=parseFloat(l[1]);if(isFinite(h)||(h=1),isFinite(a)&&isFinite(r)){const k=v.tetrate(a,r,h);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,this}}if(l=e.split("p"),l.length===2){a=10,r=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let h=parseFloat(l[1]);if(isFinite(h)||(h=1),isFinite(a)&&isFinite(r)){const k=v.tetrate(a,r,h);return this.sign=k.sign,this.layer=k.layer,this.mag=k.mag,this}}const s=e.split("e"),f=s.length-1;if(f===0){const h=parseFloat(e);if(isFinite(h))return this.fromNumber(h)}else if(f===1){const h=parseFloat(e);if(isFinite(h)&&h!==0)return this.fromNumber(h)}const c=e.split("e^");if(c.length===2){this.sign=1,c[0].charAt(0)=="-"&&(this.sign=-1);let h="";for(let k=0;k<c[1].length;++k){const S=c[1].charCodeAt(k);if(S>=43&&S<=57||S===101)h+=c[1].charAt(k);else return this.layer=parseFloat(h),this.mag=parseFloat(c[1].substr(k+1)),this.normalize(),this}}if(f<1)return this.sign=0,this.layer=0,this.mag=0,this;const w=parseFloat(s[0]);if(w===0)return this.sign=0,this.layer=0,this.mag=0,this;let _=parseFloat(s[s.length-1]);if(f>=2){const h=parseFloat(s[s.length-2]);isFinite(h)&&(_*=Math.sign(h),_+=pn(h))}if(!isFinite(w))this.sign=s[0]==="-"?-1:1,this.layer=f,this.mag=_;else if(f===1)this.sign=Math.sign(w),this.layer=1,this.mag=_+Math.log10(Math.abs(w));else if(this.sign=Math.sign(w),this.layer=f,f===2){const h=v.mul(B(1,2,_),m(w));return this.sign=h.sign,this.layer=h.layer,this.mag=h.mag,this}else this.mag=_;return this.normalize(),this}fromValue(e){return e instanceof v||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:Ye(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:Ye(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=Rn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):Ye(this.m,e)+"e"+Ye(this.e,e):this.layer===1?Ye(this.m,e)+"e"+Ye(this.e,e):this.layer<=Rn?(this.sign===-1?"-":"")+"e".repeat(this.layer)+Ye(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+Ye(this.mag,e)}abs(){return R(this.sign===0?0:1,this.layer,this.mag)}neg(){return R(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?v.dZero:this.layer===0?B(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?v.dZero:this.layer===0?B(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?v.dZero:this.layer===0?B(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?v.dZero:this.layer===0?B(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=m(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return R(0,0,0);let n,i;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(v.cmpabs(this,t)>0?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return m(n.sign*n.mag+i.sign*i.mag);const a=n.layer*Math.sign(n.mag),r=i.layer*Math.sign(i.mag);if(a-r>=2)return n;if(a===0&&r===-1){if(Math.abs(i.mag-Math.log10(n.mag))>fn)return n;{const l=Math.pow(10,Math.log10(n.mag)-i.mag),s=i.sign+n.sign*l;return B(Math.sign(s),1,i.mag+Math.log10(Math.abs(s)))}}if(a===1&&r===0){if(Math.abs(n.mag-Math.log10(i.mag))>fn)return n;{const l=Math.pow(10,n.mag-Math.log10(i.mag)),s=i.sign+n.sign*l;return B(Math.sign(s),1,Math.log10(i.mag)+Math.log10(Math.abs(s)))}}if(Math.abs(n.mag-i.mag)>fn)return n;{const l=Math.pow(10,n.mag-i.mag),s=i.sign+n.sign*l;return B(Math.sign(s),1,i.mag+Math.log10(Math.abs(s)))}}plus(e){return this.add(e)}sub(e){return this.add(m(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=m(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return R(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return R(this.sign*t.sign,0,1);let n,i;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(n=this,i=t):(n=t,i=this),n.layer===0&&i.layer===0)return m(n.sign*i.sign*n.mag*i.mag);if(n.layer>=3||n.layer-i.layer>=2)return B(n.sign*i.sign,n.layer,n.mag);if(n.layer===1&&i.layer===0)return B(n.sign*i.sign,1,n.mag+Math.log10(i.mag));if(n.layer===1&&i.layer===1)return B(n.sign*i.sign,1,n.mag+i.mag);if(n.layer===2&&i.layer===1){const a=B(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(B(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return B(n.sign*i.sign,a.layer+1,a.sign*a.mag)}if(n.layer===2&&i.layer===2){const a=B(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(B(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)));return B(n.sign*i.sign,a.layer+1,a.sign*a.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=m(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?v.dNaN:this.layer===0?B(this.sign,0,1/this.mag):B(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=m(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=m(e),n=this.mag>0?this.layer:-this.layer,i=t.mag>0?t.layer:-t.layer;return n>i?1:n<i?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=m(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=m(e);return this.lt(t)?t:this}min(e){const t=m(e);return this.gt(t)?t:this}maxabs(e){const t=m(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=m(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)?0:this.cmp(n)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const n=m(e);if(t==null&&(t=1e-7),this.sign!==n.sign||Math.abs(this.layer-n.layer)>1)return!1;let i=this.mag,a=n.mag;return this.layer>n.layer&&(a=pn(a)),this.layer<n.layer&&(i=pn(i)),Math.abs(i-a)<=t*Math.max(Math.abs(i),Math.abs(a))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const n=m(e);return!this.eq_tolerance(n,t)&&this.lt(n)}lte_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)||this.lt(n)}gt_tolerance(e,t){const n=m(e);return!this.eq_tolerance(n,t)&&this.gt(n)}gte_tolerance(e,t){const n=m(e);return this.eq_tolerance(n,t)||this.gt(n)}pLog10(){return this.lt(v.dZero)?v.dZero:this.log10()}absLog10(){return this.sign===0?v.dNaN:this.layer>0?B(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):B(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?v.dNaN:this.layer>0?B(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):B(this.sign,0,Math.log10(this.mag))}log(e){return e=m(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?v.dNaN:this.layer===0&&e.layer===0?B(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):v.div(this.log10(),e.log10())}log2(){return this.sign<=0?v.dNaN:this.layer===0?B(this.sign,0,Math.log2(this.mag)):this.layer===1?B(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?B(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):B(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?v.dNaN:this.layer===0?B(this.sign,0,Math.log(this.mag)):this.layer===1?B(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?B(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):B(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=m(e),n=this,i=t;if(n.sign===0)return i.eq(0)?R(1,0,1):n;if(n.sign===1&&n.layer===0&&n.mag===1)return n;if(i.sign===0)return R(1,0,1);if(i.sign===1&&i.layer===0&&i.mag===1)return n;const a=n.absLog10().mul(i).pow10();return this.sign===-1?Math.abs(i.toNumber()%2)%2===1?a.neg():Math.abs(i.toNumber()%2)%2===0?a:v.dNaN:a}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return v.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return B(1,0,t);if(e.sign===0)return v.dOne;e=R(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?B(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?B(-e.sign,e.layer+1,-e.mag):v.dOne}pow_base(e){return m(e).pow(this)}root(e){const t=m(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?v.exp(v.mul(this,v.ln(this).sub(1))):v.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(R(1,0,24)))return m(ha(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const n=e*e;let i=e,a=12*i,r=1/a,l=t+r;if(l===t||(t=l,i=i*n,a=360*i,r=1/a,l=t-r,l===t))return v.exp(t);t=l,i=i*n,a=1260*i;let s=1/a;return t=t+s,i=i*n,a=1680*i,s=1/a,t=t-s,v.exp(t)}else return this.layer===1?v.exp(v.mul(this,v.ln(this).sub(1))):v.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?v.dOne:this.layer===0&&this.mag<=709.7?m(Math.exp(this.sign*this.mag)):this.layer===0?B(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?B(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):B(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return m(Math.sqrt(this.sign*this.mag));if(this.layer===1)return B(1,2,Math.log10(this.mag)-.3010299956639812);{const e=v.div(R(this.sign,this.layer-1,this.mag),R(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=R(1,0,1)){if(e===1)return v.pow(this,t);if(e===0)return new v(t);if(this.eq(v.dOne))return v.dOne;if(this.eq(-1))return v.pow(this,t);if(e===Number.POSITIVE_INFINITY){const a=this.toNumber();if(a<=1.444667861009766&&a>=.06598803584531254){if(a>1.444667861009099)return new v(Math.E);const r=v.ln(this).neg();return r.lambertw().div(r)}else return a>1.444667861009766?new v(Number.POSITIVE_INFINITY):v.dNaN}if(this.eq(v.dZero)){let a=Math.abs((e+1)%2);return a>1&&(a=2-a),new v(a)}if(e<0)return v.iteratedlog(t,this,-e);t=m(t);const n=e;e=Math.trunc(e);const i=n-e;if(this.gt(v.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let a=0;a<e;++a){const r=t;if(t=this.pow(t),r.eq(t))return t}if(i!=0){const a=this.pow(t);return t.mul(1-i).add(a.mul(i))}return t}i!==0&&(t.eq(v.dOne)?this.gt(10)?t=this.pow(i):(t=m(v.tetrate_critical(this.toNumber(),i)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return R(t.sign,t.layer+(e-a-1),t.mag);if(a>1e4)return t}return t}iteratedexp(e=2,t=R(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return v.tetrate(e,-t,this);e=m(e);let n=m(this);const i=t;t=Math.trunc(t);const a=i-t;if(n.layer-e.layer>3){const r=Math.min(t,n.layer-e.layer-3);t-=r,n.layer-=r}for(let r=0;r<t;++r){if(n=n.log(e),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(r>1e4)return n}return a>0&&a<1&&(e.eq(10)?n=n.layeradd10(-a):n=n.layeradd(-a,e)),n}slog(e=10){if(e=m(e),e.lte(v.dZero)||e.eq(v.dOne))return v.dNaN;if(e.lt(v.dOne))return this.eq(v.dOne)?v.dZero:this.eq(v.dZero)?v.dNegOne:v.dNaN;if(this.mag<0||this.eq(v.dZero))return v.dNegOne;let t=0,n=m(this);if(n.layer-e.layer>3){const i=n.layer-e.layer-3;t+=i,n.layer-=i}for(let i=0;i<100;++i)if(n.lt(v.dZero))n=v.pow(e,n),t-=1;else{if(n.lte(v.dOne))return m(t+v.slog_critical(e.toNumber(),n.toNumber()));t+=1,n=v.log(n,e)}return m(t)}static slog_critical(e,t){return e>10?t-1:v.critical_section(e,t,ma)}static tetrate_critical(e,t){return v.critical_section(e,t,pa)}static critical_section(e,t,n){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let i=0,a=0;for(let s=0;s<st.length;++s)if(st[s]==e){i=n[s][Math.floor(t)],a=n[s][Math.ceil(t)];break}else if(st[s]<e&&st[s+1]>e){const f=(e-st[s])/(st[s+1]-st[s]);i=n[s][Math.floor(t)]*(1-f)+n[s+1][Math.floor(t)]*f,a=n[s][Math.ceil(t)]*(1-f)+n[s+1][Math.ceil(t)]*f;break}const r=t-Math.floor(t);return i*(1-r)+a*r}layeradd10(e){e=v.fromValue_noAlloc(e).toNumber();const t=m(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const n=Math.trunc(e);e-=n,t.layer+=n}if(e<=-1){const n=Math.trunc(e);if(e-=n,t.layer+=n,t.layer<0)for(let i=0;i<100;++i){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const i=this.slog(t).toNumber()+e;return i>=0?v.tetrate(t,i):Number.isFinite(i)?i>=-1?v.log(v.tetrate(t,i+1),t):v.log(v.log(v.tetrate(t,i+2),t),t):v.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return m(qn(this.toNumber()));if(this.layer===0)return m(qn(this.sign*this.mag));if(this.layer===1)return zn(this);if(this.layer===2)return zn(this);if(this.layer>=3)return R(this.sign,this.layer-1,this.mag);throw"Unhandled behavior in lambertw()"}ssqrt(){if(this.sign==1&&this.layer>=3)return R(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=R(1,0,1)){t=m(t);const n=e;e=Math.trunc(e);const i=n-e;i!==0&&(t.eq(v.dOne)?(++e,t=new v(i)):this.eq(10)?t=t.layeradd10(i):t=t.layeradd(i,this));for(let a=0;a<e;++a){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(a>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?m(Math.sin(this.sign*this.mag)):R(0,0,0)}cos(){return this.mag<0?v.dOne:this.layer===0?m(Math.cos(this.sign*this.mag)):R(0,0,0)}tan(){return this.mag<0?this:this.layer===0?m(Math.tan(this.sign*this.mag)):R(0,0,0)}asin(){return this.mag<0?this:this.layer===0?m(Math.asin(this.sign*this.mag)):R(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?m(Math.acos(this.toNumber())):this.layer===0?m(Math.acos(this.sign*this.mag)):R(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?m(Math.atan(this.sign*this.mag)):m(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return v.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return v.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?R(Number.NaN,Number.NaN,Number.NaN):v.ln(this.add(1).div(m(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(v.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let u=v;u.dZero=R(0,0,0);u.dOne=R(1,0,1);u.dNegOne=R(-1,0,1);u.dTwo=R(1,0,2);u.dTen=R(1,0,10);u.dNaN=R(Number.NaN,Number.NaN,Number.NaN);u.dInf=R(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);u.dNegInf=R(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);u.dNumberMax=B(1,0,Number.MAX_VALUE);u.dNumberMin=B(1,0,Number.MIN_VALUE);const ga=new u(1);function Mt(e,t,n=!0){let i=u.log10(e).floor(),a=u.div(e,u.pow(10,i));a.toStringWithDecimalPlaces(t)==="10"&&(a=ga,i=i.add(1));const r=i.gte(1e9)?xe(i,Math.max(Math.max(t,3),W.defaultDecimalsShown)):i.gte(1e4)?Wt(i,0):i.toStringWithDecimalPlaces(0);return n?a.toStringWithDecimalPlaces(t)+"e"+r:"e"+r}function Wt(e,t){if(e==null)return"NaN";if(e=new u(e),e.mag<.001)return 0 .toFixed(t);const i=e.toStringWithDecimalPlaces(t).split(".");return i[0]=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),i.length==1?i[0]:i[0]+"."+i[1]}function Xn(e,t){return e==null?"NaN":(e=new u(e),e.mag<1e-4?0 .toFixed(t):(e.mag<.1&&t!==0&&(t=Math.max(Math.max(t,e.log10().negate().ceil().toNumber()),W.defaultDecimalsShown)),e.toStringWithDecimalPlaces(t)))}const va=new u("eeee1000"),ba=new u("e100000"),jn=new u("e1000"),Qn=new u(1e9),ya=new u(1e6),_a=new u(1e3),wa=new u(.98),Na=new u(.001),ei=new u(0);function xe(e,t,n){if(t==null&&(t=W.defaultDecimalsShown),n=n!=null?n:W.defaultShowSmall,e=new u(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag))return"NaN";if(e.sign<0)return"-"+xe(e.neg(),t);if(e.mag===Number.POSITIVE_INFINITY)return"Infinity";if(e.gte(va)){const i=e.slog();return i.gte(ya)?"F"+xe(i.floor()):u.pow(10,i.sub(i.floor())).toStringWithDecimalPlaces(3)+"F"+Wt(i.floor(),0)}else{if(e.gte(ba))return Mt(e,0,!1);if(e.gte(jn))return Mt(e,0);if(e.gte(Qn))return Mt(e,t);if(e.gte(_a))return Wt(e,0);if(e.gte(Na)||!n)return Xn(e,t);if(e.eq(ei))return 0 .toFixed(t)}return e=ni(e),e.lt(jn)?Mt(e,t).replace(/([^(?:e|F)]*)$/,"-$1"):xe(e,t)+"\u207B\xB9"}function ke(e){return e=new u(e),e.sign<0?"-"+ke(e.neg()):e.gte(Qn)||e.lte(wa)&&!e.eq(ei)?xe(e):xe(e,0)}function ti(e){return u.lt(e,0)?"-"+ti(u.neg(e)):u.gt(e,2**51)?xe(u.div(e,31536e3))+"y":(e=new u(e).toNumber(),e<60?xe(e)+"s":e<3600?ke(Math.floor(e/60))+"m "+xe(e%60)+"s":e<86400?ke(Math.floor(e/3600))+"h "+ke(Math.floor(e/60)%60)+"m "+ke(e%60)+"s":e<31536e3?ke(Math.floor(e/84600)%365)+"d "+ke(Math.floor(e/3600)%24)+"h "+ke(Math.floor(e/60)%60)+"m":ke(Math.floor(e/31536e3))+"y "+ke(Math.floor(e/84600)%365)+"d "+ke(Math.floor(e/3600)%24)+"h")}function ka(e,t,n){e=new u(e);let i=e.toStringWithDecimalPlaces(t);return new u(i).gte(n)&&(i=u.sub(n,Math.pow(.1,t)).toStringWithDecimalPlaces(t)),i}function xa(e,t){return xe(e,t,!0)}function ni(e){let t=u.log10(e).ceil();const n=u.div(e,u.pow(10,t));return t=t.neg(),e=new u(10).pow(t).times(n),e}var Ca=Object.freeze(Object.defineProperty({__proto__:null,default:u,exponentialFormat:Mt,commaFormat:Wt,regularFormat:Xn,format:xe,formatWhole:ke,formatTime:ti,toPlaces:ka,formatSmall:xa,invertOOM:ni},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:Ma,commaFormat:Sa,regularFormat:$a,format:q,formatWhole:Re,formatTime:Jt,toPlaces:Ia,formatSmall:Ta,invertOOM:Fa}=Ca;window.Decimal=u;window.exponentialFormat=Ma;window.commaFormat=Sa;window.regularFormat=$a;window.format=q;window.formatWhole=Re;window.formatTime=Jt;window.toPlaces=Ia;window.formatSmall=Ta;window.invertOOM=Fa;function ii(e){let t=e.replace(/([A-Z])/g," $1");return t=t.charAt(0).toUpperCase()+t.slice(1),t}function mn(e){return typeof e=="function"}var le=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(le||{});const Tt=Symbol("DoNotCache");function F(e,t){const n=e[t];mn(n)&&n.length===0&&!n[Tt]?e[t]=b(n.bind(e)):mn(n)&&(e[t]=n.bind(e),e[t][Tt]=!0)}function hn(e){return mn(e)&&!e[Tt]&&(e=b(e)),e}const $e=Symbol("Component"),Ie=Symbol("GatherProps");let Da=0;function pt(e="feature-"){return e+Da++}var D=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(D||{});function Z(e){return e[Tt]=!0,e}function oe(e,t,n){e[t]===void 0&&n!=null&&(e[t]=n)}const lt={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var _n=(e=>(e.Classic="classic",e.Paper="paper",e.Nordic="nordic",e.Aqua="aqua",e))(_n||{}),Xt={classic:lt,paper:{...lt,variables:{...lt.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...lt,variables:{...lt.variables,"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...lt,variables:{...lt.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}};const ae=Symbol("ProxyState"),wt=Symbol("ProxyPath");function je(e,t={}){const n=t;let i=!1;function a(){return i||(Object.assign(n,e(n)),i=!0),n}return new Proxy(n,{get(r,l){return l===ae?a():a()[l]},set(r,l,s){return a()[l]=s,!0},has(r,l){return l===ae?!0:Reflect.has(a(),l)},ownKeys(){return Reflect.ownKeys(a())},getOwnPropertyDescriptor(r,l){return i||(Object.assign(n,e(n)),i=!0),Object.getOwnPropertyDescriptor(r,l)}})}var Q=window.state=gn({lastTenTicks:[],hasNaN:!1,NaNPath:[]});const ai=Et({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});function ri(e){return JSON.stringify(e,(t,n)=>o(n))}const oi={get(e,t){var i;if(t===ae||t===wt)return e[t];const n=e[ae][t];if(t!=="value"&&(Di(n)||Array.isArray(n))){if(n!==((i=e[t])==null?void 0:i[ae])){const a=[...e[wt],t];e[t]=new Proxy({[ae]:n,[wt]:a},oi)}return e[t]}return n},set(e,t,n,i){if(!Q.hasNaN&&(typeof n=="number"&&isNaN(n)||n instanceof u&&(isNaN(n.sign)||isNaN(n.layer)||isNaN(n.mag)))){const a=e[ae][t];if(!(typeof a=="number"&&isNaN(a)||a instanceof u&&(isNaN(a.sign)||isNaN(a.layer)||isNaN(a.mag))))throw ai.autosave=!1,Q.hasNaN=!0,Q.NaNPath=[...e[wt],t],Q.NaNReceiver=i,console.error("Attempted to set NaN value",[...e[wt],t],e[ae]),"Attempted to set NaN value. See above for details"}return e[ae][t]=n,!0},ownKeys(e){return Reflect.ownKeys(e[ae])},has(e,t){return Reflect.has(e[ae],t)},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e[ae],t)}};var I=window.player=new Proxy({[ae]:ai,[wt]:["player"]},oi);const me=Zn();let Nt=null,$t=null;function Yt(){const e=Date.now();let t=(e-I.time)/1e3;I.time=e;const n=t;if(Q.lastTenTicks.push(n),Q.lastTenTicks.length>10&&(Q.lastTenTicks=Q.lastTenTicks.slice(1)),!(($t==null?void 0:$t.value)&&!I.keepGoing)&&!Q.hasNaN&&(t=Math.max(t,0),I.devSpeed!==0)){if(I.offlineTime!=null){if(u.gt(I.offlineTime,W.offlineLimit*3600)&&(I.offlineTime=W.offlineLimit*3600),u.gt(I.offlineTime,0)&&I.devSpeed!==0){const i=Math.max(I.offlineTime/10,t);I.offlineTime=I.offlineTime-i,t+=i}else I.devSpeed===0&&(I.offlineTime+=t);(!I.offlineProd||u.lt(I.offlineTime,0))&&(I.offlineTime=null)}t=Math.min(t,W.maxTickLength),I.devSpeed!=null&&(t*=I.devSpeed),Number.isFinite(t)||(t=1e308),!u.eq(t,0)&&(I.timePlayed+=t,Number.isFinite(I.timePlayed)||(I.timePlayed=1e308),me.emit("update",t,n),te.unthrottled?(requestAnimationFrame(Yt),Nt!=null&&(clearInterval(Nt),Nt=null)):Nt==null&&(Nt=setInterval(Yt,50)))}}async function Pa(){$t=(await Ht(()=>Promise.resolve().then(function(){return _i}),void 0)).hasWon,Ce($t,e=>{e&&me.emit("gameWon")}),te.unthrottled?requestAnimationFrame(Yt):Nt=setInterval(Yt,50)}var Aa=Object.freeze(Object.defineProperty({__proto__:null,globalBus:me,startGameLoop:Pa},Symbol.toStringTag,{value:"Module"}));function si(e={}){return Object.assign({id:`${W.id}-0`,name:"Default Save",tabs:W.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:W.id,modVersion:W.versionNumber,layers:{}},e)}function Me(e){const t=Je.compressToUTF16(ri(e!=null?e:I[ae]));return localStorage.setItem((e!=null?e:I[ae]).id,t),t}async function Ba(){Va();try{let e=localStorage.getItem(te.active);if(e==null){await dt(kt());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Je.decompressFromUTF16(e);else throw"Unable to determine save encoding";const t=JSON.parse(e);if(t.modID!==W.id){await dt(kt());return}t.id=te.active,await dt(t)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await dt(kt())}}function kt(){const e=zt(),t=si({id:e});return Me(t),te.saves.push(e),t}function zt(){let e,t=0;do e=`${W.id}-${t++}`;while(localStorage.getItem(e));return e}async function dt(e){console.info("Loading save",e);const{layers:t,removeLayer:n,addLayer:i}=await Ht(()=>Promise.resolve().then(function(){return or}),void 0),{fixOldSave:a,getInitialLayers:r}=await Ht(()=>Promise.resolve().then(function(){return _i}),void 0);for(const l in t){const s=t[l];s&&n(s)}r(e).forEach(l=>i(l,e)),e=si(e),e.offlineProd&&e.time&&(e.offlineTime==null&&(e.offlineTime=0),e.offlineTime+=(Date.now()-e.time)/1e3),e.time=Date.now(),e.modVersion!==W.versionNumber&&a(e.modVersion,e),Object.assign(I,e),te.active=I.id,me.emit("onLoad")}setInterval(()=>{I.autosave&&Me()},1e3);window.onbeforeunload=()=>{I.autosave&&Me()};window.save=Me;const Ea=window.hardReset=async()=>{await dt(kt())},Ft=Et({active:"",saves:[],showTPS:!0,theme:_n.Nordic,unthrottled:!1});Ce(Ft,e=>{const t=Je.compressToUTF16(JSON.stringify(e));localStorage.setItem(W.id,t)},{deep:!0});var te=window.settings=Ft;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:_n.Nordic};me.emit("loadSettings",e),Object.assign(Ft,e),Ea()};function Va(){try{let e=localStorage.getItem(W.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Je.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const t=JSON.parse(e);typeof t=="object"&&Object.assign(Ft,t)}me.emit("loadSettings",Ft)}catch{}}const li=Et([]);function Oa(e){li.push(e)}const La=Et([]),Ua=Et([]),Ra={class:"table"},qa=L({__name:"Row",setup(e){const t=b(()=>Xt[te.theme].mergeAdjacent);return(n,i)=>(g(),C("div",Ra,[d("div",{class:he(["row",{mergeAdjacent:o(t)}])},[Ue(n.$slots,"default")],2)]))}});function za(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!xi(e)}function H(e,t="span"){return typeof e=="function"?L({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${t}>${e}</${t}>`),L({template:e})):L({render:()=>({})}):e}function Be(e){if(rt(e))return typeof e=="function"?e():H(e);const t=e[$e];return p(t,e[Ie](),null)}function Le(...e){let t;return p(qa,null,za(t=e.map(Be))?t:{default:()=>[t]})}function jt(e){if(rt(e))return typeof e=="function"?e():typeof e=="string"?p(Y,null,[e]):p(e,null,null);const t=e[$e];return p(t,e[Ie](),null)}function rt(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Tt]===!0}function ui(e,t){const n=A(null),i=A(void 0);function a(s){n.value||(n.value=setInterval(l,250)),i.value=s}function r(){n.value&&(clearInterval(n.value),n.value=null)}function l(){t&&t.value?t.value():e&&e.value&&e.value(i.value)}return Yn(r),{start:a,stop:r,handleHolding:l}}function ja(e,t="div"){const n=Pe();return Ae(()=>{n.value=H(ye(e),t)}),n}function Qt(e,t="div"){const n=Pe(null);return Ae(()=>{const i=ye(e);n.value=i==null?null:H(i,t)}),n}function Ga(e){return b(()=>ye(e))}function ye(e){return o(o(e))}function E(...e){return e.includes(Object)||e.push(Object),e}var K=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const Ha=L({__name:"Context",emits:["updateNodes"],setup(e,{emit:t}){var w;const n=A({}),i=new ResizeObserver(s),a=A(null);Kt(()=>{const _=a.value;_!=null&&i.observe(_)});let r=!0,l=A((w=a.value)==null?void 0:w.getBoundingClientRect());function s(){a.value!=null&&r&&(r=!1,qe(()=>{var _;l.value=(_=a.value)==null?void 0:_.getBoundingClientRect(),Object.values(n.value).filter(h=>h).forEach(h=>h.rect=h.element.getBoundingClientRect()),t("updateNodes",n.value),r=!0}))}document.fonts.ready.then(s);const f={attributes:!1,childList:!0,subtree:!1};qt(wn,(_,h)=>{const k=new MutationObserver(()=>c(_));k.observe(h,f),n.value[_]={element:h,observer:k,rect:h.getBoundingClientRect()},t("updateNodes",n.value),qe(()=>c(_))}),qt(Nn,_=>{var h;(h=n.value[_])==null||h.observer.disconnect(),n.value[_]=void 0,t("updateNodes",n.value)}),qt(kn,n),qt(xn,l);function c(_){const h=n.value[_];h!=null&&(h.rect=h.element.getBoundingClientRect(),t("updateNodes",n.value))}return(_,h)=>(g(),C(Y,null,[Ue(_.$slots,"default",{},void 0,!0),d("div",{ref_key:"resizeListener",ref:a,class:"resize-listener"},null,512)],64))}});var di=K(Ha,[["__scopeId","data-v-6a08ac80"]]);const Wa=["onPointerdown"],Ya={class:"modal-wrapper"},Za={class:"modal-container"},Ka={class:"modal-header"},Ja=$(" default header "),Xa={class:"modal-body"},Qa=$(" default body "),er={class:"modal-footer"},tr=d("div",{class:"modal-default-flex-grow"},null,-1),mt=L({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const a=pe(e),r=b(()=>a.modelValue||s.value);function l(){n("update:modelValue",!1)}const s=A(!1),f=A(null),c=b(()=>{var w,_;return(_=(w=f.value)==null?void 0:w.nodes)!=null?_:null});return t({isOpen:r,nodes:c}),(w,_)=>(g(),U(Mi,{to:"#modal-root"},[p(bn,{name:"modal",onBeforeEnter:_[0]||(_[0]=h=>s.value=!0),onAfterLeave:_[1]||(_[1]=h=>s.value=!1)},{default:V(()=>[vn(d("div",ct({class:"modal-mask",onPointerdown:It(l,["self"])},w.$attrs),[d("div",Ya,[d("div",Za,[d("div",Ka,[Ue(w.$slots,"header",{shown:o(r)},()=>[Ja])]),d("div",Xa,[p(di,{ref_key:"contextRef",ref:f},{default:V(()=>[Ue(w.$slots,"body",{shown:o(r)},()=>[Qa])]),_:3},512)]),d("div",er,[Ue(w.$slots,"footer",{shown:o(r)},()=>[d("div",{class:"modal-default-footer"},[tr,d("button",{class:"button modal-default-button",onClick:l}," Close ")])])])])])],16,Wa),[[Ci,e.modelValue]])]),_:3})]))}}),Dt=Symbol("PersistentState"),Pt=Symbol("DefaultValue"),Zt=Symbol("StackTrace"),ci=Symbol("Deleted");function nr(){var e;return((e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(t=>t.trim()).join(`
`))||""}function Ge(e){const t=de(e)?e:A(e);return t[Dt]=t,t[Pt]=de(e)?e.value:e,t[Zt]=nr(),t[ci]=!1,Se.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",t,`
Created at:
`+t[Zt]):xt[Se[Se.length-1]].add(t),t}me.on("addLayer",(e,t)=>{const n=[],i=(a,r=[])=>{let l=!1;return Object.keys(a).forEach(s=>{const f=a[s];if(f&&typeof f=="object")if(Dt in f){if(l=!0,f[ci]){console.warn("Deleted persistent ref present in returned object. Ignoring...",f,`
Created at:
`+f[Zt]);return}xt[e.id].delete(ae in f?f[ae]:f);const c=r.reduce((_,h)=>(h in _||(_[h]={}),_[h]),t),w=c[s];c[s]=f[Dt],Si(c)?w!=null?c[s]=w:c[s]=f[Pt]:w!=null?c[s].value=w:c[s].value=f[Pt]}else!(f instanceof u)&&!de(f)&&!n.includes(f)&&(typeof f.type=="symbol"&&n.push(f),i(f,[...r,s])&&(Ln(f)&&!Ln(a)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",ae in a?a[ae]:a,s):l=!0))}),l};i(e),xt[e.id].forEach(a=>{console.error(`Created persistent ref in ${e.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,a,`
Created at:
`+a[Zt])}),xt[e.id].clear()});const wn=Symbol("RegisterNode"),Nn=Symbol("UnregisterNode"),kn=Symbol("Nodes"),xn=Symbol("Bounds"),be=gn({});window.layers=be;const xt={},Se=[];function Vt(e,t){return je(()=>{const n={},i=n.emitter=Zn();if(n.on=i.on.bind(i),n.emit=i.emit.bind(i),n.nodes=A({}),n.id=e,Se.push(e),xt[e]=new Set,n.minimized=Ge(!1),Object.assign(n,t.call(n)),Se[Se.length-1]==null||Se[Se.length-1]!==e)throw`Adding layers stack in invalid state. This should not happen
Stack: ${Se}
Trying to pop ${n.id}`;return Se.pop(),F(n,"color"),F(n,"display"),F(n,"name"),oe(n,"name",n.id),F(n,"minWidth"),oe(n,"minWidth",600),F(n,"minimizable"),oe(n,"minimizable",!0),n})}function fi(e,t){if(console.info("Adding layer",e.id),be[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,be[e.id]);return}oe(t,"layers",{}),t.layers[e.id]==null&&(t.layers[e.id]={}),be[e.id]=e,me.emit("addLayer",e,t.layers[e.id])}function ir(e){return be[e]}function pi(e){console.info("Removing layer",e.id),me.emit("removeLayer",e),be[e.id]=void 0}function ar(e){pi(e),fi(e,I)}function rr(e){const t=A(!1);return{openModal:()=>t.value=!0,modal:Z(()=>p(mt,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n},{header:()=>p("h2",null,[o(e.name)]),body:o(e.display)}))}}me.on("update",function(t){Object.values(be).forEach(n=>{n==null||n.emit("preUpdate",t)}),Object.values(be).forEach(n=>{n==null||n.emit("update",t)}),Object.values(be).forEach(n=>{n==null||n.emit("postUpdate",t)})});var or=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:wn,UnregisterNodeInjectionKey:Nn,NodesInjectionKey:kn,BoundsInjectionKey:xn,layers:be,persistentRefs:xt,addingLayers:Se,createLayer:Vt,addLayer:fi,getLayer:ir,removeLayer:pi,reloadLayer:ar,setupLayerModal:rr},Symbol.toStringTag,{value:"Module"}));const sr=L({components:{Context:di},props:{index:{type:Number,required:!0},tab:{type:Function,required:!0},display:{type:E(Object,String,Function),required:!0},minimized:{type:Object,required:!0},minWidth:{type:E(Number,String),required:!0},name:{type:E(String),required:!0},color:E(String),minimizable:E(Boolean),nodes:{type:Object,required:!0}},setup(e){const{display:t,index:n,minimized:i,minWidth:a,tab:r}=pe(e),l=ja(t),s=b(()=>W.allowGoBack&&n.value>0&&!i.value);function f(){I.tabs.splice(o(e.index),1/0)}qe(()=>w(i.value,o(a.value))),Ce([i,Ga(a)],([_,h])=>w(_,h));function c(_){e.nodes.value=_}function w(_,h){const k=typeof h=="number"||Number.isNaN(parseInt(h))?h+"px":h,S=r.value();S!=null&&(_?(S.style.flexGrow="0",S.style.flexShrink="0",S.style.width="60px",S.style.minWidth=S.style.flexBasis="",S.style.margin="0"):(S.style.flexGrow="",S.style.flexShrink="",S.style.width="",S.style.minWidth=S.style.flexBasis=k,S.style.margin=""))}return{component:l,showGoBack:s,updateNodes:c,unref:o,goBack:f}}});function lr(e,t,n,i,a,r){const l=ze("Context");return g(),C("div",{class:"layer-container",style:ge({"--layer-color":e.unref(e.color)})},[e.showGoBack?(g(),C("button",{key:0,class:"goBack",onClick:t[0]||(t[0]=(...s)=>e.goBack&&e.goBack(...s))},"\u2190")):P("",!0),e.minimized.value?(g(),C("button",{key:1,class:"layer-tab minimized",onClick:t[1]||(t[1]=s=>e.minimized.value=!1)},[d("div",null,G(e.unref(e.name)),1)])):(g(),C("div",{key:2,class:he(["layer-tab",{showGoBack:e.showGoBack}])},[p(l,{onUpdateNodes:e.updateNodes},{default:V(()=>[(g(),U(ce(e.component)))]),_:1},8,["onUpdateNodes"])],2)),e.unref(e.minimizable)?(g(),C("button",{key:3,class:"minimize",onClick:t[2]||(t[2]=s=>e.minimized.value=!0)}," \u25BC ")):P("",!0)],4)}var ur=K(sr,[["render",lr],["__scopeId","data-v-34c9d881"]]);const ht=e=>(it("data-v-31f613b6"),e=e(),at(),e),dr=ht(()=>d("h2",null,"Changelog",-1)),cr=ht(()=>d("details",{open:""},[d("summary",null,[$("v0.5 Nothing That Matters - "),d("time",null,"2022-07-22")]),d("ul",null,[d("li",{class:"feature"},"Added Infinity Layer"),d("li",{class:"balancing"},"Hardcapped 'Logarithm Foundation' to +40"),d("li",{class:"balancing"},"Hardcapped 'Exponential Foundation' to +0.02"),d("li",{class:"balancing"},"Hardcapped 'Hyperbolic Foundation to +0.03")])],-1)),fr=ht(()=>d("details",null,[d("summary",null,[$("v0.4 Antiupgrade - "),d("time",null,"2022-07-22")]),d("ul",null,[d("li",{class:"feature"},"Added Antimatter Layer"),d("li",{class:"feature"},"Added Antimatter Dimensions"),d("li",{class:"feature"},"Added Dimension Boost/Shift"),d("li",{class:"balancing"},"Removed Infinite Softcap from Matter"),d("li",{class:"balancing"},"Reduced 'Antimatter Unlock' Cost to e100 Matter"),d("li",{class:"balancing"},"Infinitely Softcapped Effective Dimension Count"),d("li",{class:"balancing"},"Infinitely Softcapped Dimension Multiplier"),d("li",{class:"balancing"},"Locked Antimatter behind its Unlock")])],-1)),pr=ht(()=>d("details",null,[d("summary",null,[$("v0.3 Antimaterialism - "),d("time",null,"2022-07-21")]),d("ul",null,[d("li",{class:"feature"},"Added Antimatter Layer"),d("li",{class:"feature"},"Added Antimatter Dimensions"),d("li",{class:"feature"},"Added Dimension Boost/Shift")])],-1)),mr=ht(()=>d("details",null,[d("summary",null,[$("v0.2 All That Matters - "),d("time",null,"2022-07-17")]),d("ul",null,[d("li",{class:"feature"},"Added Logarithm Boost"),d("li",{class:"feature"},"Added Cosine Boost"),d("li",{class:"feature"},"Added Exponential Boost"),d("li",{class:"feature"},"Added Hyperbolic Boost"),d("li",{class:"feature"},"Added Antimatter Unlock"),d("li",{class:"balancing"},"Rebalanced the entirety of Matter again"),d("li",{class:"balancing"},"Nerfed Cosine's effect"),d("li",{class:"balancing"},"Nerfed Cosine Foundation's effect"),d("li",{class:"balancing"},"Nerfed Exponential Foundation's effect"),d("li",{class:"balancing"},"Nerfed Hyperbolic Foundation's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Matter"),d("li",{class:"balancing"},"Infinitely Softcapped Logarithm's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Exponential's effect"),d("li",{class:"balancing"},"Infinitely Softcapped Sine's min and max"),d("li",{class:"balancing"},"Infinitely Softcapped Hyperbolic's effect")])],-1)),hr=ht(()=>d("details",null,[d("summary",null,[$("v0.1 Dimensional Generator - "),d("time",null,"2022-07-17")]),d("ul",null,[d("li",{class:"feature"},"Removed Points"),d("li",{class:"feature"},"Added Dimensional Generator"),d("li",{class:"feature"},"Added Exponential"),d("li",{class:"feature"},"Added Hyperbolic"),d("li",{class:"feature"},"Added Cosine Foundation"),d("li",{class:"feature"},"Added Exponential Unlock"),d("li",{class:"feature"},"Added Hyperbolic Unlock"),d("li",{class:"feature"},"Added Exponential Foundation"),d("li",{class:"feature"},"Added Hyperbolic Foundation"),d("li",{class:"feature"},"Added Autobuyer Milestones to Matter"),d("li",{class:"balancing"},"Changed Sine Foundation's effect"),d("li",{class:"balancing"},"Rebalanced the entirety of Matter")])],-1)),gr=ht(()=>d("details",null,[d("summary",null,[$("v0.0 Initial Commit - "),d("time",null,"2022-07-15")]),$(" This is the first release :D "),d("ul",null,[d("li",{class:"feature"},"Added Foundation"),d("li",{class:"feature"},"Added Sine"),d("li",{class:"feature"},"Added Logarithm"),d("li",{class:"feature"},"Added Cosine"),d("li",{class:"feature"},"Added Sine Foundation"),d("li",{class:"feature"},"Added Sine Boost"),d("li",{class:"feature"},"Added Logarithm Unlock"),d("li",{class:"feature"},"Added Logarithm Foundation"),d("li",{class:"feature"},"Added Cosine Unlock")])],-1)),vr=L({__name:"Changelog",setup(e,{expose:t}){const n=A(!1);return t({open(){n.value=!0}}),(i,a)=>(g(),U(mt,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=r=>n.value=r)},{header:V(()=>[dr]),body:V(()=>[cr,fr,pr,mr,hr,gr]),_:1},8,["modelValue"]))}});var br=K(vr,[["__scopeId","data-v-31f613b6"]]),yr=L({props:{element:Object,display:{type:E(Object,String,Function),required:!0},style:E(Object,String,Array),classes:E(Object),direction:E(String),xoffset:E(String),yoffset:E(String),pinned:Object},setup(e){const{element:t,display:n,pinned:i}=pe(e),a=A(!1),r=b(()=>(ye(i)||a.value)&&l.value),l=Qt(n),s=Pe(H(Z(()=>{const w=ye(t);return w==null?"":jt(w)})));function f(w){const _=i;w.shiftKey&&_&&(_.value=!_.value,w.stopPropagation(),w.preventDefault())}const c=b(()=>ye(i)&&Xt[te.theme].showPin);return{Direction:le,isHovered:a,isShown:r,comp:l,elementComp:s,unref:o,togglePinned:f,showPin:c}}});const _r={key:0,class:"material-icons pinned"};function wr(e,t,n,i,a,r){return g(),C("div",{class:he(["tooltip-container",{shown:e.isShown}]),onMouseenter:t[0]||(t[0]=l=>e.isHovered=!0),onMouseleave:t[1]||(t[1]=l=>e.isHovered=!1),onClickCapture:t[2]||(t[2]=(...l)=>e.togglePinned&&e.togglePinned(...l))},[Ue(e.$slots,"default",{},void 0,!0),e.elementComp?(g(),U(ce(e.elementComp),{key:0})):P("",!0),p(bn,{name:"fade"},{default:V(()=>{var l;return[e.isShown?(g(),C("div",{key:0,class:he(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:ge([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(l=e.unref(e.style))!=null?l:{}])},[e.showPin?(g(),C("span",_r,"push_pin")):P("",!0),e.comp?(g(),U(ce(e.comp),{key:1})):P("",!0)],6)):P("",!0)]}),_:1})],34)}var re=K(yr,[["render",wr],["__scopeId","data-v-6102fa3a"]]);const gt=e=>(it("data-v-7dec2dec"),e=e(),at(),e),Nr={class:"info-modal-header"},kr=["src","alt"],xr={class:"info-modal-title"},Cr={key:0},Mr={key:0},Sr={key:0},$r=gt(()=>d("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Ir=gt(()=>d("br",null,null,-1)),Tr=gt(()=>d("br",null,null,-1)),Fr=["href"],Dr=gt(()=>d("span",{class:"material-icons info-modal-discord"},"discord",-1)),Pr=gt(()=>d("div",null,[d("a",{href:"https://discord.gg/WzejVAx",class:"info-modal-discord-link"},[d("span",{class:"material-icons info-modal-discord"},"discord"),$(" The Paper Pilot Community ")])],-1)),Ar=gt(()=>d("div",null,[d("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link"},[d("span",{class:"material-icons info-modal-discord"},"discord"),$(" The Modding Tree ")])],-1)),Br=gt(()=>d("br",null,null,-1));var Er=L({__name:"Info",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:i,logo:a,author:r,discordName:l,discordLink:s,versionNumber:f,versionTitle:c}=W,w=pe(n),_=A(!1),h=b(()=>Jt(I.timePlayed)),k=b(()=>H(Z(()=>p(Y,null,[La.map(Be)]))));t({open(){_.value=!0}});function S(){var x;(x=o(w.changelog))==null||x.open()}return(x,O)=>(g(),U(mt,{modelValue:_.value,"onUpdate:modelValue":O[0]||(O[0]=ue=>_.value=ue)},{header:V(()=>[d("div",Nr,[o(a)?(g(),C("img",{key:0,class:"info-modal-logo",src:o(a),alt:o(i)},null,8,kr)):P("",!0),d("div",xr,[d("h2",null,G(o(i)),1),d("h4",null,[$(" v"+G(o(f)),1),o(c)?(g(),C("span",Cr,": "+G(o(c)),1)):P("",!0)])])])]),body:V(({shown:ue})=>[ue?(g(),C("div",Mr,[o(r)?(g(),C("div",Sr,"By "+G(o(r)),1)):P("",!0),$r,Ir,d("div",{class:"link",onClick:S},"Changelog"),Tr,d("div",null,[o(s)?(g(),C("a",{key:0,href:o(s),class:"info-modal-discord-link"},[Dr,$(" "+G(o(l)),1)],8,Fr)):P("",!0)]),Pr,Ar,Br,d("div",null,"Time Played: "+G(o(h)),1),(g(),U(ce(o(k))))])):P("",!0)]),_:1},8,["modelValue"]))}});var Vr=K(Er,[["__scopeId","data-v-7dec2dec"]]);const Or={class:"field"},Lr={key:0,class:"field-title"},Cn=L({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){var l;const n=e,i=Qt(tt(n,"title"),"span"),a=A((l=n.options.find(s=>s.value===n.modelValue))!=null?l:null);Ce(tt(n,"modelValue"),s=>{var f;ye(a)!==s&&(a.value=(f=n.options.find(c=>c.value===s))!=null?f:null)});function r(s){t("update:modelValue",s.value)}return(s,f)=>(g(),C("div",Or,[o(i)?(g(),C("span",Lr,[(g(),U(ce(o(i))))])):P("",!0),p(o(Pi),{options:e.options,modelValue:a.value,"onUpdate:modelValue":[f[0]||(f[0]=c=>a.value=c),r],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const Ur={class:"field"},Rr=L({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=b(()=>H(o(n.title)||"<span></span>","span")),a=b({get(){return!!n.modelValue},set(r){t("update:modelValue",r)}});return(r,l)=>(g(),C("label",Ur,[vn(d("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":l[0]||(l[0]=s=>de(a)?a.value=s:null)},null,512),[[$i,o(a)]]),(g(),U(ce(o(i))))]))}});var Ze=K(Rr,[["__scopeId","data-v-2b109500"]]);const mi=e=>(it("data-v-bc13791c"),e=e(),at(),e),qr=mi(()=>d("div",{class:"header"},[d("h2",null,"Options")],-1)),zr=mi(()=>d("hr",null,null,-1));var jr=L({__name:"Options",setup(e,{expose:t}){const n=A(!1);t({open(){n.value=!0}});const i=Object.keys(Xt).map(S=>({label:ii(S),value:S})),a=b(()=>H(Z(()=>p(Y,null,[li.map(Be)])))),{showTPS:r,theme:l,unthrottled:s}=pe(te),{autosave:f,offlineProd:c}=pe(I),w=b({get(){return I.devSpeed===0},set(S){I.devSpeed=S?0:null}}),_=Z(()=>p("span",null,[$("Offline Production"),p(re,{display:"Save-specific"},{default:()=>[$("*")]})])),h=Z(()=>p("span",null,[$("Autosave"),p(re,{display:"Save-specific"},{default:()=>[$("*")]})])),k=Z(()=>p("span",null,[$("Pause game"),p(re,{display:"Save-specific"},{default:()=>[$("*")]})]));return(S,x)=>(g(),U(mt,{modelValue:n.value,"onUpdate:modelValue":x[6]||(x[6]=O=>n.value=O)},{header:V(()=>[qr]),body:V(()=>[p(Cn,{title:"Theme",options:o(i),modelValue:o(l),"onUpdate:modelValue":x[0]||(x[0]=O=>de(l)?l.value=O:null)},null,8,["options","modelValue"]),(g(),U(ce(o(a)))),p(Ze,{title:"Show TPS",modelValue:o(r),"onUpdate:modelValue":x[1]||(x[1]=O=>de(r)?r.value=O:null)},null,8,["modelValue"]),zr,p(Ze,{title:"Unthrottled",modelValue:o(s),"onUpdate:modelValue":x[2]||(x[2]=O=>de(s)?s.value=O:null)},null,8,["modelValue"]),p(Ze,{title:o(_),modelValue:o(c),"onUpdate:modelValue":x[3]||(x[3]=O=>de(c)?c.value=O:null)},null,8,["title","modelValue"]),p(Ze,{title:o(h),modelValue:o(f),"onUpdate:modelValue":x[4]||(x[4]=O=>de(f)?f.value=O:null)},null,8,["title","modelValue"]),o(W).enablePausing?(g(),U(Ze,{key:0,title:o(k),modelValue:o(w),"onUpdate:modelValue":x[5]||(x[5]=O=>de(w)?w.value=O:null)},null,8,["title","modelValue"])):P("",!0)]),_:1},8,["modelValue"]))}});var Gr=K(jr,[["__scopeId","data-v-bc13791c"]]);const Hr=["onSubmit"],Wr={class:"field"},Yr={key:0,class:"field-title"},Zr=["placeholder"],Kr=L({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null},emits:["update:modelValue","submit"],setup(e,{emit:t}){const i=pe(e),a=b(()=>{var f;return((f=i.title)==null?void 0:f.value)&&H(o(i.title.value),"span")}),r=A(null);Kt(()=>{var f;(f=r.value)==null||f.focus()});const l=b({get(){return o(i.modelValue)||""},set(f){t("update:modelValue",f)}});function s(){t("submit")}return(f,c)=>(g(),C("form",{onSubmit:It(s,["prevent"])},[d("div",Wr,[o(a)?(g(),C("span",Yr,[(g(),U(ce(o(a))))])):P("",!0),e.textArea?(g(),U(o(Bi),{key:1,modelValue:o(l),"onUpdate:modelValue":c[0]||(c[0]=w=>de(l)?l.value=w:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:s,ref_key:"field",ref:r},null,8,["modelValue","placeholder","maxHeight"])):vn((g(),C("input",{key:2,type:"text","onUpdate:modelValue":c[1]||(c[1]=w=>de(l)?l.value=w:null),placeholder:e.placeholder,class:he({fullWidth:!e.title}),onBlur:s,ref_key:"field",ref:r},null,42,Zr)),[[Ii,o(l)]])])],40,Hr))}});var hi=K(Kr,[["__scopeId","data-v-d74adb0a"]]);const Jr={key:0},Xr=["onClick","disabled"],Qr={key:0},eo=["onClick"],to=L({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:t}){const i=pe(e),a=A(!1);Ce(a,s=>{t("confirmingChanged",s)});function r(){if(o(i.skipConfirm)){t("click");return}a.value&&t("click"),a.value=!a.value}function l(){a.value=!1}return(s,f)=>(g(),C("span",{class:he(["container",{confirming:a.value}])},[a.value?(g(),C("span",Jr,"Are you sure?")):P("",!0),d("button",{onClick:It(r,["stop"]),class:"button danger",disabled:e.disabled},[a.value?(g(),C("span",Qr,"Yes")):Ue(s.$slots,"default",{key:1},void 0,!0)],8,Xr),a.value?(g(),C("button",{key:1,class:"button",onClick:It(l,["stop"])},"No",8,eo)):P("",!0)],2))}});var no=K(to,[["__scopeId","data-v-2f8ef34c"]]);const io=["onClick"],ao=L({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=A(!1),i=A(null);function a(){t("click"),i.value&&clearTimeout(i.value),n.value=!1,qe(()=>{n.value=!0,i.value=setTimeout(()=>n.value=!1,500)})}return(r,l)=>(g(),C("button",{onClick:It(a,["stop"]),class:he(["feedback",{activated:n.value,left:e.left}])},[Ue(r.$slots,"default",{},void 0,!0)],10,io))}});var ro=K(ao,[["__scopeId","data-v-01a1b95c"]]);const He=e=>(it("data-v-0136bef4"),e=e(),at(),e),oo=He(()=>d("div",{class:"handle material-icons"},"drag_handle",-1)),so={key:0,class:"actions"},lo=He(()=>d("span",{class:"material-icons"},"content_paste",-1)),uo=He(()=>d("span",{class:"material-icons"},"content_copy",-1)),co=He(()=>d("span",{class:"material-icons"},"edit",-1)),fo=He(()=>d("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),po={key:1,class:"actions"},mo=He(()=>d("span",{class:"material-icons"},"check",-1)),ho=He(()=>d("span",{class:"material-icons"},"close",-1)),go={key:2,class:"details"},vo={class:"save-version"},bo=He(()=>d("br",null,null,-1)),yo={key:0},_o={key:3,class:"details"},wo={key:4,class:"details error"},No=He(()=>d("br",null,null,-1)),ko=L({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:t}){const n=e,{save:i}=pe(n),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),r=A(!1),l=A(!1),s=A("");Ce(r,()=>s.value=i.value.name||"");const f=b(()=>i.value&&i.value.id===I.id),c=b(()=>f.value?I.time:i.value&&i.value.time||0);function w(){t("editName",s.value),r.value=!1}return(_,h)=>(g(),C("div",{class:he(["save",{active:o(f)}])},[oo,r.value?(g(),C("div",po,[d("button",{onClick:w,class:"button"},[p(re,{display:"Save",direction:o(le).Left,class:"info"},{default:V(()=>[mo]),_:1},8,["direction"])]),d("button",{onClick:h[5]||(h[5]=k=>r.value=!r.value),class:"button"},[p(re,{display:"Cancel",direction:o(le).Left,class:"info"},{default:V(()=>[ho]),_:1},8,["direction"])])])):(g(),C("div",so,[o(i).error==null&&!l.value?(g(),U(ro,{key:0,onClick:h[0]||(h[0]=k=>t("export")),class:"button",left:""},{default:V(()=>[p(re,{display:"Export",direction:o(le).Left,class:"info"},{default:V(()=>[lo]),_:1},8,["direction"])]),_:1})):P("",!0),o(i).error==null&&!l.value?(g(),C("button",{key:1,onClick:h[1]||(h[1]=k=>t("duplicate")),class:"button"},[p(re,{display:"Duplicate",direction:o(le).Left,class:"info"},{default:V(()=>[uo]),_:1},8,["direction"])])):P("",!0),o(i).error==null&&!l.value?(g(),C("button",{key:2,onClick:h[2]||(h[2]=k=>r.value=!r.value),class:"button"},[p(re,{display:"Edit Name",direction:o(le).Left,class:"info"},{default:V(()=>[co]),_:1},8,["direction"])])):P("",!0),p(no,{disabled:o(f),onClick:h[3]||(h[3]=k=>t("delete")),onConfirmingChanged:h[4]||(h[4]=k=>l.value=k)},{default:V(()=>[p(re,{display:"Delete",direction:o(le).Left,class:"info"},{default:V(()=>[fo]),_:1},8,["direction"])]),_:1},8,["disabled"])])),o(i).error==null&&!r.value?(g(),C("div",go,[d("button",{class:"button open",onClick:h[6]||(h[6]=k=>t("open"))},[d("h3",null,G(o(i).name),1)]),d("span",vo,"v"+G(o(i).modVersion),1),bo,o(c)?(g(),C("div",yo,"Last played "+G(o(a).format(o(c))),1)):P("",!0)])):o(i).error==null&&r.value?(g(),C("div",_o,[p(hi,{modelValue:s.value,"onUpdate:modelValue":h[7]||(h[7]=k=>s.value=k),class:"editname",onSubmit:w},null,8,["modelValue"])])):(g(),C("div",wo,[$(" Error: Failed to load save with id "+G(o(i).id),1),No,$(G(o(i).error),1)]))],2))}});var xo=K(ko,[["__scopeId","data-v-0136bef4"]]);const Mn=e=>(it("data-v-3b9991aa"),e=e(),at(),e),Co=Mn(()=>d("h2",null,"Saves Manager",-1)),Mo={class:"modal-footer"},So={class:"field"},$o=Mn(()=>d("span",{class:"field-title"},"Create Save",-1)),Io={class:"field-buttons"},To={class:"footer"},Fo=Mn(()=>d("div",{style:{"flex-grow":"1"}},null,-1)),Do=L({__name:"SavesManager",setup(e,{expose:t}){const n=A(!1),i=A(null);t({open(){n.value=!0}});const a=A(!1),r=A(""),l=A(null);Ce(r,y=>{y?qe(()=>{try{if(y[0]!=="{")if(y[0]==="e")y=decodeURIComponent(escape(atob(y)));else if(y[0]==="\u1BE1")y=Je.decompressFromUTF16(y);else{console.warn("Unable to determine preset encoding",y),a.value=!0;return}const M=JSON.parse(y);if(typeof M!="object"){a.value=!0;return}const z=zt();M.id=z,Me(M),r.value="",a.value=!1,te.saves.push(z)}catch{a.value=!0}}):a.value=!1});let s={},f=A(Object.keys(s).reduce((y,M)=>(y.push({label:M.split("/").slice(-1)[0].slice(0,-4),value:s[M]}),y),[]));const c=gn({});function w(y){if(c[y]==null){let M=localStorage.getItem(y);if(M==null)c[y]={error:"Save doesn't exist in localStorage",id:y};else if(M==="dW5kZWZpbmVk")c[y]={error:"Save is undefined",id:y};else try{if(M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=Je.decompressFromUTF16(M);else return console.warn("Unable to determine preset encoding",M),a.value=!0,c[y]={error:"Unable to determine preset encoding",id:y},c[y];c[y]={...JSON.parse(M),id:y}}catch(z){c[y]={error:z,id:y},console.warn(`SavesManager: Failed to load info about save with id ${y}:
${z}
${M}`)}}return c[y]}Ce(n,y=>{y&&Object.keys(c).forEach(M=>delete c[M])});const _=b(()=>te.saves.reduce((y,M)=>(y[M]=w(M),y),{}));function h(y){let M;switch(I.id===y?M=ri(I[ae]):M=JSON.stringify(_.value[y]),W.exportEncoding){default:console.warn(`Unknown save encoding: ${W.exportEncoding}. Defaulting to lz`);case"lz":M=Je.compressToUTF16(M);break;case"base64":M=btoa(unescape(encodeURIComponent(M)));break;case"plain":break}const z=document.createElement("textarea");z.value=M,document.body.appendChild(z),z.select(),z.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(z)}function k(y){I.id===y&&Me();const M={..._.value[y],id:zt()};Me(M),te.saves.push(M.id)}function S(y){te.saves=te.saves.filter(M=>M!==y),localStorage.removeItem(y),c[y]=void 0}function x(y){_.value[I.id].time=I.time,Me(),c[I.id]=void 0,dt(_.value[y]),c[y]=void 0}function O(y){if(l.value=y,qe(()=>{l.value=null}),y[0]!=="{")if(y[0]==="e")y=decodeURIComponent(escape(atob(y)));else if(y[0]==="\u1BE1")y=Je.decompressFromUTF16(y);else{console.warn("Unable to determine preset encoding",y);return}const M=JSON.parse(y);M.id=zt(),Me(M),te.saves.push(M.id),x(M.id)}function ue(y,M){const z=_.value[y];z&&(z.name=M,I.id===y?(I.name=M,Me()):(Me(z),c[y]=void 0))}return(y,M)=>(g(),U(mt,{modelValue:n.value,"onUpdate:modelValue":M[4]||(M[4]=z=>n.value=z),ref_key:"modal",ref:i},{header:V(()=>[Co]),body:V(({shown:z})=>[z?(g(),U(o(Ai),{key:0,list:o(te).saves,handle:".handle",itemKey:ve=>ve},{item:V(({element:ve})=>[p(xo,{save:o(_)[ve],onOpen:J=>x(ve),onExport:J=>h(ve),onEditName:J=>ue(ve,J),onDuplicate:J=>k(ve),onDelete:J=>S(ve)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):P("",!0)]),footer:V(()=>[d("div",Mo,[p(hi,{modelValue:r.value,"onUpdate:modelValue":M[0]||(M[0]=z=>r.value=z),title:"Import Save",placeholder:"Paste your save here!",class:he({importingFailed:a.value})},null,8,["modelValue","class"]),d("div",So,[$o,d("div",Io,[d("button",{class:"button",onClick:M[1]||(M[1]=z=>x(o(kt)().id))},"New Game"),Object.keys(o(f)).length>0?(g(),U(Cn,{key:0,options:o(f),modelValue:l.value,"onUpdate:modelValue":M[2]||(M[2]=z=>O(z)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):P("",!0)])]),d("div",To,[Fo,d("button",{class:"button modal-default-button",onClick:M[3]||(M[3]=z=>n.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var gi=K(Do,[["__scopeId","data-v-3b9991aa"]]);const we=e=>(it("data-v-4a3f8425"),e=e(),at(),e),Po=["src","alt"],Ao={key:1,class:"title"},Bo=we(()=>d("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),Eo={class:"discord"},Vo={class:"discord-links"},Oo={key:0},Lo=["href"],Uo=we(()=>d("li",null,[d("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Ro=we(()=>d("li",null,[d("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),qo={href:"https://forums.moddingtree.com/",target:"_blank"},zo=we(()=>d("span",{class:"material-icons"},"forum",-1)),jo=we(()=>d("span",{class:"material-icons"},"info",-1)),Go=we(()=>d("span",{class:"material-icons"},"library_books",-1)),Ho=we(()=>d("span",{class:"material-icons"},"settings",-1)),Wo=we(()=>d("span",{class:"material-icons"},"library_books",-1)),Yo=we(()=>d("span",{class:"material-icons"},"settings",-1)),Zo=we(()=>d("span",{class:"material-icons"},"info",-1)),Ko={href:"https://forums.moddingtree.com/",target:"_blank"},Jo=we(()=>d("span",{class:"material-icons"},"forum",-1)),Xo={class:"discord"},Qo={class:"discord-links"},es={key:0},ts=["href"],ns=we(()=>d("li",null,[d("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),is=we(()=>d("li",null,[d("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),as=L({__name:"Nav",setup(e){const t=A(null),n=A(null),i=A(null),a=A(null),{useHeader:r,banner:l,title:s,discordName:f,discordLink:c,versionNumber:w}=W;function _(){window.open(c,"mywindow")}return(h,k)=>(g(),C(Y,null,[o(r)?(g(),C("div",ct({key:0,class:"nav"},h.$attrs),[o(l)?(g(),C("img",{key:0,src:o(l),class:"banner",alt:o(s)},null,8,Po)):(g(),C("div",Ao,G(o(s)),1)),d("div",{onClick:k[0]||(k[0]=S=>{var x;return(x=a.value)==null?void 0:x.open()}),class:"version-container"},[p(re,{display:"Changelog",direction:o(le).Down,class:"version"},{default:V(()=>[d("span",null,"v"+G(o(w)),1)]),_:1},8,["direction"])]),Bo,d("div",Eo,[d("span",{onClick:_,class:"material-icons"},"discord"),d("ul",Vo,[o(c)?(g(),C("li",Oo,[d("a",{href:o(c),target:"_blank"},G(o(f)),9,Lo)])):P("",!0),Uo,Ro])]),d("div",null,[d("a",qo,[p(re,{display:"Forums",direction:o(le).Down,yoffset:"5px"},{default:V(()=>[zo]),_:1},8,["direction"])])]),d("div",{onClick:k[1]||(k[1]=S=>{var x;return(x=t.value)==null?void 0:x.open()})},[p(re,{display:"Info",direction:o(le).Down,class:"info"},{default:V(()=>[jo]),_:1},8,["direction"])]),d("div",{onClick:k[2]||(k[2]=S=>{var x;return(x=n.value)==null?void 0:x.open()})},[p(re,{display:"Saves",direction:o(le).Down,xoffset:"-20px"},{default:V(()=>[Go]),_:1},8,["direction"])]),d("div",{onClick:k[3]||(k[3]=S=>{var x;return(x=i.value)==null?void 0:x.open()})},[p(re,{display:"Options",direction:o(le).Down,xoffset:"-66px"},{default:V(()=>[Ho]),_:1},8,["direction"])])],16)):(g(),C("div",ct({key:1,class:"overlay-nav"},h.$attrs),[d("div",{onClick:k[4]||(k[4]=S=>{var x;return(x=a.value)==null?void 0:x.open()}),class:"version-container"},[p(re,{display:"Changelog",direction:o(le).Right,xoffset:"25%",class:"version"},{default:V(()=>[d("span",null,"v"+G(o(w)),1)]),_:1},8,["direction"])]),d("div",{onClick:k[5]||(k[5]=S=>{var x;return(x=n.value)==null?void 0:x.open()})},[p(re,{display:"Saves",direction:o(le).Right},{default:V(()=>[Wo]),_:1},8,["direction"])]),d("div",{onClick:k[6]||(k[6]=S=>{var x;return(x=i.value)==null?void 0:x.open()})},[p(re,{display:"Options",direction:o(le).Right},{default:V(()=>[Yo]),_:1},8,["direction"])]),d("div",{onClick:k[7]||(k[7]=S=>{var x;return(x=t.value)==null?void 0:x.open()})},[p(re,{display:"Info",direction:o(le).Right},{default:V(()=>[Zo]),_:1},8,["direction"])]),d("div",null,[d("a",Ko,[p(re,{display:"Forums",direction:o(le).Right,xoffset:"7px"},{default:V(()=>[Jo]),_:1},8,["direction"])])]),d("div",Xo,[d("span",{onClick:_,class:"material-icons"},"discord"),d("ul",Qo,[o(c)?(g(),C("li",es,[d("a",{href:o(c),target:"_blank"},G(o(f)),9,ts)])):P("",!0),ns,is])])],16)),p(Vr,{ref_key:"info",ref:t,changelog:a.value},null,8,["changelog"]),p(gi,{ref_key:"savesManager",ref:n},null,512),p(Gr,{ref_key:"options",ref:i},null,512),p(br,{ref_key:"changelog",ref:a},null,512)],64))}});var vi=K(as,[["__scopeId","data-v-4a3f8425"]]);const rs={class:"inner-tab"},os=L({__name:"Game",setup(e){const t=tt(I,"tabs"),n=b(()=>Object.keys(be)),i=W.useHeader;function a(r){const{display:l,minimized:s,minWidth:f,name:c,color:w,minimizable:_,nodes:h}=r;return{display:l,minimized:s,minWidth:f,name:c,color:w,minimizable:_,nodes:h}}return(r,l)=>(g(),C("div",{class:he(["tabs-container",{useHeader:o(i)}])},[(g(!0),C(Y,null,yn(o(t),(s,f)=>{var c,w;return g(),C("div",{key:f,class:he(["tab",o((c=o(be)[s])==null?void 0:c.classes)]),ref_for:!0,ref:`tab-${f}`,style:ge(o((w=o(be)[s])==null?void 0:w.style))},[f===0&&!o(i)?(g(),U(vi,{key:0})):P("",!0),d("div",rs,[o(n).includes(s)?(g(),U(ur,ct({key:0},a(o(be)[s]),{index:f,tab:()=>{var _;return(_=r.$refs[`tab-${f}`])==null?void 0:_[0]}}),null,16,["index","tab"])):(g(),U(ce(s),{key:1,index:f},null,8,["index"]))])],6)}),128))],2))}});var ss=K(os,[["__scopeId","data-v-4cb9ce0f"]]);const ls=L({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(t,n)=>(g(),C("div",{style:ge({width:e.width,height:e.height})},null,4))}});function At(e,t="points",n=0,i=void 0){const a=de(e)?e:Ge(e);return a.displayName=t,a.precision=n,a.small=i,a}function us(e){const t=Ge(e.value);return Ce(e,n=>{u.gt(n,t.value)&&(t.value=n)}),t}new u("10^^8");new u("1e100");function Bt(e,t){const n=t!=null?t:e.value;return u.eq(e.precision,0)?Re(n):q(n,e.precision,e.small)}const ds=["x1","y1","x2","y2"],cs=L({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=pe(e),i=b(()=>{const r=n.startNode.value.rect,l=n.boundingRect.value,s=l?{x:r.x+r.width/2-l.x,y:r.y+r.height/2-l.y}:{x:0,y:0};return n.link.value.offsetStart&&(s.x+=n.link.value.offsetStart.x,s.y+=n.link.value.offsetStart.y),s}),a=b(()=>{const r=n.endNode.value.rect,l=n.boundingRect.value,s=l?{x:r.x+r.width/2-l.x,y:r.y+r.height/2-l.y}:{x:0,y:0};return n.link.value.offsetEnd&&(s.x+=n.link.value.offsetEnd.x,s.y+=n.link.value.offsetEnd.y),s});return(r,l)=>(g(),C("line",ct({"stroke-width":"15px",stroke:"white"},e.link,{x1:o(i).x,y1:o(i).y,x2:o(a).x,y2:o(a).y}),null,16,ds))}});const fs=L({__name:"Links",props:{links:null},setup(e){var f;const n=tt(e,"links"),i=A(null),a=Gt(kn,A({})),r=Gt(xn,A(void 0)),l=A((f=i.value)==null?void 0:f.getBoundingClientRect());Ce(r,()=>{var c;return l.value=(c=i.value)==null?void 0:c.getBoundingClientRect()}),Kt(()=>{var c;return l.value=(c=i.value)==null?void 0:c.getBoundingClientRect()});const s=b(()=>{var w,_;const c=a.value;return(_=(w=n.value)==null?void 0:w.filter(h=>{var k,S;return((k=c[h.startNode.id])==null?void 0:k.rect)&&((S=c[h.startNode.id])==null?void 0:S.rect)}))!=null?_:[]});return(c,w)=>(g(),C(Y,null,[o(s)?(g(),C("svg",Ti(ct({key:0},c.$attrs)),[(g(!0),C(Y,null,yn(o(s),(_,h)=>(g(),U(cs,{key:h,link:_,boundingRect:l.value,startNode:o(a)[_.startNode.id],endNode:o(a)[_.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):P("",!0),d("div",{ref_key:"resizeListener",ref:i,class:"resize-listener"},null,512)],64))}});var ps=K(fs,[["__scopeId","data-v-063f6d6b"]]),ms=L({props:{nodes:{type:E(Array),required:!0},leftSideNodes:E(Array),rightSideNodes:E(Array),branches:E(Array)},components:{Links:ps},setup(e){const{nodes:t,leftSideNodes:n,rightSideNodes:i}=pe(e),a=Pe();Ae(()=>{const s=ye(t);a.value=H(Z(()=>p(Y,null,[s.map(f=>p("span",{class:"row tree-row",style:"margin: 50px auto;"},[f.map(jt)]))])))});const r=Pe();Ae(()=>{const s=ye(n);r.value=s?H(Z(()=>p("span",{class:"left-side-nodes small"},[s.map(jt)]))):""});const l=Pe();return Ae(()=>{const s=ye(i);l.value=s?H(Z(()=>p("span",{class:"side-nodes small"},[s.map(jt)]))):""}),{unref:o,nodesComp:a,leftNodesComp:r,rightNodesComp:l}}});function hs(e,t,n,i,a,r){const l=ze("Links");return g(),C(Y,null,[(g(),U(ce(e.nodesComp))),e.leftNodesComp?(g(),U(ce(e.leftNodesComp),{key:0})):P("",!0),e.rightNodesComp?(g(),U(ce(e.rightNodesComp),{key:1})):P("",!0),e.branches?(g(),U(l,{key:2,links:e.unref(e.branches)},null,8,["links"])):P("",!0)],64)}var gs=K(ms,[["render",hs],["__scopeId","data-v-39ca96d0"]]);const vs={key:0},bs={key:0,class:"mark star"},ys=["src"],_s=L({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(t,n)=>e.mark?(g(),C("div",vs,[e.mark===!0?(g(),C("div",bs)):(g(),C("img",{key:1,class:"mark",src:e.mark},null,8,ys))])):P("",!0)}});var Sn=K(_s,[["__scopeId","data-v-2207999f"]]);const ws=L({__name:"Node",props:{id:null},setup(e){const n=pe(e),i=Gt(wn,()=>{}),a=Gt(Nn,()=>{}),r=A(null),l=b(()=>r.value&&r.value.parentElement);return Ce([l,n.id],([s,f],[c,w])=>{c&&a(o(w)),s&&i(f,s)}),Yn(()=>a(o(n.id))),(s,f)=>(g(),C("div",{class:"node",ref_key:"node",ref:r},null,512))}});var en=K(ws,[["__scopeId","data-v-2cb1bb79"]]);const Ns=L({props:{display:E(Object,String,Function),visibility:{type:E(Number),required:!0},style:E(String,Object,Array),classes:E(Object),onClick:Function,onHold:Function,color:E(String),glowColor:E(String),canClick:{type:E(Boolean),required:!0},mark:E(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:Sn,Node:en},setup(e){const{onClick:t,onHold:n,display:i}=pe(e),a=Qt(i),{start:r,stop:l}=ui(t,n);return{start:r,stop:l,comp:a,unref:o,Visibility:D,isCoercableComponent:rt}}});function ks(e,t,n,i,a,r){var f;const l=ze("MarkNode"),s=ze("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),C("div",{key:0,style:ge({visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0}),class:he({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c)),onMousedown:t[1]||(t[1]=(...c)=>e.start&&e.start(...c)),onMouseleave:t[2]||(t[2]=(...c)=>e.stop&&e.stop(...c)),onMouseup:t[3]||(t[3]=(...c)=>e.stop&&e.stop(...c)),onTouchstartPassive:t[4]||(t[4]=(...c)=>e.start&&e.start(...c)),onTouchendPassive:t[5]||(t[5]=(...c)=>e.stop&&e.stop(...c)),onTouchcancelPassive:t[6]||(t[6]=(...c)=>e.stop&&e.stop(...c))},[d("div",{style:ge([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},(f=e.unref(e.style))!=null?f:[]])},[(g(),U(ce(e.unref(e.comp))))],4),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],38)):P("",!0)}var xs=K(Ns,[["render",ks],["__scopeId","data-v-1c0c107d"]]);const Cs=Symbol("TreeNode"),Ms=Symbol("Tree");function Ss(e){return je(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=pt("treeNode-"),t.type=Cs,t[$e]=xs,F(t,"visibility"),oe(t,"visibility",D.Visible),F(t,"canClick"),oe(t,"canClick",!0),F(t,"color"),F(t,"display"),F(t,"glowColor"),F(t,"classes"),F(t,"style"),F(t,"mark"),t.onClick){const i=t.onClick.bind(t);t.onClick=function(){o(t.canClick)&&i()}}if(t.onHold){const i=t.onHold.bind(t);t.onHold=function(){o(t.canClick)&&i()}}return t[Ie]=function(){const{display:i,visibility:a,style:r,classes:l,onClick:s,onHold:f,color:c,glowColor:w,canClick:_,mark:h,id:k}=this;return{display:i,visibility:a,style:r,classes:l,onClick:s,onHold:f,color:c,glowColor:w,canClick:_,mark:h,id:k}},t})}function $s(e){return je(()=>{const t=e();return t.id=pt("tree-"),t.type=Ms,t[$e]=gs,t.isResetting=A(!1),t.resettingNode=Pe(null),t.reset=function(n){var a,r;const i=t;i.isResetting.value=!0,i.resettingNode.value=n,(a=i.resetPropagation)==null||a.call(i,i,n),(r=i.onReset)==null||r.call(i,n),i.isResetting.value=!1,i.resettingNode.value=null},t.links=b(()=>{var i;return(i=o(t.branches))!=null?i:[]}),F(t,"visibility"),oe(t,"visibility",D.Visible),F(t,"nodes"),F(t,"leftSideNodes"),F(t,"rightSideNodes"),F(t,"branches"),t[Ie]=function(){const{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:r}=this;return{nodes:n,leftSideNodes:i,rightSideNodes:a,branches:r}},t})}const Is=function(e,t){const n=[t];let i=[t];if(e.branches!=null){const a=o(e.branches);for(;i.length>0;){const r=[];i.forEach(l=>{a.filter(s=>s.startNode===l||s.endNode===l).map(s=>s.startNode===l?s.endNode:s.startNode).filter(s=>!n.includes(s)).forEach(s=>{var f;r.includes(s)||(r.push(s),(f=s.reset)==null||f.reset())})}),i=r,n.push(...i)}}};function $n(e,t=null,n=0){const i=hn(n);return b(()=>t==null||u.gte(e.value,o(i))?Bt(e)+" "+e.displayName:`Reach ${u.eq(t.precision,0)?Re(o(i)):q(o(i),t.precision)} ${t.displayName} to unlock (You have ${u.eq(t.precision,0)?Re(t.value):q(t.value,t.precision)})`)}const Ts=Symbol("Reset");function In(e){return je(()=>{const t=e();return t.id=pt("reset-"),t.type=Ts,t.reset=function(){var i;const n=a=>{a&&typeof a=="object"&&(Dt in a?a[Dt].value=a[Pt]:!(a instanceof u)&&!de(a)&&Object.values(a).forEach(r=>n(r)))};o(t.thingsToReset).forEach(n),me.emit("reset",t),(i=t.onReset)==null||i.call(t)},F(t,"thingsToReset"),t})}const Xe={};function Fs(e,t){const n=Ge(new u(0));return me.on("addLayer",i=>{var a;e.id===i.id&&((a=Xe[e.id])==null||a.call(Xe),Xe[e.id]=e.on("preUpdate",r=>{n.value=u.add(n.value,r)}))}),me.on("reset",i=>{i===t&&(n.value=new u(0))}),n}me.on("removeLayer",e=>{var t;(t=Xe[e.id])==null||t.call(Xe),Xe[e.id]=void 0});const Ds=L({__name:"Sticky",setup(e){const t=A("0"),n=new ResizeObserver(a),i=A(null);function a(){let r=i.value;if(r==null)return;let l=0;for(;r.previousSibling;){const s=r.previousSibling;s.dataset&&"vSticky"in s.dataset&&(l+=s.offsetHeight),r=s}t.value=l+"px"}return qe(a),document.fonts.ready.then(a),Kt(()=>{var l;const r=(l=i.value)==null?void 0:l.parentElement;r&&n.observe(r)}),(r,l)=>(g(),C("div",{class:"sticky",style:ge({top:t.value}),ref_key:"element",ref:i,"data-v-sticky":""},[Ue(r.$slots,"default",{},void 0,!0)],4))}});var Ps=K(Ds,[["__scopeId","data-v-21495571"]]);const As=L({__name:"Resource",props:{resource:null,color:null},setup(e){const t=e,n=b(()=>Bt(t.resource));return(i,a)=>(g(),C("h2",{style:ge({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},G(o(n)),5))}});const Bs={class:"main-display"},Es={key:0},Vs={key:1},Os=$(", "),Tn=L({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,effectDisplay:null},setup(e){const n=pe(e),i=A(null),a=Qt(n.effectDisplay),r=b(()=>u.lt(n.resource.value,"1e1000"));return(l,s)=>(g(),U(Ps,null,{default:V(()=>{var f,c;return[d("div",{class:"main-display-container",style:ge({height:`${((c=(f=i.value)==null?void 0:f.$el.clientHeight)!=null?c:0)+50}px`})},[d("div",Bs,[o(r)?(g(),C("span",Es,"You have ")):P("",!0),p(As,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),$(" "+G(e.resource.displayName),1),o(a)?(g(),C("span",Vs,[Os,(g(),U(ce(o(a)),{ref_key:"effectRef",ref:i},null,512))])):P("",!0)])],4)]}),_:1}))}});function Fn(e,t){return F(t,"display"),F(t,"classes"),F(t,"style"),F(t,"direction"),oe(t,"direction",le.Up),F(t,"xoffset"),F(t,"yoffset"),t.pinnable&&("pinned"in e?(console.error("Cannot add pinnable tooltip to element that already has a property called 'pinned'"),t.pinnable=!1):e.pinned=t.pinned=Ge(!1)),qe(()=>{const n=e[$e];e[$e]=re;const i=e[Ie].bind(e);e[Ie]=function(){const{display:r,classes:l,style:s,direction:f,xoffset:c,yoffset:w,pinned:_}=this;return{element:{[$e]:n,[Ie]:i},display:r,classes:l,style:o(s),direction:f,xoffset:c,yoffset:w,pinned:_}}.bind(t)}),t}var Ls=L({props:{display:{type:E(Object,String,Function),required:!0},visibility:{type:E(Number),required:!0},style:E(Object,String,Array),classes:E(Object),onClick:Function,onHold:Function,canClick:{type:E(Boolean),required:!0},small:Boolean,mark:E(Boolean,String),id:{type:String,required:!0}},components:{Node:en,MarkNode:Sn},setup(e){const{display:t,onClick:n,onHold:i}=pe(e),a=Pe("");Ae(()=>{const s=ye(t);if(s==null){a.value="";return}if(rt(s)){a.value=H(s);return}const f=H(s.title||"","h3"),c=H(s.description,"div");a.value=H(Z(()=>p("span",null,[s.title?p("div",null,[p(f,null,null)]):null,p(c,null,null)])))});const{start:r,stop:l}=ui(n,i);return{start:r,stop:l,comp:a,Visibility:D,unref:o}}});function Us(e,t,n,i,a,r){var f;const l=ze("MarkNode"),s=ze("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),C("button",{key:0,style:ge([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(f=e.unref(e.style))!=null?f:[]]),onClick:t[0]||(t[0]=(...c)=>e.onClick&&e.onClick(...c)),onMousedown:t[1]||(t[1]=(...c)=>e.start&&e.start(...c)),onMouseleave:t[2]||(t[2]=(...c)=>e.stop&&e.stop(...c)),onMouseup:t[3]||(t[3]=(...c)=>e.stop&&e.stop(...c)),onTouchstartPassive:t[4]||(t[4]=(...c)=>e.start&&e.start(...c)),onTouchendPassive:t[5]||(t[5]=(...c)=>e.stop&&e.stop(...c)),onTouchcancelPassive:t[6]||(t[6]=(...c)=>e.stop&&e.stop(...c)),class:he({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(g(),U(ce(e.unref(e.comp)),{key:0})):P("",!0),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],38)):P("",!0)}var bi=K(Ls,[["render",Us],["__scopeId","data-v-5e7c90cf"]]);const Rs=Symbol("Clickable");function St(e){return je(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=pt("clickable-"),t.type=Rs,t[$e]=bi,F(t,"visibility"),oe(t,"visibility",D.Visible),F(t,"canClick"),oe(t,"canClick",!0),F(t,"classes"),F(t,"style"),F(t,"mark"),F(t,"display"),t.onClick){const i=t.onClick.bind(t);t.onClick=function(a){o(t.canClick)&&i(a)}}if(t.onHold){const i=t.onHold.bind(t);t.onHold=function(){o(t.canClick)&&i()}}return t[Ie]=function(){const{display:i,visibility:a,style:r,classes:l,onClick:s,onHold:f,canClick:c,small:w,mark:_,id:h}=this;return{display:i,visibility:a,style:o(r),classes:l,onClick:s,onHold:f,canClick:c,small:w,mark:_,id:h}},t})}function De(e,t,n=!0){const i=typeof n=="function"?b(n):n;return e.on("update",()=>{var a;o(i)&&o(t.canClick)&&((a=t.onClick)==null||a.call(t))})}function qs(e){return St(()=>{const t=e();F(t,"showNextAt"),oe(t,"showNextAt",!0),oe(t,"minimumGain",1),t.resetDescription==null?t.resetDescription=b(()=>u.lt(t.conversion.gainResource.value,1e3)?"Reset for ":""):F(t,"resetDescription"),t.display==null&&(t.display=Z(()=>p("span",null,[o(t.resetDescription),p("b",null,[Bt(t.conversion.gainResource,u.max(o(t.conversion.actualGain),o(t.minimumGain)))])," ",t.conversion.gainResource.displayName,o(t.showNextAt)?p("div",null,[p("br",null,null),o(t.conversion.buyMax)?"Next:":"Req:"," ",Bt(t.conversion.baseResource,o(t.conversion.buyMax)||u.floor(o(t.conversion.actualGain)).neq(1)?o(t.conversion.nextAt):o(t.conversion.currentAt))," ",t.conversion.baseResource.displayName]):null]))),t.canClick==null&&(t.canClick=b(()=>u.gte(o(t.conversion.actualGain),o(t.minimumGain))));const n=t.onClick;return t.onClick=function(){!o(t.canClick)||(t.conversion.convert(),t.tree.reset(t.treeNode),t.resetTime&&(t.resetTime.value=t.resetTime[Pt]),n==null||n())},t})}function Dn(e){return Ss(()=>{const t=e();return F(t,"display"),oe(t,"display",t.layerID),F(t,"append"),{...t,display:t.display,onClick:o(t.append)?function(){if(I.tabs.includes(t.layerID)){const n=I.tabs.lastIndexOf(t.layerID);I.tabs.splice(n,1)}else I.tabs.push(t.layerID)}:function(){I.tabs.splice(1,1,t.layerID)}}})}function Ke(e){if(e=new u(e),e.lt(1e100))return e;let t=e.log(1e100).add(1).log2().floor(),n=e.div(new u(1e100).pow(new u(2).pow(t).minus(1)));return new u(1e100).pow(t).mul(n.pow(new u(.5).pow(t)))}const zs=Symbol("Buyable");function ut(e){const t=Ge(0);return je(()=>{var r,l;const n=e();if(n.canPurchase==null&&(n.resource==null||n.cost==null))throw console.warn("Cannot create buyable without a canPurchase property or a resource and cost property",n),"Cannot create buyable without a canPurchase property or a resource and cost property";n.id=pt("buyable-"),n.type=zs,n[$e]=bi,n.amount=t,n.canAfford=b(()=>{const s=n,f=o(s.cost);return s.resource!=null&&f!=null&&u.gte(s.resource.value,f)}),n.canPurchase==null&&(n.canPurchase=b(()=>o(n.visibility)===D.Visible&&o(n.canAfford)&&u.lt(n.amount.value,o(n.purchaseLimit)))),n.maxed=b(()=>u.gte(n.amount.value,o(n.purchaseLimit))),F(n,"classes");const i=n.classes;n.classes=b(()=>{const s=o(i)||{};return n.maxed.value&&(s.bought=!0),s}),F(n,"canPurchase"),n.canClick=n.canPurchase,n.onClick=n.purchase=(l=(r=n.onClick)!=null?r:n.purchase)!=null?l:function(){var c;const s=n;if(!o(s.canPurchase))return;const f=o(s.cost);s.cost!=null&&s.resource!=null&&(s.resource.value=u.sub(s.resource.value,f),s.amount.value=u.add(s.amount.value,1)),(c=s.onPurchase)==null||c.call(s,f)},F(n,"display");const a=n.display;return n.display=Z(()=>{const s=o(a);if(rt(s)){const f=H(s);return p(f,null,null)}if(s!=null&&n.cost!=null&&n.resource!=null){const f=n,c=H(s.title||"","h3"),w=H(s.description||""),_=H(s.effectDisplay||"");return p("span",null,[s.title?p("div",null,[p(c,null,null)]):null,s.description?p(w,null,null):null,s.showAmount===!1?null:p("div",null,[p("br",null,null),o(f.purchaseLimit)===u.dInf?p(Y,null,[$("Amount: "),Re(f.amount.value)]):p(Y,null,[$("Amount: "),Re(f.amount.value),$(" /")," ",Re(o(f.purchaseLimit))])]),s.effectDisplay?p("div",null,[p("br",null,null),$("Currently: "),p(_,null,null)]):null,f.cost&&!f.maxed.value?p("div",null,[p("br",null,null),$("Cost: "),q(o(f.cost)||0)," ",n.resource.displayName]):null])}return""}),F(n,"visibility"),oe(n,"visibility",D.Visible),F(n,"cost"),F(n,"resource"),F(n,"purchaseLimit"),oe(n,"purchaseLimit",u.dInf),F(n,"style"),F(n,"mark"),F(n,"small"),n[Ie]=function(){const{display:s,visibility:f,style:c,classes:w,onClick:_,canClick:h,small:k,mark:S,id:x}=this;return{display:s,visibility:f,style:o(c),classes:w,onClick:_,canClick:h,small:k,mark:S,id:x}},n})}var js=L({props:{display:{type:E(String,Object,Function),required:!0},visibility:{type:E(Number),required:!0},style:E(String,Object,Array),classes:E(Object),resource:Object,cost:E(String,Object,Number),canPurchase:{type:E(Boolean),required:!0},bought:{type:E(Boolean),required:!0},mark:E(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:en,MarkNode:Sn},setup(e){const{display:t,cost:n}=pe(e),i=Pe("");return Ae(()=>{const a=ye(t);if(a==null){i.value="";return}if(rt(a)){i.value=H(a);return}const r=ye(n),l=H(a.title||"","h3"),s=H(a.description,"div"),f=H(a.effectDisplay||"");i.value=H(Z(()=>{var c;return p("span",null,[a.title?p("div",null,[p(l,null,null)]):null,p(s,null,null),a.effectDisplay?p("div",null,[$("Currently: "),p(f,null,null)]):null,e.resource!=null?p(Y,null,[p("br",null,null),$("Cost: "),e.resource&&Bt(e.resource,r)," ",(c=e.resource)==null?void 0:c.displayName]):null])}))}),{component:i,unref:o,Visibility:D}}});const Gs=["disabled"];function Hs(e,t,n,i,a,r){var f;const l=ze("MarkNode"),s=ze("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),C("button",{key:0,style:ge([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(f=e.unref(e.style))!=null?f:{}]),onClick:t[0]||(t[0]=(...c)=>e.purchase&&e.purchase(...c)),class:he({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(g(),U(ce(e.unref(e.component)),{key:0})):P("",!0),p(l,{mark:e.unref(e.mark)},null,8,["mark"]),p(s,{id:e.id},null,8,["id"])],14,Gs)):P("",!0)}var Ws=K(js,[["render",Hs],["__scopeId","data-v-7742f590"]]);const Ys=Symbol("Upgrade");function ie(e){const t=Ge(!1);return je(()=>{const n=e();return n.id=pt("upgrade-"),n.type=Ys,n[$e]=Ws,n.canAfford==null&&(n.resource==null||n.cost==null)&&console.warn("Error: can't create upgrade without a canAfford property or a resource and cost property",n),n.bought=t,n.canAfford==null?n.canAfford=b(()=>{const i=n;return i.resource!=null&&i.cost!=null&&u.gte(i.resource.value,o(i.cost))}):F(n,"canAfford"),n.canPurchase=b(()=>o(n.visibility)===D.Visible&&o(n.canAfford)&&!o(n.bought)),n.purchase=function(){var a;const i=n;!o(i.canPurchase)||(i.resource!=null&&i.cost!=null&&(i.resource.value=u.sub(i.resource.value,o(i.cost))),t.value=!0,(a=i.onPurchase)==null||a.call(i))},F(n,"visibility"),oe(n,"visibility",D.Visible),F(n,"classes"),F(n,"style"),F(n,"display"),F(n,"mark"),F(n,"cost"),F(n,"resource"),n[Ie]=function(){const{display:i,visibility:a,style:r,classes:l,resource:s,cost:f,canPurchase:c,bought:w,mark:_,id:h,purchase:k}=this;return{display:i,visibility:a,style:o(r),classes:l,resource:s,cost:f,canPurchase:c,bought:w,mark:_,id:h,purchase:k}},n})}var Zs=L({props:{visibility:{type:E(Number),required:!0},display:{type:E(String,Object,Function),required:!0},style:E(String,Object,Array),classes:E(Object),earned:{type:E(Boolean),required:!0},id:{type:String,required:!0}},components:{Node:en},setup(e){const{display:t}=pe(e),n=Pe("");return Ae(()=>{const i=ye(t);if(i==null){n.value="";return}if(rt(i)){n.value=H(i);return}const a=H(i.requirement,"h3"),r=H(i.effectDisplay||"","b"),l=H(i.optionsDisplay||"","span");n.value=H(Z(()=>p("span",null,[p(a,null,null),i.effectDisplay?p("div",null,[p(r,null,null)]):null,i.optionsDisplay?p("div",{class:"equal-spaced"},[p(l,null,null)]):null])))}),{comp:n,unref:o,Visibility:D}}});function Ks(e,t,n,i,a,r){var s;const l=ze("Node");return e.unref(e.visibility)!==e.Visibility.None?(g(),C("div",{key:0,style:ge([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(s=e.unref(e.style))!=null?s:{}]),class:he({feature:!0,milestone:!0,done:e.unref(e.earned),...e.unref(e.classes)})},[(g(),U(ce(e.unref(e.comp)))),p(l,{id:e.id},null,8,["id"])],6)):P("",!0)}var Js=K(Zs,[["render",Ks],["__scopeId","data-v-f4e8794e"]]);me.on("setupVue",e=>e.use(Ei));const Xs=Kn(),Qs=Symbol("Milestone");let Qe;(function(e){e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none"})(Qe||(Qe={}));function _t(e){const t=Ge(!1);return je(()=>{var a;const n=(a=e==null?void 0:e())!=null?a:{};n.id=pt("milestone-"),n.type=Qs,n[$e]=Js,n.earned=t,n.complete=function(){t.value=!0},F(n,"visibility"),oe(n,"visibility",D.Visible);const i=n.visibility;if(n.visibility=b(()=>{const r=o(n.display);switch(te.msDisplay){default:case Qe.All:return o(i);case Qe.Configurable:return o(n.earned)&&!(r!=null&&typeof r=="object"&&"optionsDisplay"in r)?D.None:o(i);case Qe.Incomplete:return o(n.earned)?D.None:o(i);case Qe.None:return D.None}}),F(n,"style"),F(n,"classes"),F(n,"display"),n[Ie]=function(){const{visibility:r,display:l,style:s,classes:f,earned:c,id:w}=this;return{visibility:r,display:l,style:o(s),classes:f,earned:c,id:w}},n.shouldEarn){const r=n;Ae(()=>{var l,s;if(te.active===I.id&&!r.earned.value&&o(r.visibility)===D.Visible&&((l=r.shouldEarn)==null?void 0:l.call(r))&&(r.earned.value=!0,(s=r.onComplete)==null||s.call(r),r.display)){const f=o(r.display),c=H(rt(f)?f:f.requirement);Xs(p(Y,null,[p("h3",null,[$("Milestone earned!")]),p("div",null,[p(c,null,null)])]))}})}return n})}me.on("loadSettings",e=>{oe(e,"msDisplay",Qe.All)});const el=Object.values(Qe).map(e=>({label:ii(e),value:e}));Oa(Z(()=>p(Cn,{title:"Show Milestones",options:el,"onUpdate:modelValue":e=>te.msDisplay=e,modelValue:te.msDisplay},null)));const Gn="m",ft=Vt(Gn,function(){const e="Matter",t="#336BDC";function n(T,dn,ki){return function(){if(!T.amount)return u.dInf;let Rt=T.amount.value;Rt=u.sub(Rt,Ne.value);let cn=u.pow(dn,u.mul(u.sign(Rt),u.pow(u.abs(Rt),ki)));return cn=u.div(cn,Lt.value),cn}}const i=b(()=>u.clamp(u.add(u.div(un.value,60),1),1,1e3)),a=ie(()=>({resource:X,cost:1e4,display:{title:"Sine Boost",description:"Multiply Sine's minimum by 1.5 and maximum by 2, per upgrade bought"}})),r=ie(()=>({resource:X,cost:1e7,display:{title:"Sine Foundation",description:"Multiply Sine's minimum by 1.02 and maximum by 1.05, per Foundation bought"}})),l=ie(()=>({resource:X,cost:1e3,display:{title:"Logarithm Unlock",description:"Unlock Logarithm, which increases Foundation's effect based on matter"}})),s=ie(()=>({resource:X,cost:1e5,display:{title:"Logarithm Boost",description:"Increase Logarithm's exponent by 0.25 per upgrade bought"},visibility(){return l.bought.value?D.Visible:D.None}})),f=ie(()=>({resource:X,cost:1e18,display:{title:"Logarithm Foundation",description:"Increase Logarithm's exponent by 0.01 per Foundation bought, up to 40"},visibility(){return l.bought.value?D.Visible:D.None}})),c=ie(()=>({resource:X,cost:1e11,display:{title:"Cosine Unlock",description:"Unlock Cosine, which decreases buyable levels for cost purposes"},visibility(){return l.bought.value?D.Visible:D.None}})),w=ie(()=>({resource:X,cost:1e12,display:{title:"Cosine Boost",description:"Increase Cosine's limit by 0.01 per upgrade bought"},visibility(){return c.bought.value?D.Visible:D.None}})),_=ie(()=>({resource:X,cost:1e39,display:{title:"Cosine Foundation",description:"Increase Cosine's limit by 0.0001 per Foundation bought, up to 0.2"},visibility(){return c.bought.value?D.Visible:D.None}})),h=ie(()=>({resource:X,cost:1e14,display:{title:"Exponential Unlock",description:"Unlock Exponential, which decreases buyable costs"},visibility(){return c.bought.value?D.Visible:D.None}})),k=ie(()=>({resource:X,cost:1e16,display:{title:"Exponential Boost",description:"Gain 10 free levels of Exponential per upgrade bought"},visibility(){return h.bought.value?D.Visible:D.None}})),S=ie(()=>({resource:X,cost:1e53,display:{title:"Exponential Foundation",description:"Increase Exponential's effect by 0.00001 per Foundation bought, up to 0.02"},visibility(){return h.bought.value?D.Visible:D.None}})),x=ie(()=>({resource:X,cost:1e30,display:{title:"Hyperbolic Unlock",description:"Unlock Hyperbolic, which increases Sine's min and max based on matter"},visibility(){return h.bought.value?D.Visible:D.None}})),O=ie(()=>({resource:X,cost:1e48,display:{title:"Hyperbolic Boost",description:"Increase Hyperbolic's exponent to minimum 0.01 per upgrade bought"},visibility(){return x.bought.value?D.Visible:D.None}})),ue=ie(()=>({resource:X,cost:1e77,display:{title:"Hyperbolic Foundation",description:"Increase Hyperbolic's effect by 0.00001 per Foundation bought, up to 0.03"},visibility(){return x.bought.value?D.Visible:D.None}})),y=ie(()=>({resource:X,cost:1e100,display:{title:"Antimatter Unlock",description:"Unlock Antimatter, which is a new layer"},visibility(){return x.bought.value?D.Visible:D.None}})),M={sineBoost:a,sineFoundation:r,logarithmUnlock:l,logarithmBoost:s,logarithmFoundation:f,cosineUnlock:c,cosineBoost:w,cosineFoundation:_,exponentialUnlock:h,exponentialBoost:k,exponentialFoundation:S,hyperbolicUnlock:x,hyperbolicBoost:O,hyperbolicFoundation:ue,antimatterUnlock:y},z=b(()=>Object.values(M).filter(T=>T.bought.value).length),ve=b(()=>{let T=new u(1);return T=T.add(u.mul(Te.amount.value,bt.value)),T}),J=ut(()=>({resource:X,cost:n(J,1.2,1.02),display(){return{title:"Foundation",description:`Increases length by ${q(ve.value)}`}}})),vt=b(()=>{let T=new u(1);return s.bought.value&&(T=T.add(u.div(z.value,4))),f.bought.value&&(T=T.add(u.min(40,u.div(J.amount.value,100)))),T}),bt=b(()=>Ke(u.div(u.pow(u.log10(u.max(100,X.value)),vt.value),10))),Te=ut(()=>({resource:X,cost:n(Te,1.4,1.02),display(){return{title:"Logarithm",description:`Increases Foundation's effect by log<sub>10</sub>(matter)<sup>${q(vt.value)}</sup>/10<br>
                    Currently ${q(bt.value)}`}},visibility(){return l.bought.value?D.Visible:D.None}})),yt=b(()=>{let T=new u(1.05);return S.bought.value&&(T=u.add(T,u.min(.02,u.mul(J.amount.value,1e-5)))),T}),Lt=b(()=>{let T=Ee.amount.value;return k.bought.value&&(T=u.add(T,u.mul(z.value,10))),Ke(u.pow(yt.value,T))}),Ee=ut(()=>({resource:X,cost:n(Ee,1.6,1.02),display(){return{title:"Exponential",description:`Divides all matter buyable costs by ${q(yt.value)}`}},visibility(){return h.bought.value?D.Visible:D.None}})),Ut=b(()=>{let T=new u(.1);return T=T.mul(u.pow(Ve.value,fe.value)),r.bought.value&&(T=T.mul(u.pow(1.02,J.amount.value))),a.bought.value&&(T=T.mul(u.pow(1.5,z.value))),Ke(T)}),ot=b(()=>{let T=new u(1);return T=T.mul(Ve.value),r.bought.value&&(T=T.mul(u.pow(1.05,J.amount.value))),a.bought.value&&(T=T.mul(u.pow(2,z.value))),Ke(T)}),nn=b(()=>(Math.sin(I.time*Math.PI/180/120)+1)/2),Ct=b(()=>{const T=u.log10(Ut.value),dn=u.log10(ot.value).minus(T);return u.dTen.pow(T.plus(dn.mul(nn.value)))}),We=ut(()=>({resource:X,cost:n(We,1.25,1.05),display(){return{title:"Sine",description:`Increases width by between ${q(Ut.value)} to ${q(ot.value)}<br>
                    Currently ${q(Ct.value)}`}}})),N=b(()=>(Math.cos(I.time*Math.PI/180/120)+1)/2),j=b(()=>{let T=new u(.15);return w.bought.value&&(T=u.add(T,u.div(z.value,100))),_.bought.value&&(T=u.add(T,u.min(u.mul(J.amount.value,1e-4),.2))),T}),ne=b(()=>u.mul(N.value,j.value)),Ne=b(()=>u.mul(se.amount.value,ne.value)),se=ut(()=>({resource:X,cost:n(se,1.5,1.05),display(){return{title:"Cosine",description:`Decreases buyable count for cost purposes of all matter buyables, by up to ${q(j.value)}<br>
                    Currently ${q(ne.value)}`}},visibility(){return c.bought.value?D.Visible:D.None}})),Fe=b(()=>{let T=new u(1.03);return ue.bought.value&&(T=u.add(T,u.min(.03,u.mul(J.amount.value,1e-5)))),T}),Ve=b(()=>Ke(u.pow(Fe.value,ee.amount.value))),fe=b(()=>{let T=new u(.5);return O.bought.value&&(T=T.add(u.div(z.value,100))),T}),ee=ut(()=>({resource:X,cost:n(ee,1.75,1.05),display(){return{title:"Hyperbolic",description:`Multiply Sine's maximum by ${q(Fe.value)}, and min by ^${q(fe.value)} of that`}},visibility(){return x.bought.value?D.Visible:D.None}})),_e={foundation:J,logarithm:Te,exponential:Ee,sine:We,cosine:se,hyperbolic:ee},Oe=_t(()=>({shouldEarn(){return u.gte(J.amount.value,200)},display:{requirement:"200 Foundation",effectDisplay:"Autobuy Foundation"},style:{width:"250px"}})),an=_t(()=>({shouldEarn(){return u.gte(Te.amount.value,200)},display:{requirement:"200 Logarithm",effectDisplay:"Autobuy Logarithm"},style:{width:"250px"},visibility(){return l.bought.value?D.Visible:D.None}})),rn=_t(()=>({shouldEarn(){return u.gte(Ee.amount.value,200)},display:{requirement:"200 Exponential",effectDisplay:"Autobuy Exponential"},style:{width:"250px"},visibility(){return h.bought.value?D.Visible:D.None}})),on=_t(()=>({shouldEarn(){return u.gte(We.amount.value,200)},display:{requirement:"200 Sine",effectDisplay:"Autobuy Sine"},style:{width:"250px"}})),sn=_t(()=>({shouldEarn(){return u.gte(se.amount.value,200)},display:{requirement:"200 Cosine",effectDisplay:"Autobuy Cosine"},style:{width:"250px"},visibility(){return c.bought.value?D.Visible:D.None}})),ln=_t(()=>({shouldEarn(){return u.gte(ee.amount.value,200)},display:{requirement:"200 Hyperbolic",effectDisplay:"Autobuy Hyperbolic"},style:{width:"250px"},visibility(){return x.bought.value?D.Visible:D.None}}));De(this,J,Oe.earned),De(this,Te,an.earned),De(this,Ee,rn.earned),De(this,We,on.earned),De(this,se,sn.earned),De(this,ee,ln.earned);const wi={foundation:Oe,logarithm:an,exponential:rn,sine:on,cosine:sn,hyperbolic:ln},An=b(()=>{let T=i.value;return T=T.add(u.mul(J.amount.value,ve.value)),T}),Bn=b(()=>{let T=i.value;return T=T.add(u.mul(Ct.value,We.amount.value)),T}),En=b(()=>i.value),X=At(b(()=>u.mul(u.mul(An.value,Bn.value),En.value)),"matter"),Vn=In(()=>({thingsToReset:()=>[ft]})),On=Dn(()=>({layerID:Gn,color:t,reset:Vn}));Fn(On,{display:$n(X),pinnable:!0});const un=Fs(this,Vn),Ni=Z(()=>p(Y,null,[p("span",null,[p("div",null,[$("The dimensional generator has ran for "),q(un.value),$(" seconds.")]),p("div",null,[$("This results in +"),p("span",null,[q(i.value)]),$(" to all directions")])])]));return{name:e,color:t,points:X,display:Z(()=>p(Y,null,[p("table",null,[p("tr",null,[p("td",{style:"color: #336BDC"},[$("length")]),p("td",{style:"width: 2em"},[$("x")]),p("td",{style:"color: #336BDC"},[$("width")]),p("td",{style:"width: 2em"},[$("x")]),p("td",{style:"color: #336BDC"},[$("height")])]),p("tr",null,[p("td",{style:"color: #336BDC"},[q(An.value)]),p("td",null,[$("x")]),p("td",{style:"color: #336BDC"},[q(Bn.value)]),p("td",null,[$("x")]),p("td",{style:"color: #336BDC"},[q(En.value)])])]),p(Tn,{resource:X,color:t},null),Be(Ni),Le(J,Te,Ee),Le(We,se,ee),Le(a,s,w,k,O),Le(r,f,_,S,ue),Le(l,c,h,x,y),Le(Oe,an,rn),Le(on,sn,ln)])),treeNode:On,upgradeData:M,buyableData:_e,milestoneData:wi,resetTime:un}}),Hn="am",nt=Vt(Hn,function(){const e="Antimatter",t="#DC336B",n=At(10,"antimatter");function i(N){let j=y.value[N-1];return u.add(j==null?void 0:j.antimatterBoughtCount,j==null?void 0:j.specialBoughtCount)}function a(N){return u.pow10((N+1)*N/2)}function r(N){let j=Math.floor((N-1)/3)+1,ne=(N-1)%3*j;return u.pow10((j-1)*j*3/2+ne+3)}function l(N,j){let ne=a(N),Ne=r(N);return function(){let se=j.value;return ne.mul(Ne.pow(se))}}let s=[];function f(N){return s[N]||(s[N]=b(()=>{var j;return(j=y.value[N-1])==null?void 0:j.count})),s[N]}function c(N,j){var ne;y.value[N-1].count=u.add((ne=y.value[N-1])==null?void 0:ne.count,j)}function w(){return{count:u.dZero,antimatterBoughtCount:u.dZero,specialBoughtCount:u.dZero}}const _=b(()=>{let N=u.pow(1.5,J.amount.value);return vt.bought.value&&(N=N.mul(x.value)),Te.bought.value&&(N=N.mul(O.value)),N});function h(N){return b(()=>Ke(u.mul(_.value,u.pow(2,i(N)))))}const k=N=>{const j=b(()=>{var ee;return(ee=y.value[N-1])==null?void 0:ee.antimatterBoughtCount}),ne=l(N,j),Ne=b(()=>{var ee;return(ee=y.value[N-1])==null?void 0:ee.specialBoughtCount}),se=l(N-1,Ne),Fe=f(N-2),Ve={multiplier:h(N),antimatterClickable:St(()=>({display:Z(()=>p(Y,null,[$("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),$("Costs "),q(ne()),p("br",null,null),p("br",null,null),q(j.value),$(" Bought")])),canClick:b(()=>u.gte(n.value,ne())),onClick(){var _e,Oe;let ee=ne();u.gte(n.value,ee)&&(n.value=u.sub(n.value,ee),y.value[N-1].antimatterBoughtCount=u.add((_e=y.value[N-1])==null?void 0:_e.antimatterBoughtCount,1),y.value[N-1].count=u.add((Oe=y.value[N-1])==null?void 0:Oe.count,1))}})),specialClickable:St(()=>({display:Z(()=>p(Y,null,[$("Buy dimension with dimension "),N-2,p("br",null,null),p("br",null,null),$("Costs "),q(se()),p("br",null,null),p("br",null,null),q(Ne.value),$(" Bought")])),canClick:b(()=>u.gte(Fe.value,se())),onClick(){var _e,Oe;let ee=se();u.gte(Fe.value,ee)&&(y.value[N-3].count=u.sub(Fe.value,ee),y.value[N-1].specialBoughtCount=u.add((_e=y.value[N-1])==null?void 0:_e.specialBoughtCount,1),y.value[N-1].count=u.add((Oe=y.value[N-1])==null?void 0:Oe.count,1))}}))},fe=b(()=>u.gte(ot.value,N));return De(this,Ve.antimatterClickable,fe),De(this,Ve.specialClickable,fe),Ve},S=N=>{const j=b(()=>{var fe;return(fe=y.value[N-1])==null?void 0:fe.antimatterBoughtCount}),ne=l(N,j),Ne=b(()=>{var fe;return(fe=y.value[N-1])==null?void 0:fe.specialBoughtCount}),se=l(N,Ne),Fe={multiplier:h(N),antimatterClickable:St(()=>({display:Z(()=>p(Y,null,[$("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),$("Costs "),q(ne()),p("br",null,null),p("br",null,null),q(j.value),$(" Bought")])),canClick:b(()=>u.gte(n.value,ne())),onClick(){var ee,_e;let fe=ne();u.gte(n.value,fe)&&(n.value=u.sub(n.value,fe),y.value[N-1].antimatterBoughtCount=u.add((ee=y.value[N-1])==null?void 0:ee.antimatterBoughtCount,1),y.value[N-1].count=u.add((_e=y.value[N-1])==null?void 0:_e.count,1))}})),specialClickable:St(()=>({display:Z(()=>p(Y,null,[$("Buy dimension with antimatter"),p("br",null,null),p("br",null,null),$("Costs "),q(se()),p("br",null,null),p("br",null,null),q(Ne.value),$(" Bought")])),canClick:b(()=>u.gte(n.value,se())),onClick(){var ee,_e;let fe=se();u.gte(n.value,fe)&&(n.value=u.sub(n.value,fe),y.value[N-1].specialBoughtCount=u.add((ee=y.value[N-1])==null?void 0:ee.specialBoughtCount,1),y.value[N-1].count=u.add((_e=y.value[N-1])==null?void 0:_e.count,1))}}))},Ve=b(()=>u.gte(ot.value,N));return De(this,Fe.antimatterClickable,Ve),De(this,Fe.specialClickable,Ve),Fe},x=b(()=>u.min(u.add(4,J.amount.value),O.value)),O=b(()=>8),ue=[1,2],y=Ge([w(),w()]),M=[S(1),S(2)];function z(){let N=x.value.floor().toNumber();for(;M.length<N;)M.push(k(M.length+1));for(;M.length>N;)M.pop();for(;ue.length<N;)ue.push(ue.length+1);for(;ue.length>N;)ue.pop();for(;y.value.length<N;)y.value.push(w());for(;y.value.length>N;)y.value.pop()}const ve=At(b(()=>f(x.value.toNumber()).value),"dimension 4"),J=ut(()=>({resource:ve,cost:b(()=>{let N=u.sub(J.amount.value,u.sub(O.value,4));return u.add(u.mul(u.max(N,0),4),2)}),display(){return u.eq(x.value,O.value)?{title:"Dimension Boost",description:"Reset dimensions and antimatter, but multiply all dimensions by 1.5"}:{title:"Dimension Shift",description:"Reset dimensions and antimatter, but unlock a new dimension, and multiply all dimensions by 1.5"}},onPurchase(){n.value=u.dTen,ue.forEach(N=>{y.value[N-1]=w()})}}));Ce(x,()=>{var N;z(),ve.displayName=`dimension ${(N=x.value)==null?void 0:N.toNumber()}`});const vt=ie(()=>({resource:n,cost:100,display:{title:"Low Dimensionality",description:"Multiply each dimension by the amount of dimensions currently available"}})),bt=ie(()=>({resource:n,cost:1e25,display:{title:"Upgrade Autobuyer",description:"Gain 1 Dimension Autobuyer per Upgrade Bought"}})),Te=ie(()=>({resource:n,cost:1e50,display:{title:"High Dimensionality",description:"Multiply each dimension by the amount of dimensions currently available"}})),yt=ie(()=>({resource:n,cost:1e75,display:{title:"Shifting Autobuyer",description:"Gain 0.5 Dimension Autobuyer per Dimension Boost/Shift"}})),Lt=ie(()=>({resource:n,cost:1e100,display:{title:"Exotic Matter Unlock",description:"Unlock Exotic Matter, which is a new layer"}})),Ee={lowDimensionality:vt,upgradeAutobuyer:bt,highDimensionality:Te,shiftingAutobuyer:yt,exoticMatterUnlock:Lt},Ut=b(()=>Object.values(Ee).filter(N=>N.bought.value).length),ot=b(()=>{let N=u.dZero;return bt.bought.value&&(N=N.add(Ut.value)),yt.bought.value&&(N=N.add(u.div(J.amount.value,2))),N}),nn=In(()=>({thingsToReset:()=>[nt]})),Ct=Dn(()=>({layerID:Hn,color:t,reset:nn,visibility:b(()=>ft.upgradeData.antimatterUnlock.bought.value?D.Visible:D.None)}));Fn(Ct,{display:$n(n),pinnable:!0}),me.on("onLoad",()=>{z()}),this.on("preUpdate",N=>{n.value=u.add(n.value,u.mul(N,u.mul(Ke(f(1).value),M[0].multiplier.value)));for(let j=2;j<=ue.length;j++)c(j-1,u.mul(N,u.mul(Ke(f(j).value),M[j-1].multiplier.value)))});const We=Z(()=>p("table",null,[ue.map(N=>{var j,ne,Ne,se;return p("tr",null,[p("td",null,[$("Dimension "),N]),p("td",{style:"color: #DC336B"},[q(f(N).value)]),p("td",null,[$("x"),q((ne=(j=M[N-1])==null?void 0:j.multiplier)==null?void 0:ne.value)]),p("td",null,[Be((Ne=M[N-1])==null?void 0:Ne.antimatterClickable)]),p("td",null,[Be((se=M[N-1])==null?void 0:se.specialClickable)])])})]));return{name:e,color:t,points:n,display:Z(()=>p(Y,null,[p("div",null,[$("Each Dimension produces the dimension before it")]),p(Tn,{resource:n,color:t},null),ot.value.gt(0)?`You have ${q(ot.value)} dimension autobuyers`:"",Be(We),Le(J),Le(vt,bt,Te,yt,Lt)])),treeNode:Ct,dimensionPersistent:y,dimensionShiftBuyable:J,upgradeData:Ee}});function tl(e){return je(()=>{const t=e();return t.currentGain==null&&(t.currentGain=b(()=>{let n=t.gainModifier?t.gainModifier.apply(t.scaling.currentGain(t)):t.scaling.currentGain(t);return n=u.floor(n).max(0),o(t.buyMax)||(n=n.min(1)),n})),t.actualGain==null&&(t.actualGain=t.currentGain),t.currentAt==null&&(t.currentAt=b(()=>{let n=t.scaling.currentAt(t);return t.roundUpCost&&(n=u.ceil(n)),n})),t.nextAt==null&&(t.nextAt=b(()=>{let n=t.scaling.nextAt(t);return t.roundUpCost&&(n=u.ceil(n)),n})),t.convert==null&&(t.convert=function(){var i;const n=o(t.currentGain);t.gainResource.value=u.add(t.gainResource.value,n),t.spend(n),(i=t.onConvert)==null||i.call(t,n)}),t.spend==null&&(t.spend=function(){t.baseResource.value=0}),F(t,"currentGain"),F(t,"actualGain"),F(t,"currentAt"),F(t,"nextAt"),F(t,"buyMax"),oe(t,"buyMax",!0),F(t,"roundUpCost"),oe(t,"roundUpCost",!0),t})}function nl(e,t){const n=hn(e),i=hn(t);return{currentGain(a){let r=o(a.baseResource.value);if(a.costModifier&&(r=a.costModifier.apply(r)),u.lt(r,o(n)))return 0;const l=u.pow(o(n),u.div(r,o(i)).sub(1));return l.isNan()?0:l},currentAt(a){let r=o(a.currentGain);return a.gainModifier&&(r=a.gainModifier.revert(r)),r=u.max(0,r).log(o(n)).add(1).mul(o(i)),a.costModifier&&(r=a.costModifier.revert(r)),r},nextAt(a){let r=u.add(o(a.currentGain),1).floor();return a.gainModifier&&(r=a.gainModifier.revert(r)),r=u.max(0,r).log(o(n)).add(1).mul(o(i)).max(o(i)),a.costModifier&&(r=a.costModifier.revert(r)),r}}}function il(e){return tl(e)}const al={key:0},rl=$(" = "),ol=L({__name:"MatterProductDisplay",setup(e){const t=b(()=>[ft,nt].filter(n=>o(n.treeNode.visibility)===D.Visible));return(n,i)=>(g(),C("div",null,[(g(!0),C(Y,null,yn(o(t),(a,r)=>(g(),C(Y,{key:a.id},[d("span",{style:ge("color: "+a.color)},G(o(q)(o(u).log10(o(a.points)))),5),r!==o(t).length-1?(g(),C("span",al,"+")):P("",!0)],64))),128)),rl,d("span",{style:ge("color: "+o(et).color)},G(o(q)(o(o(et).matterProduct))),5)]))}}),Wn="i",et=Vt(Wn,()=>{const e="Infinity",t="#CFCFCF",n=At(0,"infinity points"),i=us(n),a=b(()=>{let w=u.log10(u.add(ft.points.value,1));return w=w.add(u.log10(u.add(nt.points.value,1))),w}),r=At(a,"matter product"),l=il(()=>({scaling:nl(10,308),baseResource:r,gainResource:n,roundUpCost:!0})),s=In(()=>({thingsToReset:()=>[et]})),f=Dn(()=>({layerID:Wn,color:t,reset:s,visibility:b(()=>u.gt(i.value,0)?D.Visible:nt.treeNode.visibility.value)}));Fn(f,{display:$n(n),pinnable:!0});const c=qs(()=>({conversion:l,tree:Pn.tree,treeNode:f}));return{name:e,color:t,points:n,best:i,display:Z(()=>p(Y,null,[p(ol,null,null),p(Tn,{resource:n,color:t},null),Be(c)])),treeNode:f,matterProduct:a}}),Pn=Vt("main",()=>{const e=$s(()=>({nodes:[[ft.treeNode,nt.treeNode],[et.treeNode]],branches:[{startNode:ft.treeNode,endNode:et.treeNode},{startNode:nt.treeNode,endNode:et.treeNode}],onReset(){},resetPropagation:Is}));return{name:"Tree",links:e.links,display:Z(()=>p(Y,null,[I.devSpeed===0?p("div",null,[$("Game Paused")]):null,I.devSpeed&&I.devSpeed!==1?p("div",null,[$("Dev Speed: "),q(I.devSpeed),$("x")]):null,I.offlineTime?p("div",null,[$("Offline Time: "),Jt(I.offlineTime)]):null,p(ls,null,null),Be(e)])),tree:e}}),sl=e=>[Pn,ft,nt,et],yi=b(()=>nt.upgradeData.exoticMatterUnlock.bought.value||u.gt(et.points.value,0));function ll(e,t){}var _i=Object.freeze(Object.defineProperty({__proto__:null,main:Pn,getInitialLayers:sl,hasWon:yi,fixOldSave:ll},Symbol.toStringTag,{value:"Module"}));const Ot=e=>(it("data-v-4a50ce42"),e=e(),at(),e),ul={class:"game-over-modal-header"},dl=["src","alt"],cl={class:"game-over-modal-title"},fl=Ot(()=>d("h2",null,"Congratulations!",-1)),pl={key:0},ml=Ot(()=>d("br",null,null,-1)),hl=Ot(()=>d("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),gl=Ot(()=>d("br",null,null,-1)),vl=["href"],bl=Ot(()=>d("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),yl=L({__name:"GameOverScreen",setup(e){const{title:t,logo:n,discordName:i,discordLink:a,versionNumber:r,versionTitle:l}=W,s=b(()=>Jt(I.timePlayed)),f=b(()=>yi.value&&!I.keepGoing),c=tt(I,"autosave");function w(){I.keepGoing=!0}function _(){dt(kt())}return(h,k)=>(g(),U(mt,{"model-value":o(f)},{header:V(()=>[d("div",ul,[o(n)?(g(),C("img",{key:0,class:"game-over-modal-logo",src:o(n),alt:o(t)},null,8,dl)):P("",!0),d("div",cl,[fl,d("h4",null,"You've beaten "+G(o(t))+" v"+G(o(r))+": "+G(o(l)),1)])])]),body:V(({shown:S})=>[S?(g(),C("div",pl,[d("div",null,"It took you "+G(o(s))+" to beat the game.",1),ml,hl,gl,d("div",null,[d("a",{href:o(a),class:"game-over-modal-discord-link"},[bl,$(" "+G(o(i)),1)],8,vl)]),p(Ze,{title:"Autosave",modelValue:o(c),"onUpdate:modelValue":k[0]||(k[0]=x=>de(c)?c.value=x:null)},null,8,["modelValue"])])):P("",!0)]),footer:V(()=>[d("div",{class:"game-over-footer"},[d("button",{onClick:w,class:"button"},"Keep Going"),d("button",{onClick:_,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var _l=K(yl,[["__scopeId","data-v-4a50ce42"]]);const tn=e=>(it("data-v-3de07c06"),e=e(),at(),e),wl=tn(()=>d("div",{class:"nan-modal-header"},[d("h2",null,"NaN value detected!")],-1)),Nl={key:0},kl=tn(()=>d("br",null,null,-1)),xl=["href"],Cl=tn(()=>d("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Ml=tn(()=>d("br",null,null,-1)),Sl={class:"nan-footer"},$l=L({__name:"NaNScreen",setup(e){const{discordName:t,discordLink:n}=W,i=tt(I,"autosave"),a=tt(Q,"hasNaN"),r=A(null),l=b(()=>{var k;return(k=Q.NaNPath)==null?void 0:k.join(".")}),s=b(()=>{var k;return(k=Q.NaNPath)==null?void 0:k.slice(-1)[0]}),f=b(()=>Q.NaNReceiver&&s.value?Q.NaNReceiver[s.value]:null),c=b({get(){return I.devSpeed===0},set(k){I.devSpeed=k?null:0}});function w(){Q.NaNReceiver&&s.value&&(Q.NaNReceiver[s.value]=new u(0),Q.hasNaN=!1)}function _(){Q.NaNReceiver&&s.value&&(Q.NaNReceiver[s.value]=new u(1),Q.hasNaN=!1)}function h(){Q.NaNReceiver&&s.value&&(Q.NaNReceiver[s.value]=new u(NaN),Q.hasNaN=!1)}return(k,S)=>(g(),C(Y,null,[p(mt,ct({modelValue:o(a),"onUpdate:modelValue":S[4]||(S[4]=x=>de(a)?a.value=x:null)},k.$attrs),{header:V(()=>[wl]),body:V(()=>[d("div",null,[$(' Attempted to assign "'+G(o(l))+'" to NaN',1),o(f)?(g(),C("span",Nl,G(" ")+"(previously "+G(o(q)(o(f)))+")",1)):P("",!0),$(". Auto-saving has been "+G(o(i)?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),kl,d("div",null,[d("a",{href:o(n),class:"nan-modal-discord-link"},[Cl,$(" "+G(o(t)),1)],8,xl)]),Ml,p(Ze,{title:"Autosave",modelValue:o(i),"onUpdate:modelValue":S[0]||(S[0]=x=>de(i)?i.value=x:null)},null,8,["modelValue"]),o(W).enablePausing?(g(),U(Ze,{key:0,title:"Pause game",modelValue:o(c),"onUpdate:modelValue":S[1]||(S[1]=x=>de(c)?c.value=x:null)},null,8,["modelValue"])):P("",!0)]),footer:V(()=>[d("div",Sl,[d("button",{onClick:S[2]||(S[2]=x=>{var O;return(O=r.value)==null?void 0:O.open()}),class:"button"},"Open Saves Manager"),d("button",{onClick:w,class:"button"},"Set to 0"),d("button",{onClick:_,class:"button"},"Set to 1"),o(f)&&o(u).neq(o(f),0)&&o(u).neq(o(f),1)?(g(),C("button",{key:0,onClick:S[3]||(S[3]=x=>a.value=!1),class:"button"}," Set to previous ")):P("",!0),d("button",{onClick:h,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),p(gi,{ref_key:"savesManager",ref:r},null,512)],64))}});var Il=K($l,[["__scopeId","data-v-3de07c06"]]);const Tl={key:0,class:"tpsDisplay"},Fl={key:0,class:"low"},Dl=L({__name:"TPS",setup(e){const t=b(()=>u.div(Q.lastTenTicks.length,Q.lastTenTicks.reduce((r,l)=>r+l,0))),n=A([]);Ae(()=>{n.value.push(Math.round(t.value.toNumber())),n.value.length>10&&(n.value=n.value.slice(1))});const i=b(()=>n.value.reduce((r,l)=>u.max(r,l),0)),a=b(()=>u.sub(t.value,i.value).gt(1));return(r,l)=>o(t).isNan()?P("",!0):(g(),C("div",Tl,[$(" TPS: "+G(o(Re)(o(t)))+" ",1),p(bn,{name:"fade"},{default:V(()=>[o(a)?(g(),C("span",Fl,G(o(Re)(o(i))),1)):P("",!0)]),_:1})]))}});var Pl=K(Dl,[["__scopeId","data-v-46a3ed5b"]]);var Al=L({__name:"App",setup(e){const t=W.useHeader,n=b(()=>Xt[te.theme].variables),i=tt(te,"showTPS"),a=b(()=>H(Z(()=>p(Y,null,[Ua.map(Be)]))));return(r,l)=>(g(),C(Y,null,[d("div",{id:"modal-root",style:ge(o(n))},null,4),d("div",{class:he(["app",{useHeader:o(t)}]),style:ge(o(n))},[o(t)?(g(),U(vi,{key:0})):P("",!0),p(ss),o(o(i))?(g(),U(Pl,{key:1})):P("",!0),p(_l),p(Il),(g(),U(ce(o(a))))],6)],64))}});var Bl=K(Al,[["__scopeId","data-v-9417972e"]]);function El(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:r}=e;let l,s;const f=async(c=!0)=>{c&&(l==null||l.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()})),s&&s.waiting&&await Oi(s.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){l=new Vi("./sw.js",{scope:"./",type:"classic"}),l.addEventListener("activated",c=>{c.isUpdate||i==null||i()});{const c=()=>{n==null||n()};l.addEventListener("waiting",c),l.addEventListener("externalwaiting",c)}l.register({immediate:t}).then(c=>{s=c,a==null||a(c)}).catch(c=>{r==null||r(c)})}return f}function Vl(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisterError:r}=e,l=A(!1),s=A(!1);return{updateServiceWorker:El({immediate:t,onNeedRefresh(){l.value=!0,n==null||n()},onOfflineReady(){s.value=!0,i==null||i()},onRegistered:a,onRegisterError:r}),offlineReady:s,needRefresh:l}}document.title=W.title;window.projInfo=W;if(W.id==="")throw"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json";requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await Ba();const{globalBus:e,startGameLoop:t}=await Ht(()=>Promise.resolve().then(function(){return Aa}),void 0),n=window.vue=Fi(Bl);e.emit("setupVue",n),n.mount("#app"),qe(()=>{const i=Kn(),{updateServiceWorker:a}=Vl({onNeedRefresh(){i.info("New content available, click or reload to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){a()}})},onOfflineReady(){i.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(r){r&&setInterval(r.update,60*60*1e3)}})}),t()});
